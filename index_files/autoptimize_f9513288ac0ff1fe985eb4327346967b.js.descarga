/*! jQuery Migrate v1.4.1 | (c) jQuery Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],b.console&&b.console.log&&b.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\s*</,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with '<' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{document.querySelector(a),d("Attribute selector with '#' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with '#' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var A=/\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\b(?:"+I+")\\b"),K=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("'ready' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);
var wpAjaxUrl='./wp-admin/admin-ajax.php';var flBuilderUrl='./wp-content/plugins/bb-plugin/';var FLBuilderLayoutConfig={anchorLinkAnimations:{duration:1000,easing:'swing',offset:100},paths:{pluginUrl:'./wp-content/plugins/bb-plugin/',wpAjaxUrl:'./wp-admin/admin-ajax.php'},breakpoints:{small:768,medium:992},waypoint:{offset:80}};(function($){if(typeof FLBuilderLayout!='undefined'){return;}
FLBuilderLayout={init:function()
{FLBuilderLayout._destroy();FLBuilderLayout._initClasses();FLBuilderLayout._initBackgrounds();if(0===$('.fl-builder-edit').length){FLBuilderLayout._initAnchorLinks();FLBuilderLayout._initHash();FLBuilderLayout._initModuleAnimations();FLBuilderLayout._initForms();}},refreshGalleries:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),mfContent=$element.find('.fl-mosaicflow-content'),wmContent=$element.find('.fl-gallery'),mfObject=null;if(mfContent){mfObject=mfContent.data('mosaicflow');if(mfObject){mfObject.columns=$([]);mfObject.columnsHeights=[];mfContent.data('mosaicflow',mfObject);mfContent.mosaicflow('refill');}}
if(wmContent){wmContent.trigger('refreshWookmark');}},refreshGridLayout:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),msnryContent=$element.find('.masonry');if(msnryContent.length){msnryContent.masonry('layout');}},reloadSlider:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),bxContent=$element.find('.bx-viewport > div').eq(0),bxObject=null;if(bxContent.length){bxObject=bxContent.data('bxSlider');if(bxObject){bxObject.reloadSlider();}}},resizeAudio:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),audioPlayers=$element.find('.wp-audio-shortcode.mejs-audio'),player=null,mejsPlayer=null,rail=null,railWidth=400;if(audioPlayers.length&&typeof mejs!=='undefined'){audioPlayers.each(function(){player=$(this);mejsPlayer=mejs.players[player.attr('id')];rail=player.find('.mejs-controls .mejs-time-rail');var innerMejs=player.find('.mejs-inner'),total=player.find('.mejs-controls .mejs-time-total');if(typeof mejsPlayer!=='undefined'){railWidth=Math.ceil(player.width()*0.8);if(innerMejs.length){rail.css('width',railWidth+'px!important');mejsPlayer.options.autosizeProgress=true;setTimeout(function(){mejsPlayer.setControlsSize();},50);player.find('.mejs-inner').css({visibility:'visible',height:'inherit'});}}});}},preloadAudio:function(element)
{var $element='undefined'==typeof element?$('body'):$(element),contentWrap=$element.closest('.fl-accordion-item'),audioPlayers=$element.find('.wp-audio-shortcode.mejs-audio');if(!contentWrap.hasClass('fl-accordion-item-active')&&audioPlayers.find('.mejs-inner').length){audioPlayers.find('.mejs-inner').css({visibility:'hidden',height:0});}},resizeSlideshow:function(){if(typeof YUI!=='undefined'){YUI().use('node-event-simulate',function(Y){Y.one(window).simulate("resize");});}},_destroy:function()
{var win=$(window);win.off('scroll.fl-bg-parallax');win.off('resize.fl-bg-video');},_isTouch:function()
{if(('ontouchstart'in window)||(window.DocumentTouch&&document instanceof DocumentTouch)){return true;}
return false;},_isMobile:function()
{return/Mobile|Android|Silk\/|Kindle|BlackBerry|Opera Mini|Opera Mobi|webOS/i.test(navigator.userAgent);},_initClasses:function()
{var body=$('body'),ua=navigator.userAgent;if(!body.hasClass('archive')&&$('.fl-builder-content-primary').length>0){body.addClass('fl-builder');}
if(FLBuilderLayout._isTouch()){body.addClass('fl-builder-touch');}
if(FLBuilderLayout._isMobile()){body.addClass('fl-builder-mobile');}
if(ua.indexOf('Trident/7.0')>-1&&ua.indexOf('rv:11.0')>-1){body.addClass('fl-builder-ie-11');}},_initBackgrounds:function()
{var win=$(window);if($('.fl-row-bg-parallax').length>0&&!FLBuilderLayout._isMobile()){FLBuilderLayout._scrollParallaxBackgrounds();FLBuilderLayout._initParallaxBackgrounds();win.on('scroll.fl-bg-parallax',FLBuilderLayout._scrollParallaxBackgrounds);}
if($('.fl-bg-video').length>0){FLBuilderLayout._initBgVideos();FLBuilderLayout._resizeBgVideos();win.on('resize.fl-bg-video',FLBuilderLayout._resizeBgVideos);}},_initParallaxBackgrounds:function()
{$('.fl-row-bg-parallax').each(FLBuilderLayout._initParallaxBackground);},_initParallaxBackground:function()
{var row=$(this),content=row.find('> .fl-row-content-wrap'),src=row.data('parallax-image'),loaded=row.data('parallax-loaded'),img=new Image();if(loaded){return;}
else if(typeof src!='undefined'){$(img).on('load',function(){content.css('background-image','url('+src+')');row.data('parallax-loaded',true);});img.src=src;}},_scrollParallaxBackgrounds:function()
{$('.fl-row-bg-parallax').each(FLBuilderLayout._scrollParallaxBackground);},_scrollParallaxBackground:function()
{var win=$(window),row=$(this),content=row.find('> .fl-row-content-wrap'),speed=row.data('parallax-speed'),offset=content.offset(),yPos=-((win.scrollTop()-offset.top)/speed);content.css('background-position','center '+yPos+'px');},_initBgVideos:function()
{$('.fl-bg-video').each(FLBuilderLayout._initBgVideo);},_initBgVideo:function()
{var wrap=$(this),width=wrap.data('width'),height=wrap.data('height'),mp4=wrap.data('mp4'),youtube=wrap.data('youtube'),vimeo=wrap.data('vimeo'),mp4Type=wrap.data('mp4-type'),webm=wrap.data('webm'),webmType=wrap.data('webm-type'),fallback=wrap.data('fallback'),loaded=wrap.data('loaded'),fallbackTag='',videoTag=null,mp4Tag=null,webmTag=null;if(loaded){return;}
videoTag=$('<video autoplay loop muted playsinline></video>');if('undefined'!=typeof fallback&&''!=fallback){videoTag.attr('poster','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')
videoTag.css('background','transparent url("'+fallback+'") no-repeat center center')
videoTag.css('background-size','cover')
videoTag.css('height','100%')}
if('undefined'!=typeof mp4&&''!=mp4){mp4Tag=$('<source />');mp4Tag.attr('src',mp4);mp4Tag.attr('type',mp4Type);videoTag.append(mp4Tag);}
if('undefined'!=typeof webm&&''!=webm){webmTag=$('<source />');webmTag.attr('src',webm);webmTag.attr('type',webmType);videoTag.append(webmTag);}
if('undefined'!=typeof youtube&&!FLBuilderLayout._isMobile()){FLBuilderLayout._initYoutubeBgVideo.apply(this);}
else if('undefined'!=typeof vimeo&&!FLBuilderLayout._isMobile()){FLBuilderLayout._initVimeoBgVideo.apply(this);}
else{wrap.append(videoTag);}
wrap.data('loaded',true);},_initYoutubeBgVideo:function()
{var playerWrap=$(this),videoId=playerWrap.data('video-id'),videoPlayer=playerWrap.find('.fl-bg-video-player'),enableAudio=playerWrap.data('enable-audio'),audioButton=playerWrap.find('.fl-bg-video-audio'),startTime='undefined'!==typeof playerWrap.data('t')?playerWrap.data('t'):0,loop='undefined'!==typeof playerWrap.data('loop')?playerWrap.data('loop'):1,vidPlayed=false,didUnmute=false,stateCount=0,player;if(videoId){FLBuilderLayout._onYoutubeApiReady(function(YT){setTimeout(function(){player=new YT.Player(videoPlayer[0],{videoId:videoId,events:{onReady:function(event){if("no"===enableAudio){event.target.mute();}
else if("yes"===enableAudio&&event.target.isMuted){event.target.unMute();}
playerWrap.data('YTPlayer',player);FLBuilderLayout._resizeYoutubeBgVideo.apply(playerWrap);event.target.playVideo();if(audioButton.length>0){audioButton.on('click',{button:audioButton,player:player},FLBuilderLayout._toggleBgVideoAudio);}},onStateChange:function(event){if(stateCount<4){stateCount++;}
if(stateCount>1&&-1===event.data&&"yes"===enableAudio){player.mute();player.playVideo();audioButton.show();}
if(event.data===YT.PlayerState.ENDED&&1===loop){if(startTime>0){player.seekTo(startTime);}
else{player.playVideo();}}},onError:function(event){console.info('YT Error: '+event.data)
FLBuilderLayout._onErrorYoutubeVimeo(playerWrap)}},playerVars:{controls:0,showinfo:0,rel:0,start:startTime,}});},1);});}},_onErrorYoutubeVimeo:function(playerWrap){fallback=playerWrap.data('fallback')||false
if(!fallback){return false;}
playerWrap.find('iframe').remove()
fallbackTag=$('<div></div>');fallbackTag.addClass('fl-bg-video-fallback');fallbackTag.css('background-image','url('+playerWrap.data('fallback')+')');playerWrap.append(fallbackTag);},_onYoutubeApiReady:function(callback){if(window.YT&&YT.loaded){callback(YT);}else{setTimeout(function(){FLBuilderLayout._onYoutubeApiReady(callback);},350);}},_initVimeoBgVideo:function()
{var playerWrap=$(this),videoId=playerWrap.data('video-id'),videoPlayer=playerWrap.find('.fl-bg-video-player'),enableAudio=playerWrap.data('enable-audio'),audioButton=playerWrap.find('.fl-bg-video-audio'),player,width=playerWrap.outerWidth();if(typeof Vimeo!=='undefined'&&videoId){player=new Vimeo.Player(videoPlayer[0],{id:videoId,loop:true,title:false,portrait:false,background:true,autopause:false,muted:true});playerWrap.data('VMPlayer',player);if("no"===enableAudio){player.setVolume(0);}
else if("yes"===enableAudio){if($.browser.safari||$.browser.chrome){player.setVolume(0);audioButton.show();}
else{player.setVolume(1);}}
player.play().catch(function(error){FLBuilderLayout._onErrorYoutubeVimeo(playerWrap)});if(audioButton.length>0){audioButton.on('click',{button:audioButton,player:player},FLBuilderLayout._toggleBgVideoAudio);}}},_toggleBgVideoAudio:function(e){var player=e.data.player,control=e.data.button.find('.fl-audio-control');if(control.hasClass('fa-volume-off')){control.removeClass('fa-volume-off').addClass('fa-volume-up');e.data.button.find('.fa-times').hide();if('function'===typeof player.unMute){player.unMute();}
else{player.setVolume(1);}}
else{control.removeClass('fa-volume-up').addClass('fa-volume-off');e.data.button.find('.fa-times').show();if('function'===typeof player.unMute){player.mute();}
else{player.setVolume(0);}}},_videoBgSourceError:function(e)
{var source=$(e.target),wrap=source.closest('.fl-bg-video'),vid=wrap.find('video'),fallback=wrap.data('fallback'),fallbackTag='';source.remove();if(vid.find('source').length){return;}else if(''!==fallback){fallbackTag=$('<div></div>');fallbackTag.addClass('fl-bg-video-fallback');fallbackTag.css('background-image','url('+fallback+')');wrap.append(fallbackTag);vid.remove();}},_resizeBgVideos:function()
{$('.fl-bg-video').each(function(){FLBuilderLayout._resizeBgVideo.apply(this);if($(this).parent().find('img').length>0){$(this).parent().imagesLoaded($.proxy(FLBuilderLayout._resizeBgVideo,this));}});},_resizeBgVideo:function()
{if(0===$(this).find('video').length&&0===$(this).find('iframe').length){return;}
var wrap=$(this),wrapHeight=wrap.outerHeight(),wrapWidth=wrap.outerWidth(),vid=wrap.find('video'),vidHeight=wrap.data('height'),vidWidth=wrap.data('width'),newWidth=wrapWidth,newHeight=Math.round(vidHeight*wrapWidth/vidWidth),newLeft=0,newTop=0,iframe=wrap.find('iframe');if(vid.length){if(vidHeight===''||typeof vidHeight==='undefined'||vidWidth===''||typeof vidWidth==='undefined'){vid.css({'left':'0px','top':'0px','width':newWidth+'px'});vid.on('loadedmetadata',FLBuilderLayout._resizeOnLoadedMeta);}
else{if(newHeight<wrapHeight){newHeight=wrapHeight;newWidth=Math.round(vidWidth*wrapHeight/vidHeight);newLeft=-((newWidth-wrapWidth)/2);}
else{newTop=-((newHeight-wrapHeight)/2);}
vid.css({'left':newLeft+'px','top':newTop+'px','height':newHeight+'px','width':newWidth+'px'});}}
else if(iframe.length){if(typeof wrap.data('youtube')!=='undefined'){FLBuilderLayout._resizeYoutubeBgVideo.apply(this);}}},_resizeOnLoadedMeta:function(){var video=$(this),wrapHeight=video.parent().outerHeight(),wrapWidth=video.parent().outerWidth(),vidWidth=video[0].videoWidth,vidHeight=video[0].videoHeight,newHeight=Math.round(vidHeight*wrapWidth/vidWidth),newWidth=wrapWidth,newLeft=0,newTop=0;if(newHeight<wrapHeight){newHeight=wrapHeight;newWidth=Math.round(vidWidth*wrapHeight/vidHeight);newLeft=-((newWidth-wrapWidth)/2);}
else{newTop=-((newHeight-wrapHeight)/2);}
video.parent().data('width',vidWidth);video.parent().data('height',vidHeight);video.css({'left':newLeft+'px','top':newTop+'px','width':newWidth+'px','height':newHeight+'px'});},_resizeYoutubeBgVideo:function()
{var wrap=$(this),wrapWidth=wrap.outerWidth(),wrapHeight=wrap.outerHeight(),player=wrap.data('YTPlayer'),video=player?player.getIframe():null,aspectRatioSetting='16:9',aspectRatioArray=aspectRatioSetting.split(':'),aspectRatio=aspectRatioArray[0]/aspectRatioArray[1],ratioWidth=wrapWidth/aspectRatio,ratioHeight=wrapHeight*aspectRatio,isWidthFixed=wrapWidth/wrapHeight>aspectRatio,width=isWidthFixed?wrapWidth:ratioHeight,height=isWidthFixed?ratioWidth:wrapHeight;if(video){$(video).width(width).height(height);}},_initModuleAnimations:function()
{if(typeof jQuery.fn.waypoint!=='undefined'&&!FLBuilderLayout._isMobile()){$('.fl-animation').each(function(){var node=$(this),nodeTop=node.offset().top,winHeight=$(window).height(),bodyHeight=$('body').height(),waypoint=FLBuilderLayoutConfig.waypoint,offset='80%';if(typeof waypoint.offset!==undefined){offset=FLBuilderLayoutConfig.waypoint.offset+'%';}
if(bodyHeight-nodeTop<winHeight*0.2){offset='100%';}
node.waypoint({offset:offset,handler:FLBuilderLayout._doModuleAnimation});});}},_doModuleAnimation:function()
{var module='undefined'==typeof this.element?$(this):$(this.element),delay=parseFloat(module.data('animation-delay'));if(!isNaN(delay)&&delay>0){setTimeout(function(){module.addClass('fl-animated');},delay*1000);}
else{module.addClass('fl-animated');}},_initHash:function()
{var hash=window.location.hash.replace('#','').split('/').shift(),element=null,tabs=null,responsiveLabel=null,tabIndex=null,label=null;if(''!==hash){try{element=$('#'+hash);if(element.length>0){if(element.hasClass('fl-accordion-item')){setTimeout(function(){element.find('.fl-accordion-button').trigger('click');},100);}
if(element.hasClass('fl-tabs-panel')){setTimeout(function(){tabs=element.closest('.fl-tabs');responsiveLabel=element.find('.fl-tabs-panel-label');tabIndex=responsiveLabel.data('index');label=tabs.find('.fl-tabs-labels .fl-tabs-label[data-index='+tabIndex+']');if(responsiveLabel.is(':visible')){responsiveLabel.trigger('click');}
else{label[0].click();FLBuilderLayout._scrollToElement(element);}},100);}}}
catch(e){}}},_initAnchorLinks:function()
{$('a').each(FLBuilderLayout._initAnchorLink);},_initAnchorLink:function()
{var link=$(this),href=link.attr('href'),loc=window.location,id=null,element=null;if('undefined'!=typeof href&&href.indexOf('#')>-1&&link.closest('svg').length<1){if(loc.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&loc.hostname==this.hostname){try{id=href.split('#').pop();if(!id){return;}
element=$('#'+id);if(element.length>0){if(link.hasClass('fl-scroll-link')||element.hasClass('fl-row')||element.hasClass('fl-col')||element.hasClass('fl-module')){$(link).on('click',FLBuilderLayout._scrollToElementOnLinkClick);}
if(element.hasClass('fl-accordion-item')){$(link).on('click',FLBuilderLayout._scrollToAccordionOnLinkClick);}
if(element.hasClass('fl-tabs-panel')){$(link).on('click',FLBuilderLayout._scrollToTabOnLinkClick);}}}
catch(e){}}}},_scrollToElementOnLinkClick:function(e,callback)
{var element=$('#'+$(this).attr('href').split('#').pop());FLBuilderLayout._scrollToElement(element,callback);e.preventDefault();},_scrollToElement:function(element,callback)
{var config=FLBuilderLayoutConfig.anchorLinkAnimations,dest=0,win=$(window),doc=$(document);if(element.length>0){if(element.offset().top>doc.height()-win.height()){dest=doc.height()-win.height();}
else{dest=element.offset().top-config.offset;}
$('html, body').animate({scrollTop:dest},config.duration,config.easing,function(){if('undefined'!=typeof callback){callback();}
if(undefined!=element.attr('id')){if(history.pushState){history.pushState(null,null,'#'+element.attr('id'));}
else{window.location.hash=element.attr('id');}}});}},_scrollToAccordionOnLinkClick:function(e)
{var element=$('#'+$(this).attr('href').split('#').pop());if(element.length>0){var callback=function(){if(element){element.find('.fl-accordion-button').trigger('click');element=false;}};FLBuilderLayout._scrollToElementOnLinkClick.call(this,e,callback);}},_scrollToTabOnLinkClick:function(e)
{var element=$('#'+$(this).attr('href').split('#').pop()),tabs=null,label=null,responsiveLabel=null;if(element.length>0){tabs=element.closest('.fl-tabs');responsiveLabel=element.find('.fl-tabs-panel-label');tabIndex=responsiveLabel.data('index');label=tabs.find('.fl-tabs-labels .fl-tabs-label[data-index='+tabIndex+']');if(responsiveLabel.is(':visible')){var callback=function(){if(element){responsiveLabel.trigger('click');element=false;}};FLBuilderLayout._scrollToElementOnLinkClick.call(this,e,callback);}
else{label[0].click();FLBuilderLayout._scrollToElement(element);}
e.preventDefault();}},_initForms:function()
{if(!FLBuilderLayout._hasPlaceholderSupport){$('.fl-form-field input').each(FLBuilderLayout._initFormFieldPlaceholderFallback);}
$('.fl-form-field input').on('focus',FLBuilderLayout._clearFormFieldError);},_hasPlaceholderSupport:function()
{var input=document.createElement('input');return'undefined'!=input.placeholder;},_initFormFieldPlaceholderFallback:function()
{var field=$(this),val=field.val(),placeholder=field.attr('placeholder');if('undefined'!=placeholder&&''===val){field.val(placeholder);field.on('focus',FLBuilderLayout._hideFormFieldPlaceholderFallback);field.on('blur',FLBuilderLayout._showFormFieldPlaceholderFallback);}},_hideFormFieldPlaceholderFallback:function()
{var field=$(this),val=field.val(),placeholder=field.attr('placeholder');if(val==placeholder){field.val('');}},_showFormFieldPlaceholderFallback:function()
{var field=$(this),val=field.val(),placeholder=field.attr('placeholder');if(''===val){field.val(placeholder);}},_clearFormFieldError:function()
{var field=$(this);field.removeClass('fl-form-error');field.siblings('.fl-form-error-message').hide();}};$(function(){FLBuilderLayout.init();});})(jQuery);jQuery(function($){$(function(){$('.fl-node-5b3e76ffd57b2 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e7614a77cf .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e731ed72b5 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e741e450d3 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e74a54d2e4 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e74a54d4c8 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e778d33bcf .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e74a54d673 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5bd39c7c3ef28 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e7895ce403 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});jQuery(function($){$(function(){$('.fl-node-5b3e7895ce4a9 .fl-photo-img').on('mouseenter',function(e){$(this).data('title',$(this).attr('title')).removeAttr('title');}).on('mouseleave',function(e){$(this).attr('title',$(this).data('title')).data('title',null);});});});
jQuery(function(e){if("undefined"==typeof wc_add_to_cart_params)return!1;var t=function(){e(document.body).on("click",".add_to_cart_button",this.onAddToCart).on("click",".remove_from_cart_button",this.onRemoveFromCart).on("added_to_cart",this.updateButton).on("added_to_cart",this.updateCartPage).on("added_to_cart removed_from_cart",this.updateFragments)};t.prototype.onAddToCart=function(t){var a=e(this);if(a.is(".ajax_add_to_cart")){if(!a.attr("data-product_id"))return!0;t.preventDefault(),a.removeClass("added"),a.addClass("loading");var o={};e.each(a.data(),function(t,a){o[t]=a}),e(document.body).trigger("adding_to_cart",[a,o]),e.post(wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),o,function(t){t&&(t.error&&t.product_url?window.location=t.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?e(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a]):window.location=wc_add_to_cart_params.cart_url)})}},t.prototype.onRemoveFromCart=function(t){var a=e(this),o=a.closest(".woocommerce-mini-cart-item");t.preventDefault(),o.block({message:null,overlayCSS:{opacity:.6}}),e.post(wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","remove_from_cart"),{cart_item_key:a.data("cart_item_key")},function(t){t&&t.fragments?e(document.body).trigger("removed_from_cart",[t.fragments,t.cart_hash]):window.location=a.attr("href")}).fail(function(){window.location=a.attr("href")})},t.prototype.updateButton=function(t,a,o,r){(r=void 0!==r&&r)&&(r.removeClass("loading"),r.addClass("added"),wc_add_to_cart_params.is_cart||0!==r.parent().find(".added_to_cart").length||r.after(' <a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+wc_add_to_cart_params.i18n_view_cart+"</a>"),e(document.body).trigger("wc_cart_button_updated",[r]))},t.prototype.updateCartPage=function(){var t=window.location.toString().replace("add-to-cart","added-to-cart");e(".shop_table.cart").load(t+" .shop_table.cart:eq(0) > *",function(){e(".shop_table.cart").stop(!0).css("opacity","1").unblock(),e(document.body).trigger("cart_page_refreshed")}),e(".cart_totals").load(t+" .cart_totals:eq(0) > *",function(){e(".cart_totals").stop(!0).css("opacity","1").unblock(),e(document.body).trigger("cart_totals_refreshed")})},t.prototype.updateFragments=function(t,a){a&&(e.each(a,function(t){e(t).addClass("updating").fadeTo("400","0.6").block({message:null,overlayCSS:{opacity:.6}})}),e.each(a,function(t,a){e(t).replaceWith(a),e(t).stop(!0).css("opacity","1").unblock()}),e(document.body).trigger("wc_fragments_loaded"))},new t});
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
!function(){"use strict";function e(e){function t(t,n){var s,h,k=t==window,y=n&&n.message!==undefined?n.message:undefined;if(!(n=e.extend({},e.blockUI.defaults,n||{})).ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(n.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,n.overlayCSS||{}),s=e.extend({},e.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),h=e.extend({},e.blockUI.defaults.themedCSS,n.themedCSS||{}),y=y===undefined?n.message:y,k&&p&&o(window,{fadeOut:0}),y&&"string"!=typeof y&&(y.parentNode||y.jquery)){var m=y.jquery?y[0]:y,g={};e(t).data("blockUI.history",g),g.el=m,g.parent=m.parentNode,g.display=m.style.display,g.position=m.style.position,g.parent&&g.parent.removeChild(m)}e(t).data("blockUI.onUnblock",n.onUnblock);var v,I,w,U,x=n.baseZ;v=e(r||n.forceIframe?'<iframe class="blockUI" style="z-index:'+x+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),I=e(n.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+x+++';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+x+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&k?(U='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(x+10)+';display:none;position:fixed">',n.title&&(U+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),U+='<div class="ui-widget-content ui-dialog-content"></div>',U+="</div>"):n.theme?(U='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(x+10)+';display:none;position:absolute">',n.title&&(U+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),U+='<div class="ui-widget-content ui-dialog-content"></div>',U+="</div>"):U=k?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(x+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(x+10)+';display:none;position:absolute"></div>',w=e(U),y&&(n.theme?(w.css(h),w.addClass("ui-widget-content")):w.css(s)),n.theme||I.css(n.overlayCSS),I.css("position",k?"fixed":"absolute"),(r||n.forceIframe)&&v.css("opacity",0);var C=[v,I,w],S=e(k?"body":t);e.each(C,function(){this.appendTo(S)}),n.theme&&n.draggable&&e.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var O=f&&(!e.support.boxModel||e("object,embed",k?null:t).length>0);if(u||O){if(k&&n.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(u||!e.support.boxModel)&&!k)var E=a(t,"borderTopWidth"),T=a(t,"borderLeftWidth"),M=E?"(0 - "+E+")":0,B=T?"(0 - "+T+")":0;e.each(C,function(e,t){var o=t[0].style;if(o.position="absolute",e<2)k?o.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):o.setExpression("height",'this.parentNode.offsetHeight + "px"'),k?o.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):o.setExpression("width",'this.parentNode.offsetWidth + "px"'),B&&o.setExpression("left",B),M&&o.setExpression("top",M);else if(n.centerY)k&&o.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),o.marginTop=0;else if(!n.centerY&&k){var i="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(n.css&&n.css.top?parseInt(n.css.top,10):0)+') + "px"';o.setExpression("top",i)}})}if(y&&(n.theme?w.find(".ui-widget-content").append(y):w.append(y),(y.jquery||y.nodeType)&&e(y).show()),(r||n.forceIframe)&&n.showOverlay&&v.show(),n.fadeIn){var j=n.onBlock?n.onBlock:c,H=n.showOverlay&&!y?j:c,z=y?j:c;n.showOverlay&&I._fadeIn(n.fadeIn,H),y&&w._fadeIn(n.fadeIn,z)}else n.showOverlay&&I.show(),y&&w.show(),n.onBlock&&n.onBlock.bind(w)();if(i(1,t,n),k?(p=w[0],b=e(n.focusableElements,p),n.focusInput&&setTimeout(l,20)):d(w[0],n.centerX,n.centerY),n.timeout){var W=setTimeout(function(){k?e.unblockUI(n):e(t).unblock(n)},n.timeout);e(t).data("blockUI.timeout",W)}}}function o(t,o){var s,l=t==window,d=e(t),a=d.data("blockUI.history"),c=d.data("blockUI.timeout");c&&(clearTimeout(c),d.removeData("blockUI.timeout")),o=e.extend({},e.blockUI.defaults,o||{}),i(0,t,o),null===o.onUnblock&&(o.onUnblock=d.data("blockUI.onUnblock"),d.removeData("blockUI.onUnblock"));var r;r=l?e(document.body).children().filter(".blockUI").add("body > .blockUI"):d.find(">.blockUI"),o.cursorReset&&(r.length>1&&(r[1].style.cursor=o.cursorReset),r.length>2&&(r[2].style.cursor=o.cursorReset)),l&&(p=b=null),o.fadeOut?(s=r.length,r.stop().fadeOut(o.fadeOut,function(){0==--s&&n(r,a,o,t)})):n(r,a,o,t)}function n(t,o,n,i){var s=e(i);if(!s.data("blockUI.isBlocked")){t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),o&&o.el&&(o.el.style.display=o.display,o.el.style.position=o.position,o.el.style.cursor="default",o.parent&&o.parent.appendChild(o.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(i,n);var l=e(document.body),d=l.width(),a=l[0].style.width;l.width(d-1).width(d),l[0].style.width=a}}function i(t,o,n){var i=o==window,l=e(o);if((t||(!i||p)&&(i||l.data("blockUI.isBlocked")))&&(l.data("blockUI.isBlocked",t),i&&n.bindEvents&&(!t||n.showOverlay))){var d="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(d,n,s):e(document).unbind(d,s)}}function s(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&p&&t.data.constrainTabKey){var o=b,n=!t.shiftKey&&t.target===o[o.length-1],i=t.shiftKey&&t.target===o[0];if(n||i)return setTimeout(function(){l(i)},10),!1}var s=t.data,d=e(t.target);return d.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(t),d.parents("div."+s.blockMsgClass).length>0||0===d.parents().children().filter("div.blockUI").length}function l(e){if(b){var t=b[!0===e?b.length-1:0];t&&t.focus()}}function d(e,t,o){var n=e.parentNode,i=e.style,s=(n.offsetWidth-e.offsetWidth)/2-a(n,"borderLeftWidth"),l=(n.offsetHeight-e.offsetHeight)/2-a(n,"borderTopWidth");t&&(i.left=s>0?s+"px":"0"),o&&(i.top=l>0?l+"px":"0")}function a(t,o){return parseInt(e.css(t,o),10)||0}e.fn._fadeIn=e.fn.fadeIn;var c=e.noop||function(){},r=/MSIE/.test(navigator.userAgent),u=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),f=(document.documentMode,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){o(window,e)},e.growlUI=function(t,o,n,i){var s=e('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),o&&s.append("<h2>"+o+"</h2>"),n===undefined&&(n=3e3);var l=function(t){t=t||{},e.blockUI({message:s,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:n,centerY:!1,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})};l();s.css("opacity");s.mouseover(function(){l({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(o){if(this[0]===window)return e.blockUI(o),this;var n=e.extend({},e.blockUI.defaults,o||{});return this.each(function(){var t=e(this);n.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,o)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){o(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,b=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}();
/*!
 * JavaScript Cookie v2.1.4
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
!function(e){var n=!1;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var o=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=o,t}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,r,i){var c;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},t.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{c=JSON.stringify(r),/^[\{\[]/.test(c)&&(r=c)}catch(m){}r=o.write?o.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=(n=(n=encodeURIComponent(String(n))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var f="";for(var s in i)i[s]&&(f+="; "+s,!0!==i[s]&&(f+="="+i[s]));return document.cookie=n+"="+r+f}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,u=0;u<p.length;u++){var l=p[u].split("="),C=l.slice(1).join("=");'"'===C.charAt(0)&&(C=C.slice(1,-1));try{var g=l[0].replace(d,decodeURIComponent);if(C=o.read?o.read(C,g):o(C,g)||C.replace(d,decodeURIComponent),this.json)try{C=JSON.parse(C)}catch(m){}if(n===g){c=C;break}n||(c[g]=C)}catch(m){}}return c}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})});
jQuery(function(i){i(".woocommerce-ordering").on("change","select.orderby",function(){i(this).closest("form").submit()}),i("input.qty:not(.product-quantity input.qty)").each(function(){var o=parseFloat(i(this).attr("min"));0<=o&&parseFloat(i(this).val())<o&&i(this).val(o)}),i(".woocommerce-store-notice__dismiss-link").click(function(){Cookies.set("store_notice","hidden",{path:"/"}),i(".woocommerce-store-notice").hide()}),"hidden"===Cookies.get("store_notice")?i(".woocommerce-store-notice").hide():i(".woocommerce-store-notice").show(),i(document.body).on("click",function(){i(".woocommerce-input-wrapper span.description:visible").prop("aria-hidden",!0).slideUp(250)}),i(".woocommerce-input-wrapper").on("click",function(o){o.stopPropagation()}),i(".woocommerce-input-wrapper :input").on("keydown",function(o){var e=i(this).parent().find("span.description");if(27===o.which&&e.length&&e.is(":visible"))return e.prop("aria-hidden",!0).slideUp(250),o.preventDefault(),!1}).on("click focus",function(){var o=i(this).parent(),e=o.find("span.description");o.addClass("currentTarget"),i(".woocommerce-input-wrapper:not(.currentTarget) span.description:visible").prop("aria-hidden",!0).slideUp(250),e.length&&e.is(":hidden")&&e.prop("aria-hidden",!1).slideDown(250),o.removeClass("currentTarget")}),i.scroll_to_notices=function(o){o.length&&i("html, body").animate({scrollTop:o.offset().top-100},1e3)}});
jQuery(function(n){if("undefined"==typeof wc_cart_fragments_params)return!1;var t=!0,o=wc_cart_fragments_params.cart_hash_key;try{t="sessionStorage"in window&&null!==window.sessionStorage,window.sessionStorage.setItem("wc","test"),window.sessionStorage.removeItem("wc"),window.localStorage.setItem("wc","test"),window.localStorage.removeItem("wc")}catch(w){t=!1}function a(){t&&sessionStorage.setItem("wc_cart_created",(new Date).getTime())}function s(e){t&&(localStorage.setItem(o,e),sessionStorage.setItem(o,e))}var e={url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),type:"POST",success:function(e){e&&e.fragments&&(n.each(e.fragments,function(e,t){n(e).replaceWith(t)}),t&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(e.fragments)),s(e.cart_hash),e.cart_hash&&a()),n(document.body).trigger("wc_fragments_refreshed"))}};function r(){n.ajax(e)}if(t){var i=null;n(document.body).on("wc_fragment_refresh updated_wc_div",function(){r()}),n(document.body).on("added_to_cart removed_from_cart",function(e,t,n){var r=sessionStorage.getItem(o);null!==r&&r!==undefined&&""!==r||a(),sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(t)),s(n)}),n(document.body).on("wc_fragments_refreshed",function(){clearTimeout(i),i=setTimeout(r,864e5)}),n(window).on("storage onstorage",function(e){o===e.originalEvent.key&&localStorage.getItem(o)!==sessionStorage.getItem(o)&&r()}),n(window).on("pageshow",function(e){e.originalEvent.persisted&&(n(".widget_shopping_cart_content").empty(),n(document.body).trigger("wc_fragment_refresh"))});try{var c=n.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name)),_=sessionStorage.getItem(o),g=Cookies.get("woocommerce_cart_hash"),m=sessionStorage.getItem("wc_cart_created");if(null!==_&&_!==undefined&&""!==_||(_=""),null!==g&&g!==undefined&&""!==g||(g=""),_&&(null===m||m===undefined||""===m))throw"No cart_created";if(m){var d=1*m+864e5,f=(new Date).getTime();if(d<f)throw"Fragment expired";i=setTimeout(r,d-f)}if(!c||!c["div.widget_shopping_cart_content"]||_!==g)throw"No fragment";n.each(c,function(e,t){n(e).replaceWith(t)}),n(document.body).trigger("wc_fragments_loaded")}catch(w){r()}}else r();0<Cookies.get("woocommerce_items_in_cart")?n(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show():n(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").hide(),n(document.body).on("adding_to_cart",function(){n(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show()})});

(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);

(function(a){var b="Close",c="BeforeClose",d="AfterClose",e="BeforeAppend",f="MarkupParse",g="Open",h="Change",i="mfp",j="."+i,k="mfp-ready",l="mfp-removing",m="mfp-prevent-close",n,o=function(){},p=!!window.jQuery,q,r=a(window),s,t,u,v,w,x=function(a,b){n.ev.on(i+a+j,b)},y=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(b,c){n.ev.triggerHandler(i+b,c),n.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),n.st.callbacks[b]&&n.st.callbacks[b].apply(n,a.isArray(c)?c:[c]))},A=function(b){if(b!==w||!n.currTemplate.closeBtn)n.currTemplate.closeBtn=a(n.st.closeMarkup.replace("%title%",n.st.tClose)),w=b;return n.currTemplate.closeBtn},B=function(){a.magnificPopup.instance||(n=new o,n.init(),a.magnificPopup.instance=n)},C=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(a.transition!==undefined)return!0;while(b.length)if(b.pop()+"Transition"in a)return!0;return!1};o.prototype={constructor:o,init:function(){var b=navigator.appVersion;n.isIE7=b.indexOf("MSIE 7.")!==-1,n.isIE8=b.indexOf("MSIE 8.")!==-1,n.isLowIE=n.isIE7||n.isIE8,n.isAndroid=/android/gi.test(b),n.isIOS=/iphone|ipad|ipod/gi.test(b),n.supportsTransition=C(),n.probablyMobile=n.isAndroid||n.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),s=a(document.body),t=a(document),n.popupsCache={}},open:function(b){var c;if(b.isObj===!1){n.items=b.items.toArray(),n.index=0;var d=b.items,e;for(c=0;c<d.length;c++){e=d[c],e.parsed&&(e=e.el[0]);if(e===b.el[0]){n.index=c;break}}}else n.items=a.isArray(b.items)?b.items:[b.items],n.index=b.index||0;if(n.isOpen){n.updateItemHTML();return}n.types=[],v="",b.mainEl&&b.mainEl.length?n.ev=b.mainEl.eq(0):n.ev=t,b.key?(n.popupsCache[b.key]||(n.popupsCache[b.key]={}),n.currTemplate=n.popupsCache[b.key]):n.currTemplate={},n.st=a.extend(!0,{},a.magnificPopup.defaults,b),n.fixedContentPos=n.st.fixedContentPos==="auto"?!n.probablyMobile:n.st.fixedContentPos,n.st.modal&&(n.st.closeOnContentClick=!1,n.st.closeOnBgClick=!1,n.st.showCloseBtn=!1,n.st.enableEscapeKey=!1),n.bgOverlay||(n.bgOverlay=y("bg").on("click"+j,function(){n.close()}),n.wrap=y("wrap").attr("tabindex",-1).on("click"+j,function(a){n._checkIfClose(a.target)&&n.close()}),n.container=y("container",n.wrap)),n.contentContainer=y("content"),n.st.preloader&&(n.preloader=y("preloader",n.container,n.st.tLoading));var h=a.magnificPopup.modules;for(c=0;c<h.length;c++){var i=h[c];i=i.charAt(0).toUpperCase()+i.slice(1),n["init"+i].call(n)}z("BeforeOpen"),n.st.showCloseBtn&&(n.st.closeBtnInside?(x(f,function(a,b,c,d){c.close_replaceWith=A(d.type)}),v+=" mfp-close-btn-in"):n.wrap.append(A())),n.st.alignTop&&(v+=" mfp-align-top"),n.fixedContentPos?n.wrap.css({overflow:n.st.overflowY,overflowX:"hidden",overflowY:n.st.overflowY}):n.wrap.css({top:r.scrollTop(),position:"absolute"}),(n.st.fixedBgPos===!1||n.st.fixedBgPos==="auto"&&!n.fixedContentPos)&&n.bgOverlay.css({height:t.height(),position:"absolute"}),n.st.enableEscapeKey&&t.on("keyup"+j,function(a){a.keyCode===27&&n.close()}),r.on("resize"+j,function(){n.updateSize()}),n.st.closeOnContentClick||(v+=" mfp-auto-cursor"),v&&n.wrap.addClass(v);var l=n.wH=r.height(),m={};if(n.fixedContentPos&&n._hasScrollBar(l)){var o=n._getScrollbarSize();o&&(m.marginRight=o)}n.fixedContentPos&&(n.isIE7?a("body, html").css("overflow","hidden"):m.overflow="hidden");var p=n.st.mainClass;return n.isIE7&&(p+=" mfp-ie7"),p&&n._addClassToMFP(p),n.updateItemHTML(),z("BuildControls"),a("html").css(m),n.bgOverlay.add(n.wrap).prependTo(document.body),n._lastFocusedEl=document.activeElement,setTimeout(function(){n.content?(n._addClassToMFP(k),n._setFocus()):n.bgOverlay.addClass(k),t.on("focusin"+j,n._onFocusIn)},16),n.isOpen=!0,n.updateSize(l),z(g),b},close:function(){if(!n.isOpen)return;z(c),n.isOpen=!1,n.st.removalDelay&&!n.isLowIE&&n.supportsTransition?(n._addClassToMFP(l),setTimeout(function(){n._close()},n.st.removalDelay)):n._close()},_close:function(){z(b);var c=l+" "+k+" ";n.bgOverlay.detach(),n.wrap.detach(),n.container.empty(),n.st.mainClass&&(c+=n.st.mainClass+" "),n._removeClassFromMFP(c);if(n.fixedContentPos){var e={marginRight:""};n.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}t.off("keyup"+j+" focusin"+j),n.ev.off(j),n.wrap.attr("class","mfp-wrap").removeAttr("style"),n.bgOverlay.attr("class","mfp-bg"),n.container.attr("class","mfp-container"),n.st.showCloseBtn&&(!n.st.closeBtnInside||n.currTemplate[n.currItem.type]===!0)&&n.currTemplate.closeBtn&&n.currTemplate.closeBtn.detach(),n._lastFocusedEl&&a(n._lastFocusedEl).focus(),n.currItem=null,n.content=null,n.currTemplate=null,n.prevHeight=0,z(d)},updateSize:function(a){if(n.isIOS){var b=document.documentElement.clientWidth/window.innerWidth,c=window.innerHeight*b;n.wrap.css("height",c),n.wH=c}else n.wH=a||r.height();n.fixedContentPos||n.wrap.css("height",n.wH),z("Resize")},updateItemHTML:function(){var b=n.items[n.index];n.contentContainer.detach(),n.content&&n.content.detach(),b.parsed||(b=n.parseEl(n.index));var c=b.type;z("BeforeChange",[n.currItem?n.currItem.type:"",c]),n.currItem=b;if(!n.currTemplate[c]){var d=n.st[c]?n.st[c].markup:!1;z("FirstMarkupParse",d),d?n.currTemplate[c]=a(d):n.currTemplate[c]=!0}u&&u!==b.type&&n.container.removeClass("mfp-"+u+"-holder");var e=n["get"+c.charAt(0).toUpperCase()+c.slice(1)](b,n.currTemplate[c]);n.appendContent(e,c),b.preloaded=!0,z(h,b),u=b.type,n.container.prepend(n.contentContainer),z("AfterChange")},appendContent:function(a,b){n.content=a,a?n.st.showCloseBtn&&n.st.closeBtnInside&&n.currTemplate[b]===!0?n.content.find(".mfp-close").length||n.content.append(A()):n.content=a:n.content="",z(e),n.container.addClass("mfp-"+b+"-holder"),n.contentContainer.append(n.content)},parseEl:function(b){var c=n.items[b],d=c.type;c.tagName?c={el:a(c)}:c={data:c,src:c.src};if(c.el){var e=n.types;for(var f=0;f<e.length;f++)if(c.el.hasClass("mfp-"+e[f])){d=e[f];break}c.src=c.el.attr("data-mfp-src"),c.src||(c.src=c.el.attr("href"))}return c.type=d||n.st.type||"inline",c.index=b,c.parsed=!0,n.items[b]=c,z("ElementParse",c),n.items[b]},addGroup:function(a,b){var c=function(c){c.mfpEl=this,n._openClick(c,a,b)};b||(b={});var d="click.magnificPopup";b.mainEl=a,b.items?(b.isObj=!0,a.off(d).on(d,c)):(b.isObj=!1,b.delegate?a.off(d).on(d,b.delegate,c):(b.items=a,a.off(d).on(d,c)))},_openClick:function(b,c,d){var e=d.midClick!==undefined?d.midClick:a.magnificPopup.defaults.midClick;if(!e&&(b.which===2||b.ctrlKey||b.metaKey))return;var f=d.disableOn!==undefined?d.disableOn:a.magnificPopup.defaults.disableOn;if(f)if(a.isFunction(f)){if(!f.call(n))return!0}else if(r.width()<f)return!0;b.type&&(b.preventDefault(),n.isOpen&&b.stopPropagation()),d.el=a(b.mfpEl),d.delegate&&(d.items=c.find(d.delegate)),n.open(d)},updateStatus:function(a,b){if(n.preloader){q!==a&&n.container.removeClass("mfp-s-"+q),!b&&a==="loading"&&(b=n.st.tLoading);var c={status:a,text:b};z("UpdateStatus",c),a=c.status,b=c.text,n.preloader.html(b),n.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),n.container.addClass("mfp-s-"+a),q=a}},_checkIfClose:function(b){if(a(b).hasClass(m))return;var c=n.st.closeOnContentClick,d=n.st.closeOnBgClick;if(c&&d)return!0;if(!n.content||a(b).hasClass("mfp-close")||n.preloader&&b===n.preloader[0])return!0;if(b!==n.content[0]&&!a.contains(n.content[0],b)){if(d&&a.contains(document,b))return!0}else if(c)return!0;return!1},_addClassToMFP:function(a){n.bgOverlay.addClass(a),n.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),n.wrap.removeClass(a)},_hasScrollBar:function(a){return(n.isIE7?t.height():document.body.scrollHeight)>(a||r.height())},_setFocus:function(){(n.st.focus?n.content.find(n.st.focus).eq(0):n.wrap).focus()},_onFocusIn:function(b){if(b.target!==n.wrap[0]&&!a.contains(n.wrap[0],b.target))return n._setFocus(),!1},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(f,[b,c,d]),a.each(c,function(a,c){if(c===undefined||c===!1)return!0;e=a.split("_");if(e.length>1){var d=b.find(j+"-"+e[0]);if(d.length>0){var f=e[1];f==="replaceWith"?d[0]!==c[0]&&d.replaceWith(c):f==="img"?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(e[1],c)}}else b.find(j+"-"+a).html(c)})},_getScrollbarSize:function(){if(n.scrollbarSize===undefined){var a=document.createElement("div");a.id="mfp-sbm",a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),n.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return n.scrollbarSize}},a.magnificPopup={instance:null,proto:o.prototype,modules:[],open:function(b,c){return B(),b?b=a.extend(!0,{},b):b={},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(b){B();var c=a(this);if(typeof b=="string")if(b==="open"){var d,e=p?c.data("magnificPopup"):c[0].magnificPopup,f=parseInt(arguments[1],10)||0;e.items?d=e.items[f]:(d=c,e.delegate&&(d=d.find(e.delegate)),d=d.eq(f)),n._openClick({mfpEl:d},c,e)}else n.isOpen&&n[b].apply(n,Array.prototype.slice.call(arguments,1));else b=a.extend(!0,{},b),p?c.data("magnificPopup",b):c[0].magnificPopup=b,n.addGroup(c,b);return c};var D="inline",E,F,G,H=function(){G&&(F.after(G.addClass(E)).detach(),G=null)};a.magnificPopup.registerModule(D,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){n.types.push(D),x(b+"."+D,function(){H()})},getInline:function(b,c){H();if(b.src){var d=n.st.inline,e=a(b.src);if(e.length){var f=e[0].parentNode;f&&f.tagName&&(F||(E=d.hiddenClass,F=y(E),E="mfp-"+E),G=e.after(F).detach().removeClass(E)),n.updateStatus("ready")}else n.updateStatus("error",d.tNotFound),e=a("<div>");return b.inlineElement=e,e}return n.updateStatus("ready"),n._parseMarkup(c,{},b),c}}});var I="ajax",J,K=function(){J&&s.removeClass(J)},L=function(){K(),n.req&&n.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){n.types.push(I),J=n.st.ajax.cursor,x(b+"."+I,L),x("BeforeChange."+I,L)},getAjax:function(b){J&&s.addClass(J),n.updateStatus("loading");var c=a.extend({url:b.src,success:function(c,d,e){var f={data:c,xhr:e};z("ParseAjax",f),n.appendContent(a(f.data),I),b.finished=!0,K(),n._setFocus(),setTimeout(function(){n.wrap.addClass(k)},16),n.updateStatus("ready"),z("AjaxContentAdded")},error:function(){K(),b.finished=b.loadError=!0,n.updateStatus("error",n.st.ajax.tError.replace("%url%",b.src))}},n.st.ajax.settings);return n.req=a.ajax(c),""}}});var M,N=function(b){if(b.data&&b.data.title!==undefined)return b.data.title;var c=n.st.image.titleSrc;if(c){if(a.isFunction(c))return c.call(n,b);if(b.el)return b.el.attr(c)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=n.st.image,c=".image";n.types.push("image"),x(g+c,function(){n.currItem.type==="image"&&a.cursor&&s.addClass(a.cursor)}),x(b+c,function(){a.cursor&&s.removeClass(a.cursor),r.off("resize"+j)}),x("Resize"+c,n.resizeImage),n.isLowIE&&x("AfterChange",n.resizeImage)},resizeImage:function(){var a=n.currItem;if(!a||!a.img)return;if(n.st.image.verticalFit){var b=0;n.isLowIE&&(b=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",n.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,M&&clearInterval(M),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(n.content&&n.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var b=0,c=a.img[0],d=function(e){M&&clearInterval(M),M=setInterval(function(){if(c.naturalWidth>0){n._onImageHasSize(a);return}b>200&&clearInterval(M),b++,b===3?d(10):b===40?d(50):b===100&&d(500)},e)};d(1)},getImage:function(b,c){var d=0,e=function(){b&&(b.img[0].complete?(b.img.off(".mfploader"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus("ready")),b.hasSize=!0,b.loaded=!0,z("ImageLoadComplete")):(d++,d<200?setTimeout(e,100):f()))},f=function(){b&&(b.img.off(".mfploader"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus("error",g.tError.replace("%url%",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},g=n.st.image,h=c.find(".mfp-img");if(h.length){var i=document.createElement("img");i.className="mfp-img",b.img=a(i).on("load.mfploader",e).on("error.mfploader",f),i.src=b.src,h.is("img")&&(b.img=b.img.clone()),b.img[0].naturalWidth>0&&(b.hasSize=!0)}return n._parseMarkup(c,{title:N(b),img_replaceWith:b.img},b),n.resizeImage(),b.hasSize?(M&&clearInterval(M),b.loadError?(c.addClass("mfp-loading"),n.updateStatus("error",g.tError.replace("%url%",b.src))):(c.removeClass("mfp-loading"),n.updateStatus("ready")),c):(n.updateStatus("loading"),b.loading=!0,b.hasSize||(b.imgHidden=!0,c.addClass("mfp-loading"),n.findImageSize(b)),c)}}});var O,P=function(){return O===undefined&&(O=document.createElement("p").style.MozTransform!==undefined),O};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a=n.st.zoom,d=".zoom",e;if(!a.enabled||!n.supportsTransition)return;var f=a.duration,g=function(b){var c=b.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+a.duration/1e3+"s "+a.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,c.css(e),c},h=function(){n.content.css("visibility","visible")},i,j;x("BuildControls"+d,function(){if(n._allowZoom()){clearTimeout(i),n.content.css("visibility","hidden"),e=n._getItemToZoom();if(!e){h();return}j=g(e),j.css(n._getOffset()),n.wrap.append(j),i=setTimeout(function(){j.css(n._getOffset(!0)),i=setTimeout(function(){h(),setTimeout(function(){j.remove(),e=j=null,z("ZoomAnimationEnded")},16)},f)},16)}}),x(c+d,function(){if(n._allowZoom()){clearTimeout(i),n.st.removalDelay=f;if(!e){e=n._getItemToZoom();if(!e)return;j=g(e)}j.css(n._getOffset(!0)),n.wrap.append(j),n.content.css("visibility","hidden"),setTimeout(function(){j.css(n._getOffset())},16)}}),x(b+d,function(){n._allowZoom()&&(h(),j&&j.remove(),e=null)})},_allowZoom:function(){return n.currItem.type==="image"},_getItemToZoom:function(){return n.currItem.hasSize?n.currItem.img:!1},_getOffset:function(b){var c;b?c=n.currItem.img:c=n.st.zoom.opener(n.currItem.el||n.currItem);var d=c.offset(),e=parseInt(c.css("padding-top"),10),f=parseInt(c.css("padding-bottom"),10);d.top-=a(window).scrollTop()-e;var g={width:c.width(),height:(p?c.innerHeight():c[0].offsetHeight)-f-e};return P()?g["-moz-transform"]=g.transform="translate("+d.left+"px,"+d.top+"px)":(g.left=d.left,g.top=d.top),g}}});var Q="iframe",R="//about:blank",S=function(a){if(n.currTemplate[Q]){var b=n.currTemplate[Q].find("iframe");b.length&&(a||(b[0].src=R),n.isIE8&&b.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(Q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){n.types.push(Q),x("BeforeChange",function(a,b,c){b!==c&&(b===Q?S():c===Q&&S(!0))}),x(b+"."+Q,function(){S()})},getIframe:function(b,c){var d=b.src,e=n.st.iframe;a.each(e.patterns,function(){if(d.indexOf(this.index)>-1)return this.id&&(typeof this.id=="string"?d=d.substr(d.lastIndexOf(this.id)+this.id.length,d.length):d=this.id.call(this,d)),d=this.src.replace("%id%",d),!1});var f={};return e.srcAction&&(f[e.srcAction]=d),n._parseMarkup(c,f,b),n.updateStatus("ready"),c}}});var T=function(a){var b=n.items.length;return a>b-1?a-b:a<0?b+a:a},U=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=n.st.gallery,d=".mfp-gallery",e=Boolean(a.fn.mfpFastClick);n.direction=!0;if(!c||!c.enabled)return!1;v+=" mfp-gallery",x(g+d,function(){c.navigateByImgClick&&n.wrap.on("click"+d,".mfp-img",function(){if(n.items.length>1)return n.next(),!1}),t.on("keydown"+d,function(a){a.keyCode===37?n.prev():a.keyCode===39&&n.next()})}),x("UpdateStatus"+d,function(a,b){b.text&&(b.text=U(b.text,n.currItem.index,n.items.length))}),x(f+d,function(a,b,d,e){var f=n.items.length;d.counter=f>1?U(c.tCounter,e.index,f):""}),x("BuildControls"+d,function(){if(n.items.length>1&&c.arrows&&!n.arrowLeft){var b=c.arrowMarkup,d=n.arrowLeft=a(b.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(m),f=n.arrowRight=a(b.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(m),g=e?"mfpFastClick":"click";d[g](function(){n.prev()}),f[g](function(){n.next()}),n.isIE7&&(y("b",d[0],!1,!0),y("a",d[0],!1,!0),y("b",f[0],!1,!0),y("a",f[0],!1,!0)),n.container.append(d.add(f))}}),x(h+d,function(){n._preloadTimeout&&clearTimeout(n._preloadTimeout),n._preloadTimeout=setTimeout(function(){n.preloadNearbyImages(),n._preloadTimeout=null},16)}),x(b+d,function(){t.off(d),n.wrap.off("click"+d),n.arrowLeft&&e&&n.arrowLeft.add(n.arrowRight).destroyMfpFastClick(),n.arrowRight=n.arrowLeft=null})},next:function(){n.direction=!0,n.index=T(n.index+1),n.updateItemHTML()},prev:function(){n.direction=!1,n.index=T(n.index-1),n.updateItemHTML()},goTo:function(a){n.direction=a>=n.index,n.index=a,n.updateItemHTML()},preloadNearbyImages:function(){var a=n.st.gallery.preload,b=Math.min(a[0],n.items.length),c=Math.min(a[1],n.items.length),d;for(d=1;d<=(n.direction?c:b);d++)n._preloadItem(n.index+d);for(d=1;d<=(n.direction?b:c);d++)n._preloadItem(n.index-d)},_preloadItem:function(b){b=T(b);if(n.items[b].preloaded)return;var c=n.items[b];c.parsed||(c=n.parseEl(b)),z("LazyLoad",c),c.type==="image"&&(c.img=a('<img class="mfp-img" />').on("load.mfploader",function(){c.hasSize=!0}).on("error.mfploader",function(){c.hasSize=!0,c.loadError=!0,z("LazyLoadError",c)}).attr("src",c.src)),c.preloaded=!0}}});var V="retina";a.magnificPopup.registerModule(V,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=n.st.retina,b=a.ratio;b=isNaN(b)?b():b,b>1&&(x("ImageHasSize."+V,function(a,c){c.img.css({"max-width":c.img[0].naturalWidth/b,width:"100%"})}),x("ElementParse."+V,function(c,d){d.src=a.replaceSrc(d,b)}))}}}}),function(){var b=1e3,c="ontouchstart"in window,d=function(){r.off("touchmove"+f+" touchend"+f)},e="mfpFastClick",f="."+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g=a(this),h;if(c){var i,j,k,l,m,n;g.on("touchstart"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,r.on("touchmove"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0];if(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)l=!0,d()}).on("touchend"+f,function(a){d();if(l||n>1)return;h=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){h=!1},b),e()})})}g.on("click"+f,function(){h||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+f+" click"+f),c&&r.off("touchmove"+f+" touchend"+f)}}(),B()})(window.jQuery||window.Zepto);
/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
/*!
 * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=6b33b4a1968acb9135a1)
 * Config saved to config.json and https://gist.github.com/6b33b4a1968acb9135a1
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new o(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.2",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var s=t(this),n=s.attr("data-target");n||(n=s.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var a=t(n);e&&e.preventDefault(),a.length||(a=s.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.button"),n="object"==typeof e&&e;s||o.data("bs.button",s=new i(this,n)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.2",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,s=o.is("input")?"val":"html",n=o.data();e+="Text",null==n.resetText&&o.data("resetText",o[s]()),setTimeout(t.proxy(function(){o[s](null==n[e]?this.options[e]:n[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.carousel"),n=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:n.slide;s||o.data("bs.carousel",s=new i(this,n)),"number"==typeof e?s.to(e):a?s[a]():n.interval&&s.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.2",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var s="prev"==t?-1:1,n=(i+s)%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,o){var s=this.$element.find(".item.active"),n=o||this.getItemForDirection(e,s),a=this.interval,r="next"==e?"left":"right",l=this;if(n.hasClass("active"))return this.sliding=!1;var h=n[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(n)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,s.addClass(r),n.addClass(r),s.one("bsTransitionEnd",function(){n.removeClass([e,r].join(" ")).addClass("active"),s.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(s.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var s=function(i){var o,s=t(this),n=t(s.attr("data-target")||(o=s.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var a=t.extend({},n.data(),s.data()),r=s.attr("data-slide-to");r&&(a.interval=!1),e.call(n,a),r&&n.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(n).each(function(){var o=t(this),s=i(o),n={relatedTarget:this};s.hasClass("open")&&(s.trigger(e=t.Event("hide.bs.dropdown",n)),e.isDefaultPrevented()||(o.attr("aria-expanded","false"),s.removeClass("open").trigger("hidden.bs.dropdown",n)))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var s=".dropdown-backdrop",n='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.2",a.prototype.toggle=function(o){var s=t(this);if(!s.is(".disabled, :disabled")){var n=i(s),a=n.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var r={relatedTarget:this};if(n.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var s=i(o),a=s.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&s.find(n).trigger("focus"),o.trigger("click");var r=" li:not(.divider):visible a",l=s.find('[role="menu"]'+r+', [role="listbox"]'+r);if(l.length){var h=l.index(e.target);38==e.which&&h>0&&h--,40==e.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,a.prototype.toggle).on("keydown.bs.dropdown.data-api",n,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var s=t(this),n=s.data("bs.modal"),a=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new i(this,a)),"string"==typeof e?n[e](o):a.show&&n.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.2",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var s=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.options.backdrop&&o.adjustBackdrop(),o.adjustDialog(),s&&o.$element[0].offsetWidth,o.$element.addClass("in").attr("aria-hidden",!1),o.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});s?o.$element.find(".modal-dialog").one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(n)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;if(this.$backdrop=t('<div class="modal-backdrop '+s+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},i.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),s=o.attr("href"),n=t(o.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),o.data());o.is("a")&&i.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(n,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tooltip"),n="object"==typeof e&&e;(s||"destroy"!=e)&&(s||o.data("bs.tooltip",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),n=s.length;n--;){var a=s[n];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var s=this,n=this.tip(),a=this.getUID(this.type);this.setContent(),n.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var d=this.getPosition(),p=n[0].offsetWidth,c=n[0].offsetHeight;if(h){var f=r,u=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(u);r="bottom"==r&&d.bottom+c>g.bottom?"top":"top"==r&&d.top-c<g.top?"bottom":"right"==r&&d.right+p>g.width?"left":"left"==r&&d.left-p<g.left?"right":r,n.removeClass(f).addClass(r)}var v=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(v,r);var m=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),s=o[0].offsetWidth,n=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top=e.top+a,e.left=e.left+r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=n&&(e.top=e.top+n-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-s+l:2*d.top-n+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=s.hoverState&&n.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,n=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var n=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,a,r,n)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var s={top:0,left:0};if(!this.$viewport)return s;var n=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-n-a.scroll,l=e.top+n-a.scroll+o;r<a.top?s.top=a.top-r:l>a.top+a.height&&(s.top=a.top+a.height-l)}else{var h=e.left-n,d=e.left+n+i;h<a.left?s.left=a.left-h:d>a.width&&(s.left=a.left+a.width-d)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.popover"),n="object"==typeof e&&e;(s||"destroy"!=e)&&(s||o.data("bs.popover",s=new i(this,n)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.2",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.tab");s||o.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.2",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),n=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(n),e.trigger(a),!a.isDefaultPrevented()&&!n.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,o,s){function n(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var a=o.find("> .active"),r=s&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),s=o.data("bs.affix"),n="object"==typeof e&&e;s||o.data("bs.affix",s=new i(this,n)),"string"==typeof e&&s[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.2",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var s=this.$target.scrollTop(),n=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>s?"top":!1;if("bottom"==this.affixed)return null!=i?s+this.unpin<=n.top?!1:"bottom":t-o>=s+a?!1:"bottom";var r=null==this.affixed,l=r?s:n.top,h=r?a:e;return null!=i&&i>=s?"top":null!=o&&l+h>=t-o?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,s=o.top,n=o.bottom,a=t("body").height();"object"!=typeof o&&(n=s=o),"function"==typeof s&&(s=o.top(this.$element)),"function"==typeof n&&(n=o.bottom(this.$element));var r=this.getState(a,e,s,n);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-n})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),n=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&n.toggle&&"show"==e&&(n.toggle=!1),s||i.data("bs.collapse",s=new o(this,n)),"string"==typeof e&&s[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.2",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"),e&&e.transitioning))){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(o.TRANSITION_DURATION):s.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var s=t(o);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var s=t(this);s.attr("data-target")||o.preventDefault();
var n=e(s),a=n.data("bs.collapse"),r=a?"toggle":t.extend({},s.data(),{trigger:this});i.call(n,r)})}(jQuery),+function(t){"use strict";function e(i,o){var s=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(i).is("body")?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),s=o.data("bs.scrollspy"),n="object"==typeof i&&i;s||o.data("bs.scrollspy",s=new e(this,n)),"string"==typeof i&&s[i]()})}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",i=0;t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var o=this;this.$body.find(this.selector).map(function(){var o=t(this),s=o.data("target")||o.attr("href"),n=/^#./.test(s)&&t(s);return n&&n.length&&n.is(":visible")&&[[n[e]().top+i,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){o.offsets.push(this[0]),o.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,n=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=n[n.length-1])&&this.activate(t);if(a&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)a!=n[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);
!function(e){FLTheme={init:function(){this._bind(),this._initRetinaImages()},_bind:function(){0!=e(".fl-page-bar-nav ul.sub-menu").length&&(this._setupDropDowns(),this._enableTopNavDropDowns()),0!=e(".fl-page-nav ul.sub-menu").length&&(e(window).on("resize.fl-page-nav-sub-menu",e.throttle(500,this._enablePageNavDropDowns)),this._setupDropDowns(),this._enablePageNavDropDowns()),0!=e(".fl-page-nav ul.menu").length&&(e(".fl-page-nav ul.menu").find(".menu-item").on("click",'> a[href*="#"]:not([href="#"])',this._setupCurrentNavItem),this._setupCurrentNavItem()),0!=e(".fl-page-nav-search").length&&e(".fl-page-nav-search a.fa-search").on("click",this._toggleNavSearch),0!=e(".fl-nav-vertical").length&&(e(window).on("resize",e.throttle(500,this._navVertical)),this._navVertical()),0!=e(".fl-fixed-width.fl-nav-vertical-right").length&&(e(window).on("resize",e.throttle(500,this._updateVerticalRightPos)),this._updateVerticalRightPos()),0!=e(".fl-page-nav-centered-inline-logo").length&&(e(window).on("resize",e.throttle(500,this._centeredInlineLogo)),this._centeredInlineLogo()),0!=e("body.fl-nav-left").length&&(e(window).on("resize",e.throttle(500,this._navLeft)),this._navLeft()),0!=e("body.fl-shrink").length&&0==e("html.fl-builder-edit").length&&(e(window).on("resize",e.throttle(500,this._shrinkHeaderEnable)),this._shrinkHeaderInit(),this._shrinkHeaderEnable(),e(".fl-page-header").imagesLoaded(function(){e(window).trigger("resize")})),0!=e(".fl-page-header-fixed").length&&(e(window).on("resize.fl-page-header-fixed",e.throttle(500,this._enableFixedHeader)),this._enableFixedHeader()),0!=e("body.fl-fixed-header").length&&0==e("html.fl-builder-edit").length&&(e(window).on("resize",e.throttle(500,this._fixedHeader)),this._fixedHeader(),e(".fl-page-header").imagesLoaded(function(){e(window).trigger("resize")})),0!=e("body.fl-scroll-header").length&&0==e("html.fl-builder-edit").length&&(e(window).on("resize",e.throttle(500,this._scrollHeader)),this._scrollHeader()),0!=e(".fl-page-header-primary").find("li.mega-menu").length&&(e(window).on("resize",e.throttle(500,this._megaMenu)),this._megaMenu()),0!=e(".fl-page-header-fixed").length&&(e(window).on("scroll.fl-mega-menu-on-scroll",e.throttle(500,this._megaMenuOnScroll)),e(window).on("resize.fl-mega-menu-on-scroll",e.throttle(500,this._megaMenuOnScroll))),0!=e("html.fl-builder-edit").length&&this._fixedHeadersWhenBuilderActive(),0!=e(".fl-full-width.fl-footer-effect").length&&(e(window).on("resize",e.throttle(500,this._footerEffect)),this._footerEffect()),0!=e("body.fl-scroll-to-top").length&&this._toTop(),"undefined"!=typeof e("body").magnificPopup&&this._enableLightbox(),"undefined"==typeof e.fn.fitVids||e("body").hasClass("fl-builder")||this._enableFitVids(),FLTheme._navBackiosFix()},_isMobile:function(){return/Mobile|Android|Silk\/|Kindle|BlackBerry|Opera Mini|Opera Mobi|webOS/i.test(navigator.userAgent)},_initRetinaImages:function(){var a=window.devicePixelRatio?window.devicePixelRatio:1;a>1&&e("img[data-retina]").each(FLTheme._convertImageToRetina)},_convertImageToRetina:function(){var a=e(this),l=new Image,n=a.attr("src"),i=a.data("retina");""!=i&&(l.onload=function(){a.css("max-height",l.height),a.width(l.width),a.attr("src",i)},l.src=n)},_setupDropDowns:function(){e("ul.sub-menu").each(function(){e(this).closest("li").attr("aria-haspopup","true")})},_enableTopNavDropDowns:function(){var a=e(".fl-page-bar-nav"),l=a.find(" > li"),n=a.find("> li").has("> ul.sub-menu").find("> a");FLTheme._isMobile()?(l.hover(function(){},FLTheme._navItemMouseout),n.on("click",FLTheme._navSubMenuToggleClick)):l.hover(FLTheme._navItemMouseover,FLTheme._navItemMouseout)},_navBackiosFix:function(){ipad=null!==navigator.userAgent.match("iPhone|iPad")&&e(".menu-item-has-children").length>0,!1!==ipad&&(window.onpageshow=function(e){e.persisted&&window.location.reload()})},_enablePageNavDropDowns:function(){var a=e(".fl-page-header");a.each(FLTheme._enablePageNavDropDown)},_enablePageNavDropDown:function(){var a=e(this),l=a.find(".fl-page-nav .fl-page-nav-collapse"),n=l.find("ul li"),i=l.find("li").has("> ul.sub-menu").find("> a"),t=l.find("> ul > li").has("ul.sub-menu");e(".fl-page-nav .navbar-toggle").is(":visible")?(n.off("mouseenter mouseleave"),e("body").hasClass("fl-submenu-toggle")&&(t=l.find("> ul li").has("ul.sub-menu")),t.find("> a").off().on("click",FLTheme._navItemClickMobile),l.find(".menu").on("click",'.menu-item > a[href*="#"]',FLTheme._toggleForMobile),i.off("click",FLTheme._navSubMenuToggleClick)):(l.find("a").off("click",FLTheme._navItemClickMobile),l.find("a").off("click",FLTheme._toggleForMobile),l.removeClass("in").addClass("collapse"),n.removeClass("fl-mobile-sub-menu-open"),n.find("a").width(0).width("auto"),FLTheme._isMobile()?(n.hover(function(){},FLTheme._navItemMouseout),i.on("click",FLTheme._navSubMenuToggleClick)):n.hover(FLTheme._navItemMouseover,FLTheme._navItemMouseout))},_navItemClickMobile:function(a){var l=e(this).parent(),n=e(this).attr("href"),i=l.find("ul.sub-menu");"#"==n&&l.hasClass("fl-mobile-sub-menu-open")?(a.preventDefault(),l.removeClass("fl-mobile-sub-menu-open"),i.hide()):l.hasClass("fl-mobile-sub-menu-open")||(a.preventDefault(),l.addClass("fl-mobile-sub-menu-open"),i.fadeIn(200))},_setupCurrentNavItem:function(a){var l=e(".fl-page-nav .navbar-nav"),n="undefined"!=typeof a?e(a.target).prop("hash"):window.location.hash,n=n.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1"),i=n.length?l.find("a[href*=\\"+n+"]:not([href=\\#])"):null;null!=i&&e("body").find(n).length>0&&(e(".current-menu-item").removeClass("current-menu-item"),i.parent().addClass("current-menu-item"))},_navItemMouseover:function(){if(0!==e(this).find("ul.sub-menu").length){var a=e(this),l=a.parent(),n=a.find("ul.sub-menu"),i=n.width(),t=0,o=e(window).width(),s=0,r=0;if(0!==a.closest(".fl-sub-menu-right").length?a.addClass("fl-sub-menu-right"):e("body").hasClass("rtl")?(t=l.is("ul.sub-menu")?l.offset().left-i:a.offset().left-i,t<=0&&a.addClass("fl-sub-menu-right")):(t=l.is("ul.sub-menu")?l.offset().left+2*i:a.offset().left+i,t>o&&a.addClass("fl-sub-menu-right")),a.addClass("fl-sub-menu-open"),n.hide(),n.stop().fadeIn(200),FLTheme._hideNavSearch(),0!==a.closest(".fl-page-nav-collapse").length&&a.hasClass("mega-menu")){if(a.find(".mega-menu-spacer").length>0)return;n.first().before('<div class="mega-menu-spacer"></div>'),s=a.find(".mega-menu-spacer").offset().top,r=n.first().offset().top,a.find(".mega-menu-spacer").css("padding-top",Math.floor(parseInt(r-s))+"px")}}},_navItemMouseout:function(){var a=e(this),l=a.find("ul.sub-menu");l.stop().fadeOut({duration:200,done:FLTheme._navItemMouseoutComplete})},_navItemMouseoutComplete:function(){var a=e(this).parent();a.removeClass("fl-sub-menu-open"),a.removeClass("fl-sub-menu-right"),a.find(".mega-menu-spacer").length>0&&a.find(".mega-menu-spacer").remove(),e(this).show()},_navSubMenuToggleClick:function(a){var l=e(this).closest("li").eq(0);l.hasClass("fl-sub-menu-open")||(FLTheme._navItemMouseover.apply(l[0]),a.preventDefault())},_toggleForMobile:function(a){var l=e(".fl-page-nav .fl-page-nav-collapse"),n=e(this).attr("href"),i="";"#"!==n&&(i=n.split("#")[1],e("body").find("#"+i).length>0&&(a.preventDefault(),l.collapse("hide")))},_toggleNavSearch:function(){var a=e(".fl-page-nav-search form");a.is(":visible")?a.stop().fadeOut(200):(a.stop().fadeIn(200),e("body").on("click.fl-page-nav-search",FLTheme._hideNavSearch),e(".fl-page-nav-search .fl-search-input").focus())},_hideNavSearch:function(a){var l=e(".fl-page-nav-search form");void 0!==a&&e(a.target).closest(".fl-page-nav-search").length>0||(l.stop().fadeOut(200),e("body").off("click.fl-page-nav-search"))},_navVertical:function(){var a=e(window);a.width()>=992&&e(".fl-page-header-primary").hasClass("fl-page-nav-toggle-visible-always")&&(e("body").toggleClass("fl-nav-vertical"),e("body").hasClass("fl-nav-vertical-left")&&e("body").toggleClass("fl-nav-vertical-left"),e("body").hasClass("fl-nav-vertical-right")&&e("body").toggleClass("fl-nav-vertical-right"))},_updateVerticalRightPos:function(){var a=e(window).width(),l=e(".fl-page").width(),n=(a-l)/2;e(".fl-page-header-vertical").css("right",n)},_navLeft:function(){var a=e(window);(a.width()<992||e(".fl-page-header-primary").hasClass("fl-page-nav-toggle-visible-always"))&&e(".fl-page-header-primary .fl-page-logo-wrap").insertBefore(".fl-page-header-primary .fl-page-nav-col"),a.width()>=992&&!e(".fl-page-header-primary").hasClass("fl-page-nav-toggle-visible-always")&&e(".fl-page-header-primary .fl-page-nav-col").insertBefore(".fl-page-header-primary .fl-page-logo-wrap"),0==e(".fl-page-header-fixed").length||e(".fl-page-header-fixed").hasClass("fl-page-nav-toggle-visible-always")||e(".fl-page-header-fixed .fl-page-fixed-nav-wrap").insertBefore(".fl-page-header-fixed .fl-page-logo-wrap")},_shrinkHeaderInit:function(){e("body").addClass("fl-shrink-header-enabled"),e(window).load(function(){var a=e(".fl-logo-img");a.css("max-height",a.height()),setTimeout(function(){e(".fl-page-header").addClass("fl-shrink-header-transition")},100)})},_shrinkHeaderEnable:function(){var a=e(window);if(a.width()>=992){var l=e(".fl-page-header"),n=l.outerHeight(),i=e(".fl-page-bar"),t=0,o=0;0!=i.length?(t+=i.outerHeight(),o=t+n,0!=e("body.admin-bar").length&&(t+=32),l.css("top",t)):o=n,e(".fl-page").css("padding-top",o),e(a).on("scroll.fl-shrink-header",FLTheme._shrinkHeader)}else e(".fl-page-header").css("top",0),e(".fl-page").css("padding-top",0),e(a).off("scroll.fl-shrink-header")},_shrinkHeader:function(){var a=e(this).scrollTop(),l=250,n=e(".fl-page-header");a>l?n.addClass("fl-shrink-header"):n.removeClass("fl-shrink-header")},_fixedHeader:function(){var a=e(window),l=e(".fl-page-header"),n=0,i=0,t=e(".fl-page-bar"),o=0;if(a.width()>=992){if(n=l.outerHeight(),0!=t.length){if(o=t.outerHeight(),i=o+n,0!=e("body.admin-bar").length&&(o+=32),0!=e("html.fl-builder-edit").length);l.css("top",o)}else i=n;0===e("body.fl-scroll-header").length&&e(".fl-page").css("padding-top",i)}else e(".fl-page-header").css("top",0),e(".fl-page").css("padding-top",0)},_enableFixedHeader:function(){var a=e(window);a.width()<992?(a.off("scroll.fl-page-header-fixed"),e(".fl-page-header-fixed").hide()):a.on("scroll.fl-page-header-fixed",FLTheme._toggleFixedHeader)},_toggleFixedHeader:function(){var a=e(window),l=e(".fl-page-header-fixed"),n=l.is(":visible"),i=e(".fl-page-header-primary"),t=!1;t=0===i.length?a.scrollTop()>200:a.scrollTop()>i.height()+i.offset().top,t&&!n?l.stop().fadeIn(200):!t&&n&&l.stop().hide()},_centeredInlineLogo:function(){var a=e(window),l=e(".fl-page-nav-centered-inline-logo .fl-page-header-logo"),n=e(".fl-logo-centered-inline > .fl-page-header-logo"),i=e(".fl-page-nav-centered-inline-logo .fl-page-nav .navbar-nav"),t=i.children("li").length,o=Math.round(t/2)-1;a.width()>=992&&n.length<1&&!e(".fl-page-header-primary").hasClass("fl-page-nav-toggle-visible-always")&&(l.hasClass("fl-inline-logo-left")&&t%2!=0?i.children("li:nth( "+o+" )").before('<li class="fl-logo-centered-inline"></li>'):i.children("li:nth( "+o+" )").after('<li class="fl-logo-centered-inline"></li>'),i.children(".fl-logo-centered-inline").append(l)),a.width()<992&&(e(".fl-page-nav-centered-inline-logo .fl-page-header-row").prepend(n),e(".fl-logo-centered-inline").remove())},_scrollHeader:function(){var a=e(window),l=null,n=e(".fl-page-header-primary").data("fl-distance");l=e(0!=e(".fl-page-bar").length?".fl-page-header-primary, .fl-page-bar":".fl-page-header-primary"),a.width()>=992?a.on("scroll.fl-show-header-on-scroll",function(){e(this).scrollTop()>n?l.addClass("fl-show"):l.removeClass("fl-show")}):a.off("scroll.fl-show-header-on-scroll")},_megaMenu:function(){var a=(e(window),e(".fl-page-header")),l=a.find(".fl-page-header-container"),n=l.outerWidth(),i=null,t=0;a.find("li.mega-menu, li.mega-menu-disabled").each(function(){i=e(this),t=i.find("> ul.sub-menu").outerWidth(),"undefined"!=typeof i.data("megamenu-width")&&(t=i.data("megamenu-width")),i.hasClass("mega-menu")&&n<t||FLTheme._isResponsiveNavEnabled()?(i.data("megamenu-width",t),FLTheme._isResponsiveNavEnabled()&&i.find("> ul.sub-menu").css("display","block"),i.removeClass("mega-menu"),i.hasClass("mega-menu-disabled")||i.addClass("mega-menu-disabled")):i.hasClass("mega-menu-disabled")&&n>=t&&(i.find("> ul.sub-menu").css("display",""),i.removeClass("mega-menu-disabled"),i.hasClass("mega-menu")||i.addClass("mega-menu"),i.addClass("mega-menu-items-"+i.children("ul").children("li").length))})},_megaMenuOnScroll:function(){var a=e(window),l=e(".fl-page-header-fixed"),n=l.find(".fl-page-header-container"),i=l.is(":visible"),t=null,o=null;i&&(l.find("li.mega-menu").each(function(){t=e(this),o=t.find("> ul.sub-menu"),n.outerWidth()<o.outerWidth()?(t.removeClass("mega-menu"),t.hasClass("mega-menu-disabled")||t.addClass("mega-menu-disabled")):(t.removeClass("mega-menu-disabled"),t.hasClass("mega-menu")||t.addClass("mega-menu"),t.addClass("mega-menu-items-"+t.children("ul").children("li").length))}),a.off("scroll.fl-mega-menu-on-scroll"),a.off("resize.fl-mega-menu-on-scroll"))},_fixedHeadersWhenBuilderActive:function(){0!=e("body.fl-shrink").length&&e("body").removeClass("fl-shrink"),0!=e("body.fl-fixed-header").length&&e("body").removeClass("fl-fixed-header"),0!=e("body.fl-scroll-header").length&&e("body").removeClass("fl-scroll-header")},_footerEffect:function(){e(window).width()>=768?e(".fl-page").css("margin-bottom",e(".fl-page-footer-wrap").height()):e(".fl-page").css("margin-bottom",0)},_toTop:function(){var a=e("#fl-to-top");a.each(function(){e(this).click(function(){return e("html,body").animate({scrollTop:0},"linear"),!1})}),e(window).scroll(function(){e(this).scrollTop()>800?a.fadeIn():a.fadeOut()})},_enableLightbox:function(){var a=e("body");a.hasClass("fl-builder")||a.hasClass("woocommerce")||e(".fl-content a").filter(function(){return/\.(png|jpg|jpeg|gif)(\?.*)?$/i.test(this.href)}).magnificPopup({closeBtnInside:!1,type:"image",gallery:{enabled:!0}}),!a.hasClass("fl-builder")&&!a.hasClass("fl-theme-builder-singular")||a.hasClass("woocommerce")||e(".fl-rich-text a, .fl-module-fl-post-content a").filter(function(){return/\.(png|jpg|jpeg|gif)(\?.*)?$/i.test(this.href)}).magnificPopup({closeBtnInside:!1,type:"image",gallery:{enabled:!0}})},_enableFitVids:function(){e(".fl-post-content").fitVids()},_isResponsiveNavEnabled:function(){var a=e(window);return enabled=!1,(e(".fl-page-nav-toggle-visible-always").length>0||e(".fl-page-nav-toggle-visible-medium-mobile").length>0&&a.width()<992||e(".fl-page-nav-toggle-visible-mobile").length>0&&a.width()<768)&&(enabled=!0),enabled}},e(function(){FLTheme.init()})}(jQuery);
!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d)if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
(function(){"use strict";function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}).call(this),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"==l.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0;c<a.length;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b,c);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a,b){this.url=a,this.element=b,this.img=new Image}var j=a.jQuery,k=a.console,l=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0;a<this.elements.length;a++){var b=this.elements[a];this.addElementImages(b)}},g.prototype.addElementImages=function(a){"IMG"==a.nodeName&&this.addImage(a),this.options.background===!0&&this.addElementBackgroundImages(a);var b=a.nodeType;if(b&&m[b]){for(var c=a.querySelectorAll("img"),d=0;d<c.length;d++){var e=c[d];this.addImage(e)}if("string"==typeof this.options.background){var f=a.querySelectorAll(this.options.background);for(d=0;d<f.length;d++){var g=f[d];this.addElementBackgroundImages(g)}}}};var m={1:!0,9:!0,11:!0};g.prototype.addElementBackgroundImages=function(a){for(var b=n(a),c=/url\(['"]*([^'"\)]+)['"]*\)/gi,d=c.exec(b.backgroundImage);null!==d;){var e=d&&d[1];e&&this.addBackground(e,a),d=c.exec(b.backgroundImage)}};var n=a.getComputedStyle||function(a){return a.currentStyle};return g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.addBackground=function(a,b){var c=new i(a,b);this.images.push(c)},g.prototype.check=function(){function a(a,c,d){setTimeout(function(){b.progress(a,c,d)})}var b=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var c=0;c<this.images.length;c++){var d=this.images[c];d.once("progress",a),d.check()}},g.prototype.progress=function(a,b,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded,this.emit("progress",this,a,b),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&k&&k.log("progress: "+c,a,b)},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(a,this),this.emit("always",this),this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}},h.prototype=new b,h.prototype.check=function(){var a=this.getIsImageComplete();return a?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,c.bind(this.proxyImage,"load",this),c.bind(this.proxyImage,"error",this),c.bind(this.img,"load",this),c.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},h.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("progress",this,this.img,b)},h.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},h.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},h.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},h.prototype.unbindEvents=function(){c.unbind(this.proxyImage,"load",this),c.unbind(this.proxyImage,"error",this),c.unbind(this.img,"load",this),c.unbind(this.img,"error",this)},i.prototype=new h,i.prototype.check=function(){c.bind(this.img,"load",this),c.bind(this.img,"error",this),this.img.src=this.url;var a=this.getIsImageComplete();a&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){c.unbind(this.img,"load",this),c.unbind(this.img,"error",this)},i.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("progress",this,this.element,b)},g.makeJQueryPlugin=function(b){b=b||a.jQuery,b&&(j=b,j.fn.imagesLoaded=function(a,b){var c=new g(this,a,b);return c.jqDeferred.promise(j(this))})},g.makeJQueryPlugin(),g});
/*!
 * Masonry PACKAGED v3.3.2
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c("object"==typeof exports?require("jquery"):a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:e.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){}function d(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function e(c){function e(){if(!m){m=!0;var d=a.getComputedStyle;if(j=function(){var a=d?function(a){return d(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||f("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}}(),k=c("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[k]="border-box";var g=document.body||document.documentElement;g.appendChild(e);var h=j(e);l=200===b(h.width),g.removeChild(e)}}}function h(a){if(e(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var c=j(a);if("none"===c.display)return d();var f={};f.width=a.offsetWidth,f.height=a.offsetHeight;for(var h=f.isBorderBox=!(!k||!c[k]||"border-box"!==c[k]),m=0,n=g.length;n>m;m++){var o=g[m],p=c[o];p=i(a,p);var q=parseFloat(p);f[o]=isNaN(q)?0:q}var r=f.paddingLeft+f.paddingRight,s=f.paddingTop+f.paddingBottom,t=f.marginLeft+f.marginRight,u=f.marginTop+f.marginBottom,v=f.borderLeftWidth+f.borderRightWidth,w=f.borderTopWidth+f.borderBottomWidth,x=h&&l,y=b(c.width);y!==!1&&(f.width=y+(x?0:r+v));var z=b(c.height);return z!==!1&&(f.height=z+(x?0:s+w)),f.innerWidth=f.width-(r+v),f.innerHeight=f.height-(s+w),f.outerWidth=f.width+t,f.outerHeight=f.height+u,f}}function i(b,c){if(a.getComputedStyle||-1===c.indexOf("%"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var j,k,l,m=!1;return h}var f="undefined"==typeof console?c:function(a){console.error(a)},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):a.getSize=e(a.getStyleProperty)}(window),function(a){function b(a){"function"==typeof a&&(b.isReady?a():g.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==f.readyState;b.isReady||c||d()}function d(){b.isReady=!0;for(var a=0,c=g.length;c>a;a++){var d=g[a];d()}}function e(e){return"complete"===f.readyState?d():(e.bind(f,"DOMContentLoaded",c),e.bind(f,"readystatechange",c),e.bind(a,"load",c)),b}var f=a.document,g=[];b.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):a.docReady=e(a.eventie)}(window),function(a){function b(a,b){return a[g](b)}function c(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function d(a,b){c(a);for(var d=a.parentNode.querySelectorAll(b),e=0,f=d.length;f>e;e++)if(d[e]===a)return!0;return!1}function e(a,d){return c(a),b(a,d)}var f,g=function(){if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0,d=b.length;d>c;c++){var e=b[c],f=e+"MatchesSelector";if(a[f])return f}}();if(g){var h=document.createElement("div"),i=b(h,"div");f=i?b:e}else f=d;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return f}):"object"==typeof exports?module.exports=f:window.matchesSelector=f}(Element.prototype),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("doc-ready"),require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.docReady,a.matchesSelector)}(window,function(a,b,c){var d={};d.extend=function(a,b){for(var c in b)a[c]=b[c];return a},d.modulo=function(a,b){return(a%b+b)%b};var e=Object.prototype.toString;d.isArray=function(a){return"[object Array]"==e.call(a)},d.makeArray=function(a){var b=[];if(d.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b},d.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},d.removeFrom=function(a,b){var c=d.indexOf(a,b);-1!=c&&a.splice(c,1)},d.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1==a.nodeType&&"string"==typeof a.nodeName},d.setText=function(){function a(a,c){b=b||(void 0!==document.documentElement.textContent?"textContent":"innerText"),a[b]=c}var b;return a}(),d.getParent=function(a,b){for(;a!=document.body;)if(a=a.parentNode,c(a,b))return a},d.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},d.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},d.filterFindElements=function(a,b){a=d.makeArray(a);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f];if(d.isElement(h))if(b){c(h,b)&&e.push(h);for(var i=h.querySelectorAll(b),j=0,k=i.length;k>j;j++)e.push(i[j])}else e.push(h)}return e},d.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},d.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var f=a.console;return d.htmlInit=function(c,e){b(function(){for(var b=d.toDashed(e),g=document.querySelectorAll(".js-"+b),h="data-"+b+"-options",i=0,j=g.length;j>i;i++){var k,l=g[i],m=l.getAttribute(h);try{k=m&&JSON.parse(m)}catch(n){f&&f.error("Error parsing "+h+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+n);continue}var o=new c(l,k),p=a.jQuery;p&&p.data(l,e,o)}})},d}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(a.Outlayer={},a.Outlayer.Item=b(a,a.EventEmitter,a.getSize,a.getStyleProperty,a.fizzyUIUtils))}(window,function(a,b,c,d,e){function f(a){for(var b in a)return!1;return b=null,!0}function g(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}function h(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}var i=a.getComputedStyle,j=i?function(a){return i(a,null)}:function(a){return a.currentStyle},k=d("transition"),l=d("transform"),m=k&&l,n=!!d("perspective"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[k],p=["transform","transition","transitionDuration","transitionProperty"],q=function(){for(var a={},b=0,c=p.length;c>b;b++){var e=p[b],f=d(e);f&&f!==e&&(a[e]=f)}return a}();e.extend(g.prototype,b.prototype),g.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.getSize=function(){this.size=c(this.element)},g.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=q[c]||c;b[d]=a[c]}},g.prototype.getPosition=function(){var a=j(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=a[c?"left":"right"],f=a[d?"top":"bottom"],g=this.layout.size,h=-1!=e.indexOf("%")?parseFloat(e)/100*g.width:parseInt(e,10),i=-1!=f.indexOf("%")?parseFloat(f)/100*g.height:parseInt(f,10);h=isNaN(h)?0:h,i=isNaN(i)?0:i,h-=c?g.paddingLeft:g.paddingRight,i-=d?g.paddingTop:g.paddingBottom,this.position.x=h,this.position.y=i},g.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={},d=b.isOriginLeft?"paddingLeft":"paddingRight",e=b.isOriginLeft?"left":"right",f=b.isOriginLeft?"right":"left",g=this.position.x+a[d];c[e]=this.getXValue(g),c[f]="";var h=b.isOriginTop?"paddingTop":"paddingBottom",i=b.isOriginTop?"top":"bottom",j=b.isOriginTop?"bottom":"top",k=this.position.y+a[h];c[i]=this.getYValue(k),c[j]="",this.css(c),this.emitEvent("layout",[this])},g.prototype.getXValue=function(a){var b=this.layout.options;return b.percentPosition&&!b.isHorizontal?a/this.layout.size.width*100+"%":a+"px"},g.prototype.getYValue=function(a){var b=this.layout.options;return b.percentPosition&&b.isHorizontal?a/this.layout.size.height*100+"%":a+"px"},g.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={};j.transform=this.getTranslate(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},g.prototype.getTranslate=function(a,b){var c=this.layout.options;return a=c.isOriginLeft?a:-a,b=c.isOriginTop?b:-b,n?"translate3d("+a+"px, "+b+"px, 0)":"translate("+a+"px, "+b+"px)"},g.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},g.prototype.moveTo=m?g.prototype._transitionTo:g.prototype.goTo,g.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},g.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},g.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var r="opacity,"+h(q.transform||"transform");g.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:r,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(o,this,!1))},g.prototype.transition=g.prototype[k?"_transition":"_nonTransition"],g.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},g.prototype.onotransitionend=function(a){this.ontransitionend(a)};var s={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};g.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=s[a.propertyName]||a.propertyName;if(delete b.ingProperties[c],f(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent("transitionEnd",[this])}},g.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},g.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var t={transitionProperty:"",transitionDuration:""};return g.prototype.removeTransitionStyles=function(){this.css(t)},g.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},g.prototype.remove=function(){if(!k||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.once("transitionEnd",function(){a.removeElem()}),this.hide()},g.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},g.prototype.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},g.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},g.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},g.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},g}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f,g){return b(a,c,d,e,f,g)}):"object"==typeof exports?module.exports=b(a,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.eventie,a.EventEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e,f){function g(a,b){var c=e.getQueryElement(a);if(!c)return void(h&&h.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c,i&&(this.$element=i(this.element)),this.options=e.extend({},this.constructor.defaults),this.option(b);var d=++k;this.element.outlayerGUID=d,l[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var h=a.console,i=a.jQuery,j=function(){},k=0,l={};return g.namespace="outlayer",g.Item=f,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e.extend(g.prototype,c.prototype),g.prototype.option=function(a){e.extend(this.options,a)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},g.prototype._filterFindItemElements=function(a){return e.filterFindElements(a,this.options.itemSelector)},g.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=d(this.element)},g.prototype._getMeasurement=function(a,b){var c,f=this.options[a];f?("string"==typeof f?c=this.element.querySelector(f):e.isElement(f)&&(c=f),this[a]=c?d(c)[b]:f):this[a]=0},g.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},g.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},g.prototype._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d],g=this._getItemLayoutPosition(f);g.item=f,g.isInstant=b||f.isLayoutInstant,c.push(g)}this._processLayoutQueue(c)}},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},g.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},g.prototype._getContainerSize=j,g.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},g.prototype._emitCompleteOnItems=function(a,b){function c(){e.dispatchEvent(a+"Complete",null,[b])}function d(){g++,g===f&&c()}var e=this,f=b.length;if(!b||!f)return void c();for(var g=0,h=0,i=b.length;i>h;h++){var j=b[h];j.once(a,d)}},g.prototype.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),i)if(this.$element=this.$element||i(this.element),b){var e=i.Event(b);e.type=a,this.$element.trigger(e,c)}else this.$element.trigger(a,c)},g.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},g.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},g.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},g.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e.removeFrom(this.stamps,d),this.unignore(d)}},g.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=e.makeArray(a)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},g.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},g.prototype._manageStamp=j,g.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,e=d(a),f={left:b.left-c.left-e.marginLeft,top:b.top-c.top-e.marginTop,right:c.right-b.right-e.marginRight,bottom:c.bottom-b.bottom-e.marginBottom};return f},g.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},g.prototype.bindResize=function(){this.isResizeBound||(b.bind(a,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&b.unbind(a,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var a=d(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},g.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},g.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},g.prototype.reveal=function(a){this._emitCompleteOnItems("reveal",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.reveal()}},g.prototype.hide=function(a){this._emitCompleteOnItems("hide",a);for(var b=a&&a.length,c=0;b&&b>c;c++){var d=a[c];d.hide()}},g.prototype.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},g.prototype.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},g.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},g.prototype.getItems=function(a){a=e.makeArray(a);for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c],g=this.getItem(f);g&&b.push(g)}return b},g.prototype.remove=function(a){var b=this.getItems(a);if(this._emitCompleteOnItems("remove",b),b&&b.length)for(var c=0,d=b.length;d>c;c++){var f=b[c];f.remove(),e.removeFrom(this.items,f)}},g.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize();var e=this.element.outlayerGUID;delete l[e],delete this.element.outlayerGUID,i&&i.removeData(this.element,this.constructor.namespace)},g.data=function(a){a=e.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&l[b]},g.create=function(a,b){function c(){g.apply(this,arguments)}return Object.create?c.prototype=Object.create(g.prototype):e.extend(c.prototype,g.prototype),c.prototype.constructor=c,c.defaults=e.extend({},g.defaults),e.extend(c.defaults,b),c.prototype.settings={},c.namespace=a,c.data=g.data,c.Item=function(){f.apply(this,arguments)},c.Item.prototype=new f,e.htmlInit(c,a),i&&i.bridget&&i.bridget(a,c),c},g.Item=f,g}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],b):"object"==typeof exports?module.exports=b(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):a.Masonry=b(a.Outlayer,a.getSize,a.fizzyUIUtils)}(window,function(a,b,c){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&1>g?"round":"floor";f=Math[h](f),this.cols=Math.max(f,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c.indexOf(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d});
/*!
 * Masonry v2 shim
 * to maintain backwards compatibility
 * as of Masonry v3.1.2
 *
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
!function(a){"use strict";var b=a.Masonry;b.prototype._remapV2Options=function(){this._remapOption("gutterWidth","gutter"),this._remapOption("isResizable","isResizeBound"),this._remapOption("isRTL","isOriginLeft",function(a){return!a});var a=this.options.isAnimated;if(void 0!==a&&(this.options.transitionDuration=a?this.options.transitionDuration:0),void 0===a||a){var b=this.options.animationOptions,c=b&&b.duration;c&&(this.options.transitionDuration="string"==typeof c?c:c+"ms")}},b.prototype._remapOption=function(a,b,c){var d=this.options[a];void 0!==d&&(this.options[b]=c?c(d):d)};var c=b.prototype._create;b.prototype._create=function(){var a=this;this._remapV2Options(),c.apply(this,arguments),setTimeout(function(){jQuery(a.element).addClass("masonry")},0)};var d=b.prototype.layout;b.prototype.layout=function(){this._remapV2Options(),d.apply(this,arguments)};var e=b.prototype.option;b.prototype.option=function(){e.apply(this,arguments),this._remapV2Options()};var f=b.prototype._itemize;b.prototype._itemize=function(a){var b=f.apply(this,arguments);return jQuery(a).addClass("masonry-brick"),b};var g=b.prototype.measureColumns;b.prototype.measureColumns=function(){var a=this.options.columnWidth;a&&"function"==typeof a&&(this.getContainerWidth(),this.columnWidth=a(this.containerWidth)),g.apply(this,arguments)},b.prototype.reload=function(){this.reloadItems.apply(this,arguments),this.layout.apply(this)};var h=b.prototype.destroy;b.prototype.destroy=function(){var a=this.getItemElements();jQuery(this.element).removeClass("masonry"),jQuery(a).removeClass("masonry-brick"),h.apply(this,arguments)}}(window);
(function($,window,document,undefined){function Map_Control(options){this.options=options;}
Map_Control.prototype.create_element=function(controlDiv,map,html_element){controlDiv.className='wpgmp-control-outer';var controlUI=document.createElement('div');controlUI.className='wpgmp-control-inner';controlDiv.appendChild(controlUI);var controlText=document.createElement('div');controlText.className='wpgmp-control-content';controlText.innerHTML=html_element;controlUI.appendChild(controlText);};function overlay_generator(tileSize,options){this.tileSize=tileSize;this.overlay_options=options;}
overlay_generator.prototype.getTile=function(coord,zoom,ownerDocument){var div=ownerDocument.createElement("div");div.innerHTML=coord;div.style.width="200px";div.style.height="300px";div.style.fontSize=this.overlay_options.font_size+"px";div.style.borderStyle=this.overlay_options.border_style;div.style.borderWidth=this.overlay_options.border_width+"px";div.style.borderColor=this.overlay_options.border_color;return div;};function GoogleMaps(element,map_data){var options;this.element=element;this.map_data=$.extend({},{},map_data);options=this.map_data.map_options;this.settings=$.extend({"min_zoom":"0","max_zoom":"19","zoom":"5","map_type_id":"ROADMAP","scroll_wheel":true,"map_visual_refresh":false,"full_screen_control":false,"full_screen_control_position":"BOTTOM_RIGHT","zoom_control":true,"zoom_control_style":"SMALL","zoom_control_position":"TOP_LEFT","map_type_control":true,"map_type_control_style":"HORIZONTAL_BAR","map_type_control_position":"RIGHT_TOP","scale_control":true,"street_view_control":true,"street_view_control_position":"TOP_LEFT","overview_map_control":true,"center_lat":"40.6153983","center_lng":"-74.2535216","draggable":true,"gesture":"auto",},{},options);this.container=$("div[rel='"+$(this.element).attr("id")+"']");var suppress_markers=false;if(this.map_data.map_tabs&&this.map_data.map_tabs.direction_tab){suppress_markers=this.map_data.map_tabs.direction_tab.suppress_markers;}
this.directionsService=new google.maps.DirectionsService();this.directionsDisplay=new google.maps.DirectionsRenderer({suppressMarkers:suppress_markers,});this.drawingmanager={};this.geocoder=new google.maps.Geocoder();this.places=[];this.show_places=[];this.categories={};this.tabs=[];this.all_shapes=[];this.wpgmp_polylines=[];this.wpgmp_polygons=[];this.wpgmp_circles=[];this.wpgmp_shape_events=[];this.wpgmp_rectangles=[];this.per_page_value=0;this.current_amenities=[];this.route_directions=[];this.search_area='';this.markerClusterer=null;this.url_filters=[];this.infowindow_marker=new google.maps.InfoWindow();this.infobox=new InfoBox();this.init();}
GoogleMaps.prototype={init:function(){var map_obj=this;if(map_obj.map_data.map_property&&map_obj.map_data.map_property.debug_mode==true){console.log('*********WPGMP Debug Mode Output*********');console.log('Map ID ='+map_obj.map_data.map_property.map_id);if(map_obj.map_data.places)
{console.log('Total Locations='+map_obj.map_data.places.length);}
if(map_obj.map_data.routes)
{console.log('Total Routes='+map_obj.map_data.routes.length);}
console.log('WPGMP Object=');console.log(map_obj.map_data);console.log('*********WPGMP Debug Mode End Output*********');}
var isMobile=false;var screen_type='desktop';var screen_size=$(window).width();if(screen_size<=480){screen_type='smartphones';}else if(screen_size>480&&screen_size<=768){screen_type='ipads';}else if(screen_size>=1824){screen_type='large-screens';}
if(screen_type!='desktop'&&map_obj.settings.mobile_specific==true){isMobile=true;if(map_obj.settings.screens&&map_obj.settings.screens[screen_type]){map_obj.settings.width_mobile=map_obj.settings.screens[screen_type].map_width_mobile;map_obj.settings.height_mobile=map_obj.settings.screens[screen_type].map_height_mobile;map_obj.settings.zoom=parseInt(map_obj.settings.screens[screen_type].map_zoom_level_mobile);map_obj.settings.draggable=(map_obj.settings.screens[screen_type].map_draggable_mobile!=='false');map_obj.settings.scroll_wheel=(map_obj.settings.screens[screen_type].map_scrolling_wheel_mobile!=='false');}else{map_obj.settings.width_mobile='';map_obj.settings.height_mobile='';}
if(map_obj.settings.width_mobile!='')
$(map_obj.element).css('width',map_obj.settings.width_mobile);if(map_obj.settings.height_mobile!='')
$(map_obj.element).css('height',map_obj.settings.height_mobile);}
var center=new google.maps.LatLng(map_obj.settings.center_lat,map_obj.settings.center_lng);map_obj.map=new google.maps.Map(map_obj.element,{zoom:parseInt(map_obj.settings.zoom),center:center,disableDoubleClickZoom:(map_obj.settings.doubleclickzoom===true),scrollwheel:map_obj.settings.scroll_wheel,zoomControl:(map_obj.settings.zoom_control===true),fullscreenControl:(map_obj.settings.full_screen_control===true),fullscreenControlOptions:{position:eval("google.maps.ControlPosition."+map_obj.settings.full_screen_control_position)},zoomControlOptions:{style:eval("google.maps.ZoomControlStyle."+map_obj.settings.zoom_control_style),position:eval("google.maps.ControlPosition."+map_obj.settings.zoom_control_position)},mapTypeControl:(map_obj.settings.map_type_control==true),mapTypeControlOptions:{style:eval("google.maps.MapTypeControlStyle."+map_obj.settings.map_type_control_style),position:eval("google.maps.ControlPosition."+map_obj.settings.map_type_control_position)},scaleControl:(map_obj.settings.scale_control==true),streetViewControl:(map_obj.settings.street_view_control==true),streetViewControlOptions:{position:eval("google.maps.ControlPosition."+map_obj.settings.street_view_control_position)},overviewMapControl:(map_obj.settings.overview_map_control==true),overviewMapControlOptions:{opened:map_obj.settings.overview_map_control},draggable:map_obj.settings.draggable,mapTypeId:eval("google.maps.MapTypeId."+map_obj.settings.map_type_id),styles:eval(map_obj.map_data.styles),minZoom:parseInt(map_obj.settings.min_zoom),maxZoom:parseInt(map_obj.settings.max_zoom),gestureHandling:map_obj.settings.gesture,});map_obj.map_loaded();map_obj.responsive_map();map_obj.create_markers();map_obj.display_markers();if(typeof map_obj.settings.google_fonts!=='undefined'){map_obj.load_google_fonts(map_obj.settings.google_fonts);}
if(map_obj.settings.map_control==true){if(typeof map_obj.settings.map_control_settings!='undefined'){var map_control_obj=new Map_Control();$.each(map_obj.settings.map_control_settings,function(k,val){var centerControlDiv=document.createElement('div');map_control_obj.create_element(centerControlDiv,map_obj.map,val.html);centerControlDiv.index=1;map_obj.map.controls[eval("google.maps.ControlPosition."+val.position)].push(centerControlDiv);});}}
if(map_obj.settings.locateme_control==true&&map_obj.settings.locateme_control_position){var map_control_obj=new Map_Control();var centerControlDiv=document.createElement('div');map_control_obj.create_element(centerControlDiv,map_obj.map,"<span title='"+wpgmp_local.locate_me+"' alt class='wpgmp_locateme_control "+map_obj.settings.locateme_control_position.toLowerCase()+"'></span>");map_obj.map.controls[eval("google.maps.ControlPosition."+map_obj.settings.locateme_control_position)].push(centerControlDiv);}
if(map_obj.map_data.street_view){map_obj.set_streetview(center);}
if(map_obj.map_data.weather_layer){map_obj.set_weather_layer();}
if(map_obj.map_data.bicyle_layer){map_obj.set_bicyle_layer();}
if(map_obj.map_data.traffic_layer){map_obj.set_traffic_layer();}
if(map_obj.map_data.transit_layer){map_obj.set_transit_layer();}
if(map_obj.map_data.panoramio_layer){map_obj.set_panoramic_layer();}
if(map_obj.map_data.overlay_setting){map_obj.set_overlay();}
if(map_obj.settings.display_45_imagery=='45'){map_obj.set_45_imagery();}
if(typeof map_obj.map_data.map_visual_refresh===true){map_obj.set_visual_refresh();}
if(map_obj.map_data.marker_cluster){map_obj.set_marker_cluster();}
if(map_obj.map_data.panning_control){map_obj.set_panning_control();}
if(map_obj.map_data.kml_layer){map_obj.set_kml_layer();}
if(map_obj.map_data.fusion_layer){map_obj.set_fusion_layer();}
if(map_obj.settings.search_control==true){map_obj.show_search_control();}
if(typeof map_obj.map_data.shapes!='undefined'){if(typeof map_obj.map_data.shapes.shape!='undefined'){map_obj.opened_info=map_obj.infowindow_marker;if(typeof map_obj.map_data.shapes.shape.polygons!='undefined')
map_obj.create_polygon();if(typeof map_obj.map_data.shapes.shape.polylines!='undefined')
map_obj.create_polyline();if(typeof map_obj.map_data.shapes.shape.circles!='undefined')
map_obj.create_circle();if(typeof map_obj.map_data.shapes.shape.rectangles!='undefined')
map_obj.create_rectangle();}}
if(map_obj.map_data.routes){map_obj.create_routes();}
if(map_obj.map_data.listing){if(map_obj.map_data.listing.default_sorting){var data_type='';if(map_obj.map_data.listing.default_sorting.orderby=='listorder'){data_type='num';}
map_obj.sorting(map_obj.map_data.listing.default_sorting.orderby,map_obj.map_data.listing.default_sorting.inorder,data_type);}}
if(map_obj.map_data.listing){$(map_obj.container).on('change','[data-filter="dropdown"]',function(){map_obj.update_filters();});$(map_obj.container).on('click','[data-filter="checklist"]',function(){map_obj.update_filters();});$(map_obj.container).on('click','[data-filter="list"]',function(){if($(this).hasClass('fc_selected')){$(this).removeClass('fc_selected');}else{$(this).addClass('fc_selected');}
map_obj.update_filters();});map_obj.display_filters_listing();map_obj.custom_filters();$.each(map_obj.map_data.listing.filters,function(key,filter){$(map_obj.container).find('select[name="'+filter+'"]').on('change',function(){map_obj.update_filters();});});$(map_obj.container).find('[data-filter="map-sorting"]').on('change',function(){var order_data=$(this).val().split("__");var data_type='';if(order_data[0]!==''&&order_data[1]!==''){if(typeof order_data[2]!='undefined'){data_type=order_data[2];}
map_obj.sorting(order_data[0],order_data[1],data_type);map_obj.update_places_listing();}});$(map_obj.container).find('[data-name="radius"]').on('change',function(){var search_data=$(map_obj.container).find('[data-input="wpgmp-search-text"]').val();if(search_data.length>=2&&$(this).val()!=''){map_obj.geocoder.geocode({"address":search_data},function(results,status){if(status==google.maps.GeocoderStatus.OK){map_obj.search_area=results[0].geometry.location;map_obj.update_filters();}});}else{map_obj.search_area='';map_obj.update_filters();}});$(map_obj.container).find('[data-filter="map-perpage-location-sorting"]').on('change',function(){map_obj.per_page_value=$(this).val();map_obj.update_filters();});$(map_obj.container).find('[data-input="wpgmp-search-text"]').on('keyup',function(){var search_data=$(this).val();$(map_obj.container).find('[data-filter="map-radius"]').val('');map_obj.search_area='';if(search_data.length>=2&&map_obj.map_data.listing.apply_default_radius==true){if(search_data.length>=2){map_obj.geocoder.geocode({"address":search_data},function(results,status){if(status==google.maps.GeocoderStatus.OK){map_obj.search_area=results[0].geometry.location;map_obj.update_filters();}});}}else{map_obj.update_filters();}});$(map_obj.container).find(".location_pagination"+map_obj.map_data.map_property.map_id).pagination(map_obj.show_places.length,{callback:map_obj.display_places_listing,map_data:map_obj,items_per_page:map_obj.map_data.listing.pagination.listing_per_page,prev_text:wpgmp_local.prev,next_text:wpgmp_local.next});$(map_obj.container).find('[data-action="wpgmp-print"]').on('click',function(){if($('[data-container="wpgmp-listing-'+$(map_obj.element).attr("id")+'"]').length>0){$('[data-container="wpgmp-listing-'+$(map_obj.element).attr("id")+'"]').print();}
if($('[data-container="wpgmp-custom-listing-'+$(map_obj.element).attr("id")+'"]').length>0)
$('[data-container="wpgmp-custom-listing-'+$(map_obj.element).attr("id")+'"]').print();});}
$('.wpgmp-shape-delete').click(function(){map_obj.deleteSelectedShape();$('.hiderow').hide();});$('select[name="shape_stroke_opacity"]').change(function(){map_obj.set_shapes_options(map_obj.selectedShape);});$('select[name="shape_stroke_weight"]').change(function(){map_obj.set_shapes_options(map_obj.selectedShape);});$('select[name="shape_stroke_color"]').change(function(){map_obj.set_shapes_options(map_obj.selectedShape);});$('select[name="shape_fill_opacity"]').change(function(){map_obj.set_shapes_options(map_obj.selectedShape);});$('select[name="shape_fill_color"]').change(function(){map_obj.set_shapes_options(map_obj.selectedShape);});$('input[name="shape_click_url"]').change(function(){map_obj.set_shapes_options(map_obj.selectedShape);});$('textarea[name="shape_click_message"]').blur(function(){map_obj.set_shapes_options(map_obj.selectedShape);});$("textarea[name='shape_path']").blur(function(){var cordinates=$(this).val().split(' ');if(cordinates.length==1){cordinates=$(this).val().split("\n");}
var path=[];$.each(cordinates,function(ind,cordinate){var latlng=cordinate.split(',');path.push(new google.maps.LatLng(latlng[0],latlng[1]));});map_obj.selectedShape.setPath(path);});$("input[name='shape_radius']").blur(function(){var radius=parseFloat($(this).val());map_obj.selectedShape.setRadius(radius);});$("input[name='shape_center']").blur(function(){var latlng=$(this).val().split(',');map_obj.selectedShape.setCenter(new google.maps.LatLng(parseFloat(latlng[0]),parseFloat(latlng[1])));});$("input[name='shape_northeast']").blur(function(){var ea=$(this).val().split(',');var sw=$("input[name='shape_southwest']").val().split(',');map_obj.selectedShape.setBounds(new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(sw[0]),parseFloat(sw[1])),new google.maps.LatLng(parseFloat(ea[0]),parseFloat(ea[1]))));});$("input[name='shape_southwest']").blur(function(){var sw=$(this).val().split(',');var ea=$("input[name='shape_northeast']").val().split(',');map_obj.selectedShape.setBounds(new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(sw[0]),parseFloat(sw[1])),new google.maps.LatLng(parseFloat(ea[0]),parseFloat(ea[1]))));});$("input[name='shape_center']").blur(function(){var latlng=$(this).val().split(',');map_obj.selectedShape.setCenter(new google.maps.LatLng(parseFloat(latlng[0]),parseFloat(latlng[1])));});$('input[name="wpgmp_save_drawing"]').click(function(){var all_shapes_cordinate=[];all_shapes_cordinate.push('polylines='+map_obj.wpgmp_save_polylines().join('::'));all_shapes_cordinate.push('polygons='+map_obj.wpgmp_save_polygons().join('::'));all_shapes_cordinate.push('circles='+map_obj.wpgmp_save_circles().join('::'));all_shapes_cordinate.push('rectangles='+map_obj.wpgmp_save_rectangles().join('::'));map_obj.wpgmp_save_shapes(all_shapes_cordinate);});if(typeof map_obj.map_data.shapes!='undefined'){if(map_obj.map_data.shapes.drawing_editable===true){$('.wpgmp-overview .color').wpColorPicker({change:function(event,ui){map_obj.set_shapes_options(map_obj.selectedShape);}});}}
if(typeof map_obj.map_data.map_tabs!='undefined'){this.map_widgets();$(map_obj.container).find(".wpgmp_toggle_main_container").find("div[id^='wpgmp_tab_']").css("display","none");if(map_obj.settings.infowindow_filter_only===false){$(map_obj.container).find("input[data-marker-category]").attr("checked",true);$(map_obj.container).find("input[data-marker-location]").attr("checked",true);}
if(this.map_data.map_tabs.category_tab&&this.map_data.map_tabs.category_tab.select_all===true){$(map_obj.container).find('input[name="wpgmp_select_all"]').click(function(){if($(this).is(":checked")){$(map_obj.container).find("input[data-marker-category]").attr("checked",true);$(map_obj.container).find('input[data-marker-location]').attr('checked',true);}else{$(map_obj.container).find("input[data-marker-category]").attr("checked",false);$(map_obj.container).find('input[data-marker-location]').attr('checked',false);}
map_obj.update_filters();});}
$(map_obj.container).find(".wpgmp_toggle_container").click(function(){$(map_obj.container).find(".wpgmp_toggle_main_container").slideToggle("slow");if($(this).text()==wpgmp_local.hide){$(this).text(wpgmp_local.show);}else{$(this).text(wpgmp_local.hide);}});if(map_obj.map_data.map_tabs.hide_tabs_default===true){$(map_obj.container).find(".wpgmp_toggle_container").trigger('click');}
$(map_obj.container).find(".wpgmp_specific_route_item").attr("checked",true);$(map_obj.container).find(".wpgmp_toggle_main_container").find("div[id^='wpgmp_tab_']").first().css("display","block");$(map_obj.container).on('click',"li[class^='wpgmp-tab-'] a",function(){$(map_obj.container).find("li[class^='wpgmp-tab-'] a").removeClass('active');$(this).addClass('active');$(map_obj.container).find(".wpgmp_toggle_main_container").find("div[id^='wpgmp_tab_']").css("display","none");$(map_obj.container).find(".wpgmp_toggle_main_container").find("#wpgmp_tab_"+$(this).parent().attr('rel')).css("display","block");});$(map_obj.container).on('change',"input[data-marker-category]",function(){var current_marker_id=$(this).data('marker-category');var that=this;if($(that).data('child-cats')){var data_child=$(that).data('child-cats').toString();if(data_child.indexOf(',')!==-1){var child_cats=data_child.split(',');}else{var child_cats=[];child_cats.push(data_child);}}
if($(this).is(":checked")===false){$(that).closest('[data-container="wpgmp-category-tab-item"]').find('input[data-marker-location]').attr('checked',false);if(child_cats){$.each(child_cats,function(i,cat){$(that).parent().parent().find('[data-marker-category="'+cat+'"]').attr('checked',false);$(that).parent().parent().find('[data-marker-category="'+cat+'"]').parent().find('input[data-marker-location]').attr('checked',false);});}}else{$(that).closest('[data-container="wpgmp-category-tab-item"]').find('input[data-marker-location]').attr('checked',true);if(child_cats){$.each(child_cats,function(i,cat){$(that).parent().parent().find('[data-marker-category="'+cat+'"]').attr('checked',true);$(that).parent().parent().find('[data-marker-category="'+cat+'"]').parent().find('input[data-marker-location]').attr('checked',true);});}}
map_obj.update_filters();});$(map_obj.container).find(".wpgmp_toggle_main_container").on('change',".wpgmp_specific_route_item",function(){var selected_route=map_obj.route_directions[$(this).val()];if($(this).is(":checked")===false){selected_route.setMap(null);}else{selected_route.setMap(map_obj.map);}});$(map_obj.container).on('change',"input[data-marker-location]",function(){map_obj.update_filters();});if(this.map_data.map_tabs.direction_tab&&this.map_data.map_tabs.direction_tab.dir_tab===true){$(this.container).find(".wpgmp_find_direction").click(function(){var start=$(map_obj.container).find('.start_point');var end=$(map_obj.container).find('.end_point');var travel_mode=$(map_obj.container).find('select[name="travel_mode"]').val();var travel_unit=$(map_obj.container).find('select[name="travel_unit"]').val();var direction_panel=$(map_obj.container).find('.directions-panel');var current_address='';if($(start).val()===""){$(start).focus();return false;}
if($(end).val()===""){$(end).focus();return false;}
var options={"start":start.val(),"end":end.val(),"mode":travel_mode,"unit":travel_unit,"direction_panel":direction_panel[0],"map":map_obj.map};map_obj.find_direction(options);});}
$(this.container).find(".wpgmp_find_nearby_button").click(function(){var target=$(this).parent().parent();var lat=$(target).find(".wpgmp_auto_suggest").data('latitude');var lon=$(target).find(".wpgmp_auto_suggest").data('longitude');if(!lat||!lon){$(target).find(".wpgmp_auto_suggest").focus();return;}
var radius=$(map_obj.container).find("input[name='wpgmp_radius']").val();var dim=$(map_obj.container).find("select[name='wpgmp_route_dimension']").val();var amenities=$(map_obj.container).find('input[name^="wpgmp_place_types"]:checked');var divide_by=1.60934;var service;if(dim=='miles'){divide_by=1.60934;}else{divide_by=1;}
var circle_radius_meters=parseInt(radius)*divide_by*1000;if(amenities.length>0&&lat&&lon){if(map_obj.current_amenities.length>0){$.each(map_obj.current_amenities,function(am,amenity){amenity.marker.setMap(null);});}
map_obj.amenity_infowindow=map_obj.infowindow_marker;var place_types=[];$.each(amenities,function(index,amenity){place_types.push($(amenity).val());});var request={location:new google.maps.LatLng(lat,lon),radius:circle_radius_meters,types:place_types};service=new google.maps.places.PlacesService(map_obj.map);service.nearbySearch(request,function(results,status){if(status==google.maps.places.PlacesServiceStatus.OK){for(var i=0;i<results.length;i++){map_obj.createMarker(results[i]);}}});map_obj.map.setCenter(new google.maps.LatLng(lat,lon));if(map_obj.map_data.map_tabs.nearby_tab.show_nearby_circle===true){if(typeof map_obj.set_nearbycenter_circle!='undefined'){map_obj.set_nearbycenter_circle.setMap(null);}
map_obj.set_nearbycenter_circle=new google.maps.Circle({map:map_obj.map,fillColor:map_obj.map_data.map_tabs.nearby_tab.nearby_circle_fillcolor,fillOpacity:map_obj.map_data.map_tabs.nearby_tab.nearby_circle_fillopacity,strokeColor:map_obj.map_data.map_tabs.nearby_tab.nearby_circle_strokecolor,strokeOpacity:map_obj.map_data.map_tabs.nearby_tab.nearby_circle_strokeopacity,strokeWeight:map_obj.map_data.map_tabs.nearby_tab.nearby_circle_strokeweight,center:new google.maps.LatLng(lat,lon),radius:circle_radius_meters,});map_obj.map.setZoom(parseInt(map_obj.map_data.map_tabs.nearby_tab.nearby_circle_zoom));}}}),$(this.container).on("click",".wpgmp_locateme_control",function(){map_obj.get_current_location(function(user_location){map_obj.map.setCenter(user_location);if(map_obj.map_center_marker){map_obj.map_center_marker.setPosition(user_location);}
if(map_obj.set_center_circle){map_obj.set_center_circle.setCenter(user_location);}});});$(this.container).find(".wpgmp_mcurrent_loction").click(function(){var this_current=this;map_obj.get_current_location(function(user_location){$(this_current).parent().find('.wpgmp_auto_suggest').data('latitude',user_location.lat());$(this_current).parent().find('.wpgmp_auto_suggest').data('longitude',user_location.lng());map_obj.geocoder.geocode({"latLng":user_location},function(results,status){if(status==google.maps.GeocoderStatus.OK){current_address=results[0]["formatted_address"];$(this_current).parent().find('.wpgmp_auto_suggest').val(current_address);}else
console.log(status);});},function(){});});}
if(typeof map_obj.map_data.geojson!='undefined'){map_obj.load_json(map_obj.map_data.geojson);}
$("body").on("click",".wpgmp_marker_link",function(){$('html, body').animate({scrollTop:$(map_obj.container).offset().top-150},500);map_obj.open_infowindow($(this).data("marker"));});$(map_obj.container).on("click",".wpgmp_locations a[data-marker]",function(){var current_marker=this;$('html, body').animate({scrollTop:$(map_obj.container).offset().top-150},500);setTimeout(function(){map_obj.open_infowindow($(current_marker).data("marker"));},600);});$(map_obj.container).on("click",".wpgmp_location_container a[data-marker]",function(){map_obj.open_infowindow($(this).data("marker"));});map_obj.google_auto_suggest($(".wpgmp_auto_suggest"));if(map_obj.settings.show_center_circle===true){map_obj.show_center_circle();}
if(map_obj.settings.show_center_marker===true){map_obj.show_center_marker();}
if(typeof map_obj.map_data.shapes!='undefined'){if(map_obj.map_data.shapes.drawing_editable===true)
this.enable_drawing();}
if(map_obj.settings.fit_bounds===true){map_obj.fit_bounds();}
if(map_obj.settings.url_filters===true){map_obj.apply_url_filters();}},load_google_fonts:function(fonts){if(fonts&&fonts.length>0){$.each(fonts,function(k,font){if(font.indexOf(',')>=0){font=font.split(",");font=font[0];}
if(font.indexOf('"')>=0){font=font.replace('"','');font=font.replace('"','');}
WebFont.load({google:{families:[font]}});});}},load_json:function(url){this.map.data.loadGeoJson(url);},createMarker:function(place){var map_obj=this;var map=map_obj.map;var placeLoc=place.geometry.location;var image={url:place.icon,size:new google.maps.Size(25,25),scaledSize:new google.maps.Size(25,25)};place.marker=new google.maps.Marker({map:map,position:place.geometry.location,icon:image});google.maps.event.addListener(place.marker,'click',function(){var new_place={};var post_info_class='fc-infowindow-';new_place.marker=place.marker;new_place.address=place.vicinity;new_place.title=place.name;new_place.location={};new_place.location.onclick_action='marker';var content='';var marker_image='';if(place.photos){marker_image=place.photos[0].getUrl();}else{marker_image='';}
var temp_listing_placeholder='';temp_listing_placeholder=map_obj.settings.infowindow_setting;if(map_obj.settings.infowindow_skin)
post_info_class='fc-infowindow-'+map_obj.settings.infowindow_skin.name;if(typeof temp_listing_placeholder=='undefined'){temp_listing_placeholder=place.content;}
replaceData={"{marker_id}":place.id,"{marker_title}":place.name,"{marker_address}":place.vicinity,"{marker_latitude}":place.geometry.location.lat(),"{marker_longitude}":place.geometry.location.lng(),"{marker_city}":'',"{marker_state}":'',"{marker_country}":'',"{marker_postal_code}":'',"{marker_zoom}":'',"{marker_icon}":place.icon,"{marker_category}":'',"{marker_message}":place.content,"{marker_image}":marker_image,};temp_listing_placeholder=temp_listing_placeholder.replace(/{[^{}]+}/g,function(match){if(match in replaceData){return(replaceData[match]);}else{return("");}});content=temp_listing_placeholder;if(content===""){if(map_obj.settings.map_infowindow_customisations===true&&map_obj.settings.show_infowindow_header===true)
content='<div class="wpgmp_infowindow '+post_info_class+'"><div class="wpgmp_iw_head"><div class="wpgmp_iw_head_content">'+place.name+'</div></div><div class="wpgmp_iw_content">'+place.vicinity+'</div></div>';else
content='<div class="wpgmp_infowindow '+post_info_class+'"><div class="wpgmp_iw_content">'+place.content+'</div></div>';}else{if(map_obj.settings.map_infowindow_customisations===true&&map_obj.settings.show_infowindow_header===true)
content='<div class="wpgmp_infowindow '+post_info_class+'"><div class="wpgmp_iw_head"><div class="wpgmp_iw_head_content">'+place.name+'</div></div><div class="wpgmp_iw_content">'+content+'</div></div>';else
content='<div class="wpgmp_infowindow '+post_info_class+'"><div class="wpgmp_iw_content">'+content+'</div></div>';}
new_place.infowindow_data=content;map_obj.openInfoWindow(new_place);});},wpgmp_image_type_overlays:function(){var map_obj=this;var imageMapType=new google.maps.ImageMapType({getTileUrl:function(coord,zoom){return['http://www.gstatic.com/io2010maps/tiles/5/L2_',zoom,'_',coord.x,'_',coord.y,'.png'].join('');},tileSize:new google.maps.Size(256,256)});map_obj.map.overlayMapTypes.push(imageMapType);},wpgmp_within_radius:function(place,search_area){var map_obj=this;var radius=$(map_obj.container).find('[data-name="radius"]').val();var dimension=map_obj.map_data.listing.radius_dimension;if(map_obj.map_data.listing.apply_default_radius==true&&radius==''){radius=map_obj.map_data.listing.default_radius;dimension=map_obj.map_data.listing.default_radius_dimension;}
if(dimension=='km'){radius=parseInt(radius)*1000;}else{radius=parseInt(radius)*1609.34;}
if(google.maps.geometry.spherical.computeDistanceBetween(place.marker.getPosition(),search_area)<radius){return true;}else{return false;}},wpgmp_get_nearby_locations:function(lat1,lon1,radius){var current_rd='miles';var map_obj=this;var radius_km=6371;if(current_rd=="miles"){max_radius_km=radius*1.61;}else if(current_rd=="km"){max_radius_km=radius;}
var distances=[];var closest=-1;var pi=Math.PI;var marker_info={};$.each(map_obj.places,function(index,place){var lat2=place.location.lat;var lon2=place.location.lng;var chLat=lat2-lat1;var chLon=lon2-lon1;var dLat=chLat*(pi/180);var dLon=chLon*(pi/180);var rLat1=lat1*(pi/180);var rLat2=lat2*(pi/180);var a=Math.sin(dLat/2)*Math.sin(dLat/2)+
Math.sin(dLon/2)*Math.sin(dLon/2)*Math.cos(rLat1)*Math.cos(rLat2);var c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));var d=radius_km*c;if(max_radius_km!==0){if(d<=max_radius_km){distances[d]=place;distances.sort(function(a,b){return a-b;});marker_info["marker"+place.id]=d;}}else{distances[d]=markers[i];distances.sort(function(a,b){return a-b;});marker_info["marker"+place.id]=d;}});sortest_markers=map_obj.wpgmp_sort_distance(marker_info);return sortest_markers;},wpgmp_sort_distance:function(obj){var arr=[];for(var prop in obj){if(obj.hasOwnProperty(prop)){arr.push({"key":prop,"value":obj[prop]});}}
arr.sort(function(a,b){return a.value-b.value;});return arr;},get_user_position:function(){var map_obj=this;navigator.geolocation.getCurrentPosition(function(position){map_obj.user_lat_lng=new google.maps.LatLng(position.coords.latitude,position.coords.longitude);},function(ErrorPosition){},{enableHighAccuracy:true,timeout:5000,maximumAge:0});},marker_bind:function(marker){map_obj=this;google.maps.event.addListener(marker,'drag',function(){var position=marker.getPosition();map_obj.geocoder.geocode({latLng:position},function(results,status){if(status==google.maps.GeocoderStatus.OK){$("#googlemap_address").val(results[0].formatted_address);$(".google_city").val(map_obj.wpgmp_finddata(results[0],'administrative_area_level_3')||map_obj.wpgmp_finddata(results[0],'lomocoaty'));$(".google_state").val(map_obj.wpgmp_finddata(results[0],"administrative_area_level_1"));$(".google_country").val(map_obj.wpgmp_finddata(results[0],"country"));if(results[0].address_components){for(var i=0;i<results[0].address_components.length;i++){for(var j=0;j<results[0].address_components[i].types.length;j++){if(results[0].address_components[i].types[j]=="postal_code"){wpgmp_zip_code=results[0].address_components[i].long_name;$(".google_postal_code").val(wpgmp_zip_code);}}}}}});$(".google_latitude").val(position.lat());$(".google_longitude").val(position.lng());});},google_auto_suggest:function(obj){var map_obj=this;obj.each(function(){var current_input=this;var autocomplete=new google.maps.places.Autocomplete(this);autocomplete.bindTo('bounds',map_obj.map);if($(this).attr("name")=='location_address'){var infowindow=map_obj.infowindow_marker;var marker=new google.maps.Marker({map:map_obj.map,draggable:true,anchorPoint:new google.maps.Point(0,-29)});map_obj.marker_bind(marker);google.maps.event.addListener(autocomplete,'place_changed',function(){var place=autocomplete.getPlace();if(!place.geometry){return;}
if(place.geometry.viewport){map_obj.map.fitBounds(place.geometry.viewport);}else{map_obj.map.setCenter(place.geometry.location);map_obj.map.setZoom(17);}
$(".google_latitude").val(place.geometry.location.lat());$(".google_longitude").val(place.geometry.location.lng());$(".google_city").val(map_obj.wpgmp_finddata(place,'administrative_area_level_3')||map_obj.wpgmp_finddata(place,'lomocoaty'));$(".google_state").val(map_obj.wpgmp_finddata(place,"administrative_area_level_1"));$(".google_country").val(map_obj.wpgmp_finddata(place,"country"));if(place.address_components){for(var i=0;i<place.address_components.length;i++){for(var j=0;j<place.address_components[i].types.length;j++){if(place.address_components[i].types[j]=="postal_code"){wpgmp_zip_code=place.address_components[i].long_name;$(".google_postal_code").val(wpgmp_zip_code);}}}}
marker.setPosition(place.geometry.location);marker.setVisible(true);});}else{google.maps.event.addListener(autocomplete,'place_changed',function(){var place=autocomplete.getPlace();if(!place.geometry){return;}
$().val(place.geometry.location.lat());$(current_input).data('longitude',place.geometry.location.lng());$(current_input).data('latitude',place.geometry.location.lat());});}});},wpgmp_finddata:function(result,type){var component_name="";for(i=0;i<result.address_components.length;++i){var component=result.address_components[i];$.each(component.types,function(index,value){if(value==type){component_name=component.long_name;}});}
return component_name;},clearSelection:function(){var map_obj=this;if(map_obj.selectedShape){map_obj.selectedShape.setEditable(false);map_obj.selectedShape=null;}},setSelection:function(shape){var map_obj=this;map_obj.clearSelection();map_obj.selectedShape=shape;map_obj.selectedShape.setEditable(true);},deleteSelectedShape:function(){var map_obj=this;var key;if(map_obj.selectedShape){for(key in map_obj.wpgmp_circles){if(map_obj.wpgmp_circles[key]==map_obj.selectedShape){map_obj.wpgmp_circles.splice(key,1);}}
for(key in map_obj.wpgmp_rectangles){if(map_obj.wpgmp_rectangles[key]==map_obj.selectedShape){map_obj.wpgmp_rectangles.splice(key,1);}}
for(key in map_obj.wpgmp_polygons){if(map_obj.wpgmp_polygons[key]==map_obj.selectedShape){map_obj.wpgmp_polygons.splice(key,1);}}
for(key in map_obj.wpgmp_polylines){if(map_obj.wpgmp_polylines[key]==map_obj.selectedShape){map_obj.wpgmp_polylines.splice(key,1);}}
map_obj.selectedShape.setMap(null);}},add_tab:function(title,content){var tab=[];tab.title=title;tab.content=content;this.tabs.push(tab);},show_tabs:function(){if(this.tabs.length===0||(this.map_data.listing&&this.map_data.listing.hide_map==true))
return;var content='<div class="wpgmp_tabs_container cleanslate"><ul class="wpgmp_tabs clearfix">';$.each(this.tabs,function(index,tab){if(index==0)
content+='<li class="wpgmp-tab-'+index+'" rel="'+index+'"><a class="active" href="javascript:void(0);">'+tab.title+'</a></li>';else
content+='<li class="wpgmp-tab-'+index+'" rel="'+index+'"><a href="javascript:void(0);">'+tab.title+'</a></li>';});content+='</ul>';content+='<div class="wpgmp_toggle_main_container">';$.each(this.tabs,function(index,tab){content+='<div id="wpgmp_tab_'+index+'">';content+=tab.content;content+='</div>';});content+='</div><div class="wpgmp_toggle_container">'+wpgmp_local.hide+'</div></div>';return content;},map_widgets:function(){var content='';if(this.map_data.map_tabs.category_tab&&this.map_data.map_tabs.category_tab.cat_tab===true)
this.widget_category();if(this.map_data.map_tabs.direction_tab&&this.map_data.map_tabs.direction_tab.dir_tab===true)
this.widget_directions();if(this.map_data.map_tabs.nearby_tab&&this.map_data.map_tabs.nearby_tab.near_tab===true)
this.widget_nearby();if(this.map_data.map_tabs.route_tab&&this.map_data.map_tabs.route_tab.display_route_tab===true)
this.widget_route_tab();if(this.map_data.map_tabs.extension_tabs){this.widget_extensions_tab();}
content+=this.show_tabs();if(content!='undefined')
$(this.container).find('.wpgmp_map_parent').append(content);},widget_extensions_tab:function(){var map_obj=this;var new_tabs=map_obj.map_data.map_tabs.extension_tabs;if(typeof new_tabs!='undefined'&&new_tabs.length>0){$.each(new_tabs,function(index,tab){map_obj.add_tab(tab.title,tab.content);});}},widget_route_tab:function(){var route_data=this.map_data.map_tabs.route_tab.route_tab_data;var content='';if(this.map_data.map_tabs.route_tab.display_route_tab_data===true){content+='<div id="wpgmp_route_tab">';if(route_data){$.each(route_data,function(index,route){content+='<div class="wpgmp_tab_item">';content+='<input type="checkbox" class="wpgmp_specific_route_item" value="'+route.route_id+'">';var box='<span style="display:inline-block;width:10px;height:10px;background-color:'+route.route_stroke_color+';float:right;margin-right:10px;margin-top:5px;"></span>';content+='<a href="javascript:void(0);" class="wpgmp_cat_title accordion accordion-close">'+route.route_title+box+'</a>';content+='<div class="directions-panel-route'+route.route_id+' wpgmp-directions-panel-route-style" style="overflow-y:scroll; height:200px;"></div>';content+='</div>';});}
content+='</div>';}
this.add_tab(this.map_data.map_tabs.route_tab.route_tab_title,content);},widget_nearby:function(){var content='<div class="wpgmp_nearby_container">';content+='<p><input  placeholder="'+wpgmp_local.start_point+'" type="text" name="start_point" class="input start_point wpgmp_auto_suggest" autocomplete="off" /><span class="wpgmp_mcurrent_loction" title="'+wpgmp_local.take_current_location+'">&nbsp;</span></p>';content+='<p><input name="wpgmp_radius" placeholder="'+wpgmp_local.radius+'" type="text" class="input" value="25" size="8"> <select name="wpgmp_route_dimension"><option value="miles">'+wpgmp_local.miles+'</option><option value="km">'+wpgmp_local.km+'</option></select></p>';if(typeof this.map_data.map_tabs.nearby_tab.nearby_amenities!='undefined'){var all_amenities=this.map_data.map_tabs.nearby_tab.nearby_amenities;if(all_amenities){content+='<div class="choose_amenities">';$.each(all_amenities,function(index,amenity){content+="<span class='amenity_type'><input type='checkbox' value='"+amenity+"' name='wpgmp_place_types[]' /><label>"+amenity+'</label></span>';});}}
content+='</div>';content+='<p style="clear:both;"><input type="submit" value="'+wpgmp_local.find_location+'" class="wpgmp_find_nearby_button" /></p><div class="location_panel"></div></div>';this.add_tab(this.map_data.map_tabs.nearby_tab.nearby_tab_title,content);},widget_directions:function(){var content='';content='<div class="wpgmp_direction_container">';if(this.map_data.map_tabs.route_start_location=="textbox"){content+='<p><input value="'+this.map_data.map_tabs.direction_tab.default_start_location+'" placeholder="'+wpgmp_local.start_location+'" type="text" name="start_point" class="input start_point wpgmp_auto_suggest" autocomplete="off" /><span class="wpgmp_mcurrent_loction" title="'+wpgmp_local.take_current_location+'">&nbsp;</span></p>';}else if(this.map_data.map_tabs.route_start_location=="selectbox"){content+='<p><select name="start_point" class="input start_point" autocomplete="off" >';content+='<option value="">'+wpgmp_local.start_location+'</option>';$.each(this.places,function(index,place){content+='<option value="'+place.address+'">'+place.title+'</option>';});content+='</select>';}
if(this.map_data.map_tabs.route_end_location=="textbox"){content+='<p><input value="'+this.map_data.map_tabs.direction_tab.default_end_location+'" placeholder="'+wpgmp_local.end_location+'" name="end_point" type="text" class="input end_point wpgmp_auto_suggest" autocomplete="off" /></p>';}else if(this.map_data.map_tabs.route_end_location=="selectbox"){content+='<p><select name="end_point" class="input end_point" autocomplete="off" >';content+='<option value="">'+wpgmp_local.end_location+'</option>';$.each(this.places,function(index,place){content+='<option value="'+place.address+'">'+place.title+'</option>';});content+='</select>';}
content+='<p><select name="travel_mode" id="travaling_mode"> <option value="DRIVING" selected="selected">'+wpgmp_local.driving+'</option> <option value="BICYCLING">'+wpgmp_local.bicycling+'</option> <option value="WALKING">'+wpgmp_local.walking+'</option> <option value="TRANSIT">'+wpgmp_local.transit+'</option> </select></p>';content+='<p><select name="travel_unit" id="travel_unit"> <option value="metric" selected="selected">'+wpgmp_local.metric+'</option> <option value="imperial">'+wpgmp_local.imperial+'</option></select></p><p><input type="submit" value="'+wpgmp_local.find_direction+'" class="wpgmp_find_direction"></p><div class="directions-panel" style="overflow-y:scroll;display:none;"></div></div>';this.add_tab(this.map_data.map_tabs.direction_tab.direction_tab_title,content);},widget_category:function(){var map_obj=this;if(map_obj.map_data.map_tabs.category_tab.select_all===true){var content='<div class="wpgmp-select-all"><input checked="checked" type="checkbox" value="true" name="wpgmp_select_all">&nbsp&nbsp'+wpgmp_local.select_all+'</div>';}else{var content='';}
var categories_tab_data={};var child_categories_tab_data={};if(typeof map_obj.map_data.places!='undefined'){$.each(map_obj.map_data.places,function(index,place){if(typeof place.categories!='undefined'){$.each(place.categories,function(index,categories){var show=true;var parent_cat='';parent_cat=map_obj.search_category(map_obj.map_data.map_tabs.category_tab.child_cats,categories.id,[],categories_tab_data,child_categories_tab_data);if(parent_cat.length>0)
show=false;if(typeof categories.type!="undefined"&&categories.type=='category'&&categories.name&&show==true){if(typeof categories_tab_data[categories.id]=="undefined"){categories_tab_data[categories.id]={};categories_tab_data[categories.id]['data']=[];}
categories_tab_data[categories.id]['cat_id']=categories.id;categories_tab_data[categories.id]['cat_title']=categories.name;categories_tab_data[categories.id]['cat_marker_icon']=categories.icon;if(categories.extension_fields&&categories.extension_fields.cat_order){categories_tab_data[categories.id]['cat_order']=categories.extension_fields.cat_order;}
var redirect_permalink="";if(place.location.redirect_permalink)
redirect_permalink=place.location.redirect_permalink;var redirect_custom_link="";if(place.location.redirect_custom_link)
redirect_custom_link=place.location.redirect_custom_link;categories_tab_data[categories.id]['data'].push({"cat_location_id":place.id,"cat_location_title":place.title,"cat_location_address":place.address,"cat_location_zoom":place.location.zoom,"onclick_action":place.location.onclick_action,"redirect_permalink":redirect_permalink,"redirect_custom_link":redirect_custom_link,});}else if(typeof categories.type!="undefined"&&categories.type=='category'&&categories.name&&show==false){if(typeof child_categories_tab_data[categories.id]=="undefined"){child_categories_tab_data[categories.id]={};child_categories_tab_data[categories.id]['data']=[];child_categories_tab_data[categories.id]['parent_cat']=parent_cat;}
child_categories_tab_data[categories.id]['cat_id']=categories.id;child_categories_tab_data[categories.id]['cat_title']=categories.name;child_categories_tab_data[categories.id]['cat_marker_icon']=categories.icon;if(categories.extension_fields&&categories.extension_fields.cat_order){child_categories_tab_data[categories.id]['cat_order']=categories.extension_fields.cat_order;}
var redirect_permalink="";if(place.location.redirect_permalink)
redirect_permalink=place.location.redirect_permalink;var redirect_custom_link="";if(place.location.redirect_custom_link)
redirect_custom_link=place.location.redirect_custom_link;child_categories_tab_data[categories.id]['data'].push({"cat_location_id":place.id,"cat_location_title":place.title,"cat_location_address":place.address,"cat_location_zoom":place.location.zoom,"onclick_action":place.location.onclick_action,"redirect_permalink":redirect_permalink,"redirect_custom_link":redirect_custom_link,});if(categories_tab_data[parent_cat]!==undefined){if(typeof categories_tab_data[parent_cat]['child_cats']=='undefined'){categories_tab_data[parent_cat]['child_cats']=[];}
categories_tab_data[parent_cat]['child_cats'][categories.id]=categories.id;}}});}});}
var category_orders=[];if(typeof categories_tab_data!='undefined'){$.each(categories_tab_data,function(index,categories){var loc_count=categories.data.length;if(typeof child_categories_tab_data!="undefined"){$.each(child_categories_tab_data,function(c,ccat){if(ccat.parent_cat==categories.cat_id){loc_count=loc_count+ccat.data.length;$.each(child_categories_tab_data,function(cc,cccat){if(cccat.parent_cat==ccat.cat_id){loc_count=loc_count+cccat.data.length;}});}});}
categories.loc_count=loc_count;if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='count'){category_orders.push(categories.loc_count);}else if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='category'){if(categories.cat_order){category_orders.push(categories.cat_order);}else if(!categories.cat_order&&map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id]&&map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id].extensions_fields){categories.cat_order=map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id].extensions_fields.cat_order;category_orders.push(categories.cat_order);}}else{if(categories.cat_title){category_orders.push(categories.cat_title);}else if(!categories.cat_title&&map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id]){categories.cat_title=map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id].group_map_title;category_orders.push(categories.cat_title);}}});}
if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='category'){category_orders.sort(function(a,b){return a-b});}else if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='count'){category_orders.sort(function(a,b){return b-a});}else{category_orders.sort();}
var ordered_categories=[];var check_cats=[];$.each(category_orders,function(index,cat_title){$.each(categories_tab_data,function(index,categories){var compare_with;if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='count'){compare_with=categories.loc_count;}else if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='category'){compare_with=categories.cat_order;}else{compare_with=categories.cat_title;}
if(cat_title==compare_with&&$.inArray(categories.cat_id,check_cats)==-1){ordered_categories.push(categories);check_cats.push(categories.cat_id);}});});if(typeof ordered_categories!='undefined'){$.each(ordered_categories,function(index,categories){var category_image='';if(!categories.cat_title&&map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id]){categories.cat_title=map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id].group_map_title;}
if(!categories.cat_marker_icon&&map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id]){categories.cat_marker_icon=map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id].group_marker;}
if(typeof categories.cat_marker_icon!='undefined'){category_image='<span class="arrow"><img src="'+categories.cat_marker_icon+'"></span>';}
content+='<div class="wpgmp_tab_item" data-container="wpgmp-category-tab-item">';if(categories.child_cats!==undefined){categories.child_cats=categories.child_cats.filter(function(v){return v!==''});var child_cats_str=' data-child-cats="'+categories.child_cats.join(",")+'"';}else{var child_cats_str='';}
content+='<input type="checkbox"'+child_cats_str+' data-marker-category="'+categories.cat_id+'" value="'+categories.cat_id+'">';var loc_count=categories.loc_count;;$.each(map_obj.map_data.map_tabs.category_tab.child_cats,function(k,v){if(v==categories.cat_id&&loc_count==0)
loc_count="";});if(map_obj.map_data.map_tabs.category_tab.show_count===true&&loc_count!=""){location_count=" ("+loc_count+")";}else{location_count="";}
content+='<a href="javascript:void(0);" class="wpgmp_cat_title accordion accordion-close">'+categories.cat_title+location_count+category_image+'</a>';if(map_obj.map_data.map_tabs.category_tab.hide_location!==true){content+='<div class="scroll-pane" style="max-height:300px;width:100%;">';content+='<ul class="wpgmp_location_container">';$.each(categories.data,function(name,location){if(location.onclick_action=="marker"){content+='<li><input type="checkbox" data-marker-location="'+location.cat_location_id+'"  value="'+location.cat_location_id+'" /><a data-marker="'+location.cat_location_id+'" data-zoom="'+location.cat_location_zoom+'" href="javascript:void(0);">'+location.cat_location_title+'</a></li>';}else if(location.onclick_action=="post"){content+='<li><input type="checkbox" data-marker-location="'+location.cat_location_id+'"  value="'+location.cat_location_id+'" /><a href="'+location.redirect_permalink+'" target="_blank">'+location.cat_location_title+'</a></li>';}else if(location.onclick_action=="custom_link"){content+='<li><input type="checkbox" data-marker-location="'+location.cat_location_id+'"  value="'+location.cat_location_id+'" /><a href="'+location.redirect_custom_link+'" target="_blank">'+location.cat_location_title+'</a></li>';}});content+='</ul>';content+='</div>';}
content+='</div>';if(typeof child_categories_tab_data!="undefined"){var padding=20;content+=map_obj.display_sub_categories(child_categories_tab_data,categories.cat_id,'',padding);}});}
map_obj.add_tab(map_obj.map_data.map_tabs.category_tab.cat_tab_title,content);},search_category:function(array,cat_id,index,categories_tab_data,child_categories_tab_data){var map_obj=this;var flag=true;$.each(array,function(k,i){if(k==cat_id){index=i;flag=false;if(typeof child_categories_tab_data[cat_id]=="undefined"){child_categories_tab_data[cat_id]={};child_categories_tab_data[cat_id]['data']=[];child_categories_tab_data[cat_id]['parent_cat']=i;child_categories_tab_data[cat_id]['cat_id']=cat_id;$.each(map_obj.categories,function(k,e){if(e.group_map_id==cat_id){child_categories_tab_data[cat_id]['cat_title']=e.group_map_title;child_categories_tab_data[cat_id]['cat_marker_icon']=e.group_marker;}});}
index=map_obj.search_category(map_obj.map_data.map_tabs.category_tab.child_cats,i,index,categories_tab_data,child_categories_tab_data);}});if(flag==true){if(typeof categories_tab_data[cat_id]=="undefined"){categories_tab_data[cat_id]={};categories_tab_data[cat_id]['data']=[];categories_tab_data[cat_id]['cat_id']=cat_id;$.each(map_obj.categories,function(k,e){if(e.group_map_id==cat_id){categories_tab_data[cat_id]['cat_title']=e.group_map_title;categories_tab_data[cat_id]['cat_marker_icon']=e.group_marker;}});}}
return index;},display_sub_categories:function(child_categories_tab_data,cat_id,content,padding){var map_obj=this;var category_orders=[];if(typeof child_categories_tab_data!='undefined'){$.each(child_categories_tab_data,function(index,categories){var loc_count=categories.data.length;if(typeof child_categories_tab_data!="undefined"){$.each(child_categories_tab_data,function(c,ccat){if(ccat.parent_cat==categories.cat_id){loc_count=loc_count+ccat.data.length;$.each(child_categories_tab_data,function(cc,cccat){if(cccat.parent_cat==ccat.cat_id){loc_count=loc_count+cccat.data.length;}});}});}
categories.loc_count=loc_count;if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='count'){category_orders.push(categories.loc_count);}else if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='category'){if(categories.cat_order){category_orders.push(categories.cat_order);}else if(!categories.cat_order&&map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id]){categories.cat_order=map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id].extensions_fields.cat_order;category_orders.push(categories.cat_order);}}else{if(categories.cat_title){category_orders.push(categories.cat_title);}else if(!categories.cat_title&&map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id]){categories.cat_title=map_obj.map_data.map_tabs.category_tab.all_cats[categories.cat_id].group_map_title;category_orders.push(categories.cat_title);}}});}
if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='category'){category_orders.sort(function(a,b){return a-b});}else if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='count'){category_orders.sort(function(a,b){return b-a});}else{category_orders.sort();}
var ordered_categories=[];var check_cats=[];$.each(category_orders,function(index,cat_title){$.each(child_categories_tab_data,function(index,categories){var compare_with;if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='count'){compare_with=categories.loc_count;}else if(map_obj.map_data.map_tabs.category_tab.cat_order_by=='category'){compare_with=categories.cat_order;}else{compare_with=categories.cat_title;}
if(cat_title==compare_with&&$.inArray(categories.cat_id,check_cats)==-1){ordered_categories.push(categories);check_cats.push(categories.cat_id);}});});$.each(ordered_categories,function(index,child_cat){if(child_cat.parent_cat==cat_id){var category_image='';if(!child_cat.cat_title&&map_obj.map_data.map_tabs.category_tab.all_cats[child_cat.cat_id]){child_cat.cat_title=map_obj.map_data.map_tabs.category_tab.all_cats[child_cat.cat_id].group_map_title;}
if(!child_cat.cat_marker_icon&&map_obj.map_data.map_tabs.category_tab.all_cats[child_cat.cat_id]){child_cat.cat_marker_icon=map_obj.map_data.map_tabs.category_tab.all_cats[child_cat.cat_id].group_marker;}
if(typeof child_cat.cat_marker_icon!='undefined'){category_image='<span class="arrow"><img src="'+child_cat.cat_marker_icon+'"></span>';}
content+='<div class="wpgmp_tab_item" data-container="wpgmp-category-tab-item" style="padding-left:'+padding+'px;">';if(map_obj.map_data.map_tabs.category_tab.parent_cats!==undefined&&map_obj.map_data.map_tabs.category_tab.parent_cats[child_cat.cat_id])
var child_cats_str=' data-child-cats="'+map_obj.map_data.map_tabs.category_tab.parent_cats[child_cat.cat_id].join(",")+'"';else
var child_cats_str='';content+='<input type="checkbox"'+child_cats_str+' data-parent-cat="'+cat_id+'" data-marker-category="'+child_cat.cat_id+'" value="'+child_cat.cat_id+'">';var loc_count=child_cat.loc_count;$.each(map_obj.map_data.map_tabs.category_tab.child_cats,function(k,v){if(v==child_cat.cat_id&&loc_count==0)
loc_count="";});if(map_obj.map_data.map_tabs.category_tab.show_count===true&&loc_count!=""){location_count=" ("+loc_count+")";}else{location_count="";}
content+='<a href="javascript:void(0);" class="wpgmp_cat_title accordion accordion-close">'+child_cat.cat_title+location_count+category_image+'</a>';if(map_obj.map_data.map_tabs.category_tab.hide_location!==true){content+='<div class="scroll-pane" style="height: 97px; width:100%;">';content+='<ul class="wpgmp_location_container">';$.each(child_cat.data,function(name,location){if(location.onclick_action=="marker"){content+='<li><input type="checkbox" data-marker-location="'+location.cat_location_id+'"  value="'+location.cat_location_id+'" /><a data-marker="'+location.cat_location_id+'" data-zoom="'+location.cat_location_zoom+'" href="javascript:void(0);">'+location.cat_location_title+'</a></li>';}else if(location.onclick_action=="post"){content+='<li><input type="checkbox" data-marker-location="'+location.cat_location_id+'"  value="'+location.cat_location_id+'" /><a href="'+location.redirect_permalink+'" target="_blank">'+location.cat_location_title+'</a></li>';}else if(location.onclick_action=="custom_link"){content+='<li><input type="checkbox" data-marker-location="'+location.cat_location_id+'"  value="'+location.cat_location_id+'" /><a href="'+location.redirect_custom_link+'" target="_blank">'+location.cat_location_title+'</a></li>';}});content+='</ul>';content+='</div>';}
content+='</div>';content+=map_obj.display_sub_categories(child_categories_tab_data,child_cat.cat_id,'',(padding+20));}else if((index+1)==child_categories_tab_data.length)
return;});return content;},sorting:function(order_by,in_order,data_type){switch(order_by){case'category':this.places.sort(this.sortByCategory);this.show_places.sort(this.sortByCategory);if(in_order=='desc'){this.places.reverse();this.show_places.reverse();}
break;case'title':this.map_data.places.sort(this.sortByTitle);this.show_places.sort(this.sortByTitle);if(in_order=='desc'){this.places.reverse();this.show_places.reverse();}
break;case'address':this.map_data.places.sort(this.sortByAddress);this.show_places.sort(this.sortByAddress);if(in_order=='desc'){this.places.reverse();this.show_places.reverse();}
break;default:var first_place=this.map_data.places[0];if(typeof first_place[order_by]!='undefined'){this.map_data.places.sort(this.sortByPlace(order_by,data_type));this.show_places.sort(this.sortByPlace(order_by,data_type));}else if(typeof first_place.location[order_by]!='undefined'){this.map_data.places.sort(this.sortByLocation(order_by,data_type));this.show_places.sort(this.sortByLocation(order_by,data_type));}else if(typeof first_place.location.extra_fields[order_by]!='undefined'){this.map_data.places.sort(this.sortByExtraFields(order_by,data_type));this.show_places.sort(this.sortByExtraFields(order_by,data_type));}
if(in_order=='desc'){this.places.reverse();this.show_places.reverse();}}},sortByExtraFields:function(order_by,data_type){return function(a,b){if(typeof b.location.extra_fields[order_by]!='undefined'&&typeof a.location.extra_fields[order_by]!='undefined'){if(b.location.extra_fields[order_by]==null){b.location.extra_fields[order_by]='';}
if(a.location.extra_fields[order_by]==null){a.location.extra_fields[order_by]='';}
if(data_type=='num'){var a_val=parseInt(a.location.extra_fields[order_by]);var b_val=parseInt(b.location.extra_fields[order_by]);}else{var a_val=a.location.extra_fields[order_by].toLowerCase();var b_val=b.location.extra_fields[order_by].toLowerCase();}
return((a_val<b_val)?-1:((a_val>b_val)?1:0));}}},sortByLocation:function(order_by,data_type){return function(a,b){if(b.location[order_by]&&a.location[order_by]){if(a.location[order_by]&&b.location[order_by]){var a_val=a.location[order_by].toLowerCase();var b_val=b.location[order_by].toLowerCase();if(data_type=='num'){a_val=parseInt(a_val);b_val=parseInt(b_val);}
return((a_val<b_val)?-1:((a_val>b_val)?1:0));}}}},sortByPlace:function(order_by,data_type){return function(a,b){if(b[order_by]&&a[order_by]){if(a[order_by]&&b[order_by]){var a_val=a[order_by].toLowerCase();var b_val=b[order_by].toLowerCase();if(data_type=='num'){a_val=parseInt(a_val);b_val=parseInt(b_val);}
return((a_val<b_val)?-1:((a_val>b_val)?1:0));}}}},sortByCategory:function(a,b){if(b.categories[0]&&a.categories[0]){if(a.categories[0].name&&b.categories[0].name){var a_val=a.categories[0].name.toLowerCase();var b_val=b.categories[0].name.toLowerCase();return((a_val<b_val)?-1:((a_val>b_val)?1:0));}}},sortByTitle:function(a,b){var a_val=a.title.toLowerCase();var b_val=b.title.toLowerCase();return((a_val<b_val)?-1:((a_val>b_val)?1:0));},sortByValue:function(a,b){var a_val=a.toLowerCase();var b_val=b.toLowerCase();return((a_val<b_val)?-1:((a_val>b_val)?1:0));},sortByAddress:function(a,b){var a_val=a.address.toLowerCase();var b_val=b.address.toLowerCase();return((a_val<b_val)?-1:((a_val>b_val)?1:0));},update_filters:function(){var map_obj=this;var filters={};var all_dropdowns=$(map_obj.container).find('[data-filter="dropdown"]');var all_checkboxes=$(map_obj.container).find('[data-filter="checklist"]:checked');var all_list=$(map_obj.container).find('[data-filter="list"].fc_selected');$.each(all_dropdowns,function(index,element){if($(this).val()!=''){if(typeof filters[$(this).data('name')]=='undefined'){filters[$(this).data('name')]=[];}
filters[$(this).data('name')].push($(this).val());}});$.each(all_checkboxes,function(index,element){if(typeof filters[$(this).data('name')]=='undefined'){filters[$(this).data('name')]=[];}
filters[$(this).data('name')].push($(this).val());});$.each(all_list,function(index,element){if(typeof filters[$(this).data('name')]=='undefined'){filters[$(this).data('name')]=[];}
filters[$(this).data('name')].push($(this).data('value').toString());});this.apply_filters(filters);},apply_url_filters:function(){var map_obj=this;var search=location.search.substring(1);var url_filters=$.parseParams(search||'');var filters={};if(!$.isEmptyObject(url_filters)){map_obj.url_filters=url_filters;$.each(url_filters,function(index,element){if(index=='search'){$(map_obj.container).find('[data-input="wpgmp-search-text"]').val(element);}});map_obj.apply_filters(filters);}},apply_filters:function(filters){var map_obj=this;var showAll=true;var show=true;map_obj.show_places=[];var enable_search_term=false;if($(map_obj.container).find('[data-input="wpgmp-search-text"]').length>0){search_term=$(map_obj.container).find('[data-input="wpgmp-search-text"]').val();search_term=search_term.toLowerCase();if(search_term.length>0){enable_search_term=true;}}
if(((map_obj.map_data.map_tabs&&map_obj.map_data.map_tabs.category_tab&&map_obj.map_data.map_tabs.category_tab.cat_tab===true)||$(map_obj.container).find('input[data-marker-category]').length>0)){var all_selected_category_sel=$(map_obj.container).find('input[data-marker-category]:checked');var all_selected_category=[];var all_not_selected_location=[];if(all_selected_category_sel.length>0){$.each(all_selected_category_sel,function(index,selected_category){all_selected_category.push($(selected_category).data("marker-category"));var all_not_selected_location_sel=$(selected_category).closest('[data-container="wpgmp-category-tab-item"]').find('input[data-marker-location]:not(:checked)');if(all_not_selected_location_sel.length>0){$.each(all_not_selected_location_sel,function(index,not_selected_location){all_not_selected_location.push($(not_selected_location).data("marker-location"));});}});}
var all_selected_location_sel=$(map_obj.container).find('[data-container="wpgmp-category-tab-item"]').find('input[data-marker-location]:checked');var all_selected_location=[];if(all_selected_location_sel.length>0){$.each(all_selected_location_sel,function(index,selected_location){all_selected_location.push($(selected_location).data("marker-location"));});}}
if(typeof map_obj.map_data.places!='undefined'){$.each(map_obj.map_data.places,function(place_key,place){show=true;if(typeof filters!='undefined'){$.each(filters,function(filter_key,filter_values){var in_fields=false;if($.isArray(filter_values)){if(typeof place.categories!='undefined'&&filter_key=="category"){$.each(place.categories,function(cat_index,category){if($.inArray(category.id,filter_values)>-1){in_fields=true;}});}
if(typeof place.custom_filters!='undefined'){$.each(place.custom_filters,function(k,val){if(filter_key==k){in_fields=false;if($.isArray(val)){$.each(val,function(index,value){if($.inArray(value,filter_values)>-1)
in_fields=true;});}else if(val==filter_values.val)
in_fields=true;}});}
if(typeof place[filter_key]!='undefined'){if($.inArray(place[filter_key],filter_values)>-1){in_fields=true;}}else if(typeof place.location[filter_key]!='undefined'){if($.inArray(place.location[filter_key],filter_values)>-1){in_fields=true;}}else if(typeof place.location.extra_fields[filter_key]!='undefined'){if($.inArray(place.location.extra_fields[filter_key],filter_values)>-1){in_fields=true;}}
if(in_fields==false)
show=false;}else{filter_values.val="";}});}
if(enable_search_term===true&&show===true){if(place.title.toLowerCase().indexOf(search_term)>=0){show=true;}else if(place.content.toLowerCase().indexOf(search_term)>=0){show=true;}else if(place.location.lat.toLowerCase().indexOf(search_term)>=0){show=true;}else if(place.location.lng.toLowerCase().indexOf(search_term)>=0){show=true;}else if(place.address&&place.address.toLowerCase().indexOf(search_term)>=0){show=true;}else if(place.location.state&&place.location.state.toLowerCase().indexOf(search_term)>=0){show=true;}else if(place.location.country&&place.location.country.toLowerCase().indexOf(search_term)>=0){show=true;}else if(place.location.postal_code&&place.location.postal_code.toLowerCase().indexOf(search_term)>=0){show=true;}else if(place.location.city&&place.location.city.toLowerCase().indexOf(search_term)>=0){show=true;}else if(typeof map_obj.search_area!='undefined'&&map_obj.search_area!=''&&map_obj.wpgmp_within_radius(place,map_obj.search_area)===true){show=true;}else{show=false;}
if(typeof place.location.extra_fields!='undefined'){$.each(place.location.extra_fields,function(field,value){if(value&&value.toLowerCase().indexOf(search_term)>=0)
show=true;});}}
if(all_selected_category&&show!=false){var in_checked_category=false;if(all_selected_category.length===0){if(typeof place.categories!='undefined'){$.each(place.categories,function(cat_index,category){if(category.id==='')
in_checked_category=true;});}}else{if(typeof place.categories!='undefined'){$.each(place.categories,function(cat_index,category){if(category.id==='')
in_checked_category=true;else if($.inArray(parseInt(category.id),all_selected_category)>-1){in_checked_category=true;place.marker.setIcon(category.icon);}});}}
if(all_not_selected_location.length!==0){if($.inArray(parseInt(place.id),all_not_selected_location)>-1){in_checked_category=false;}}
if(in_checked_category===false)
show=false;else
show=true;if(all_selected_location.length!==0){if($.inArray(parseInt(place.id),all_selected_location)>-1){show=true;}}}
place.marker.visible=show;place.marker.setVisible(show);if(show==false){place.infowindow.close();}
place.marker.setAnimation(null);if(show===true)
map_obj.show_places.push(place);});}
if(map_obj.map_data.listing){if($(map_obj.container).find('[data-filter="map-sorting"]').val()){var order_data=$(map_obj.container).find('[data-filter="map-sorting"]').val().split("__");var data_type='';if(order_data[0]!==''&&order_data[1]!==''){if(typeof order_data[2]!='undefined'){data_type=order_data[2];}
map_obj.sorting(order_data[0],order_data[1],data_type);}}else{if(map_obj.map_data.listing.default_sorting){var data_type='';if(map_obj.map_data.listing.default_sorting.orderby=='listorder'){data_type='num';}
map_obj.sorting(map_obj.map_data.listing.default_sorting.orderby,map_obj.map_data.listing.default_sorting.inorder,data_type);}}
map_obj.update_places_listing();}
if(map_obj.map_data.marker_cluster){map_obj.set_marker_cluster();}},create_perpage_option:function(){var map_obj=this;var options='';var content='';content+='<select name="map_perpage_location_sorting" data-filter="map-perpage-location-sorting" class="choose_salutation">';content+='<option value="'+map_obj.map_data.listing.pagination.listing_per_page+'">'+wpgmp_local.show_locations+'</option>';content+='<option value="25">25</option>';content+='<option value="50">50</option>';content+='<option value="100">100</option>';content+='<option value="200">200</option>';content+='<option value="500">500</option>';content+='<option value="'+map_obj.show_places.length+'">'+wpgmp_local.all_location+'</option>';content+='</select>';return content;},create_sorting:function(){var options='';var content='';if(this.map_data.listing.display_sorting_filter===true){content+='<select name="map_sorting" data-filter="map-sorting"><option value="">'+wpgmp_local.sort_by+'</option>';$.each(this.map_data.listing.sorting_options,function(id,name){content+="<option value='"+id+"'>"+name+"</option>";});content+='</select>';}
return content;},create_radius:function(){var options='';var content='';if(this.map_data.listing.display_radius_filter===true){content+='<select data-name="radius" name="map_radius"><option value="">'+wpgmp_local.select_radius+'</option>';var radius_options=this.map_data.listing.radius_options;var radius_dimension=this.map_data.listing.radius_dimension;$.each(radius_options.split(','),function(id,name){if(radius_dimension=='miles'){content+="<option value='"+name+"'>"+name+' '+wpgmp_local.miles+"</option>";}else{content+="<option value='"+name+"'>"+name+' '+wpgmp_local.km+"</option>";}});content+='</select>';}
return content;},custom_filters:function(){var map_obj=this;var options='';var places=this.map_data.places;var wpgmp_filters=this.map_data.filters;if(typeof wpgmp_filters=='undefined'||typeof wpgmp_filters.custom_filters=='undefined'||wpgmp_filters.custom_filters.length==0){return;}
$.each(wpgmp_filters.custom_filters,function(template_shortcode,filter_options){var all_filters=[];var content='';var filters={};$.each(filter_options,function(filter_type,filter_parameter){$.each(filter_parameter,function(filter_name,filter_label){$.each(places,function(index,place){if(filter_name=='category'){if(typeof place.categories=='undefined'){place.categories={};}
$.each(place.categories,function(cat_index,category){if(typeof filters[category.type]=='undefined'){filters[category.type]={};}
if(category.name){filters[category.type][category.name]=category.id;}});}else{if(typeof place[filter_name]!='undefined'){if(typeof filters[filter_name]=='undefined'){filters[filter_name]={};}
if(place[filter_name]){filters[filter_name][place[filter_name]]=place[filter_name];}}
if(typeof place.location.extra_fields[filter_name]!='undefined'){if(typeof filters[filter_name]=='undefined'){filters[filter_name]={};}
if(place.location.extra_fields[filter_name]){filters[filter_name][place.location.extra_fields[filter_name]]=place.location.extra_fields[filter_name];}}
if(typeof place.location[filter_name]!='undefined'){if(typeof filters[filter_name]=='undefined'){filters[filter_name]={};}
if(place.location[filter_name]){filters[filter_name][place.location[filter_name]]=place.location[filter_name];}}
if(typeof place.custom_filters!='undefined'&&typeof place.custom_filters[filter_name]!='undefined'){if(typeof filters[filter_name]=='undefined'){filters[filter_name]={};}
if(place.custom_filters[filter_name]){var options=place.custom_filters[filter_name];if($.isArray(options)){$.each(options,function(index,value){filters[filter_name][value]=value;});}else{filters[filter_name][options]=options;}}}
if(filter_name=='radius'){if(typeof filters[filter_name]=='undefined'){filters[filter_name]={};}
var radius_options=wpgmp_filters.radius_options;var radius_dimension=wpgmp_filters.radius_dimension;$.each(radius_options.split(','),function(id,name){if(radius_dimension=='miles'){filters[filter_name][name+' '+wpgmp_local.miles]=name;}else{filters[filter_name][name+' '+wpgmp_local.km]=name;}});}}});});if(filter_type=='dropdown'){if(typeof filters!='undefined'){$.each(filters,function(index,options){options=map_obj.sort_object_by_value(options);content+='<select data-filter="dropdown"  name="place_'+index+'" data-name = "'+index+'">';content+='<option value="">'+((filter_parameter[index])?filter_parameter[index]:'Select '+index)+'</option>';$.each(options,function(name,value){if(value!=''&&value!=null)
content+="<option value='"+value+"'>"+value+"</option>";});content+='</select>';});}}
if(filter_type=='checklist'){if(typeof filters!='undefined'){$.each(filters,function(index,options){content+='<div class="wpgmp_filters_checklist">';content+='<label  data-filter = "place_'+index+'" >'+((wpgmp_filters.custom_filters[index])?wpgmp_filters.custom_filters[index]:'Select '+index)+'</label>';$.each(options,function(name,value){if(value!=''&&value!=null)
content+="<input data-filter='checklist' type='checkbox' data-name = '"+index+"' value='"+value+"'>"+name;});content+='</div>';});}}
if(filter_type=='list'){if(typeof filters!='undefined'){$.each(filters,function(index,options){content+='<div class="wpgmp_filters_list">';content+='<label  data-filter = "place_'+index+'" >'+((wpgmp_filters.custom_filters[index])?wpgmp_filters.custom_filters[index]:'Select '+index)+'</label><ul>';$.each(options,function(name,value){if(value!=''&&value!=null)
content+="<li data-filter='list' data-name = '"+index+"' data-value='"+value+"'>"+name+"</li>";});content+='</ul></div>';});}}});$('body').find(wpgmp_filters.filters_container).append(content);});},sort_object_by_keyvalue:function(options,by,type,in_order){var sortable=[];for(var key in options){sortable.push(options[key]);}
sortable.sort(this.sortByPlace(by,type));if(in_order=='desc'){sortable.reverse();}
return sortable;},sort_object_by_value:function(options){var sortable=[];for(var key in options){sortable.push(key);}
sortable.sort(this.sortByValue);var new_options={}
for(i=0;i<sortable.length;i++){new_options[sortable[i]]=options[sortable[i]];}
return new_options;},create_filters:function(){var map_obj=this;var options='';var filters={};var places=this.map_data.places;var wpgmp_listing_filter=this.map_data.listing;var wpgmp_alltfilter=wpgmp_listing_filter.display_taxonomies_all_filter;$.each(places,function(index,place){if(typeof place.categories=='undefined'){place.categories={};}
$.each(place.categories,function(cat_index,category){if(typeof filters[category.type]=='undefined'){filters[category.type]={};}
if(category.name){if(category.extension_fields&&category.extension_fields.cat_order){filters[category.type][category.name]={'id':category.id,'order':category.extension_fields.cat_order,'name':category.name};}else{filters[category.type][category.name]={'id':category.id,'order':0,'name':category.name};}}});});var content='',by='name',type='',inorder='asc';if(map_obj.map_data.listing){if(map_obj.map_data.listing.default_sorting){if(map_obj.map_data.listing.default_sorting.orderby=='listorder'){by='order';type='num';inorder=map_obj.map_data.listing.default_sorting.inorder;}
inorder=map_obj.map_data.listing.default_sorting.inorder;}}
$.each(filters,function(index,options){if(wpgmp_listing_filter.display_category_filter===true&&index=="category"){content+='<select data-filter="dropdown" data-name="category" name="place_'+index+'">';content+='<option value="">'+wpgmp_local.select_category+'</option>';options=map_obj.sort_object_by_keyvalue(options,by,type,inorder);$.each(options,function(name,value){content+="<option value='"+value.id+"'>"+value.name+"</option>";});content+='</select>';}else if(wpgmp_listing_filter.display_taxonomies_filter===true){if(wpgmp_alltfilter===null)
return false;if(wpgmp_alltfilter.indexOf(index)>-1){content+='<select data-filter="dropdown" data-name="category" name="place_'+index+'">';content+='<option value="">Select '+index+'</option>';$.each(options,function(name,value){content+="<option value='"+value+"'>"+name+"</option>";});content+='</select>';}}});return content;},update_places_listing:function(){var map_obj=this;if(map_obj.per_page_value>0)
map_obj.per_page_value=map_obj.per_page_value;else
map_obj.per_page_value=map_obj.map_data.listing.pagination.listing_per_page;$(map_obj.container).find(".location_pagination"+map_obj.map_data.map_property.map_id).pagination(map_obj.show_places.length,{callback:map_obj.display_places_listing,map_data:map_obj,items_per_page:map_obj.per_page_value,prev_text:wpgmp_local.prev,next_text:wpgmp_local.next});},display_filters_listing:function(){if(this.map_data.listing){var hide_locations=this.map_data.listing.hide_locations;var wpgmpgl=this.map_data.listing.list_grid;if(hide_locations!=true){var content='<div class="wpgmp_listing_container">';content+="<div class='wpgmp_categories wpgmp_print_listing "+wpgmpgl+"' data-container='wpgmp-listing-"+$(this.element).attr("id")+"'></div>";content+="</div>";$(this.map_data.listing.listing_container).html(content);}
var filter_position=this.map_data.listing.filters_position;var filter_content='<div class="wpgmp_filter_wrappers">'+this.display_filters()+'</div>';if(filter_position=='top_map'){$(this.container).find(".wpgmp_map_parent").before(filter_content);}else if(hide_locations==true){$(this.container).find(".wpgmp_map_parent").after(filter_content);}else{$(this.container).find(".wpgmp_map_parent").after(filter_content);}}},display_filters:function(){var hide_locations=this.map_data.listing.hide_locations;var content='';content+='<div class="wpgmp_before_listing">'+this.map_data.listing.listing_header+'</div>';if(this.map_data.listing.display_search_form===true){var autosuggest_class='';if(this.map_data.listing.search_field_autosuggest===true){autosuggest_class="wpgmp_auto_suggest";}
content+='<div class="wpgmp_listing_header"><div class="wpgmp_search_form"><input type="text" rel="24" data-input="wpgmp-search-text" name="wpgmp_search_input" class="wpgmp_search_input '+autosuggest_class+'" placeholder="'+wpgmp_local.search_placeholder+'"></div></div>';}
content+='<div class="categories_filter">'+this.create_filters()+'<div data-container="wpgmp-filters-container"></div>';if(hide_locations!=true)
content+=this.create_sorting()+'';if(hide_locations!=true&&this.map_data.listing.display_location_per_page_filter===true){content+=' '+this.create_perpage_option()+' ';}
content+=' '+this.create_radius()+' ';if(hide_locations!=true&&this.map_data.listing.display_print_option===true){content+=' '+wpgmp_local.img_print;}
if(hide_locations!=true&&this.map_data.listing.display_grid_option===true){content+=' '+wpgmp_local.img_grid+wpgmp_local.img_list;}
content+='</div>';return content;},find_direction:function(options){var map_obj=this;var request={origin:options.start,destination:options.end,optimizeWaypoints:true,travelMode:eval("google.maps.TravelMode."+options.mode),unitSystem:eval("google.maps.UnitSystem."+options.unit)};map_obj.directionsService=new google.maps.DirectionsService();map_obj.directionsService.route(request,function(response,status){if(status==google.maps.DirectionsStatus.OK){map_obj.directionsDisplay.setMap(map_obj.map);map_obj.directionsDisplay.setDirections(response);if(false==map_obj.map_data.map_tabs.direction_tab.suppress_markers){map_obj.directionsDisplay.setPanel(options.direction_panel);$(options.direction_panel).css('display','block');}}});},display_places_listing:function(page_index,jq){var content='';var map_obj=this;var items_per_page=10;if(map_obj.items_per_page)
items_per_page=map_obj.items_per_page;else
items_per_page=map_obj.map_data.map_data.listing.pagination.listing_per_page;var data_source=map_obj.map_data.show_places;var listing_container=map_obj.map_data.map_data.listing.listing_container;var listing_placeholder=map_obj.map_data.map_data.listing.listing_placeholder;var max_elem=Math.min((page_index+1)*items_per_page,data_source.length);var link='';var onclick_action='';if(max_elem>0){for(var i=page_index*items_per_page;i<max_elem;i++){var place=data_source[i];var temp_listing_placeholder=listing_placeholder;if(place.marker.visible===true){if(place.id){if(place.location.onclick_action=="marker"){link='<a href="javascript:void(0);" class="place_title" data-zoom="'+place.location.zoom+'"  data-marker="'+place.id+'" >'+place.title+'</a>';onclick_action='href="javascript:void(0);" data-zoom="'+place.location.zoom+'"  data-marker="'+place.id+'"';}else if(place.location.onclick_action=="post"){link='<a href="'+place.location.redirect_permalink+'" target="_blank">'+place.title+'</a>';onclick_action='href="'+place.location.redirect_permalink+'" target="_blank"';}else if(place.location.onclick_action=="custom_link"){link='<a href="'+place.location.redirect_custom_link+'" target="_blank">'+place.title+'</a>';onclick_action='href="'+place.location.redirect_custom_link+'" target="_blank"';}}
var image=[];var category_name=[];var wpgmp_arr={};if(place.categories){for(c=0;c<place.categories.length;c++){if(place.categories[c].icon!==''){image.push("<img title='"+place.categories[c].name+"' alt='"+place.categories[c].name+"' src='"+place.categories[c].icon+"' />");}
if(place.categories[c].type=='category'&&place.categories[c].name!=''){category_name.push(place.categories[c].name);}
if(place.categories[c].type!='category'){if(typeof place.categories[c].name=="undefined")
continue;if(place.categories[c].name)
var sep=',';if(typeof wpgmp_arr[place.categories[c].type]=="undefined")
wpgmp_arr[place.categories[c].type]='';wpgmp_arr[place.categories[c].type]+=place.categories[c].name+sep;}}}
var marker_image='';if(place.source=='post'){marker_image=place.location.extra_fields.post_featured_image;}else{marker_image=place.location.marker_image;}
var replaceData={"{marker_id}":place.id,"{marker_title}":link,"{marker_address}":place.address,"{marker_latitude}":place.location.lat,"{marker_longitude}":place.location.lng,"{marker_city}":place.location.city,"{marker_state}":place.location.state,"{marker_country}":place.location.country,"{marker_postal_code}":place.location.postal_code,"{marker_zoom}":place.location.zoom,"{marker_icon}":image,"{marker_category}":category_name.join(", "),"{marker_message}":place.content,"{marker_image}":marker_image,"{marker_featured_image}":marker_image,"{wpgmp_listing_html}":place.listing_hook,"{onclick_action}":onclick_action};if(typeof place.location.extra_fields!='undefined'){for(var extra in place.location.extra_fields){if(!place.location.extra_fields[extra]){replaceData['{'+extra+'}']='<div class="wpgmp_empty"></div>';}else{replaceData['{'+extra+'}']=place.location.extra_fields[extra];}}}
if(wpgmp_arr){for(var n in wpgmp_arr){replaceData["{"+n+"}"]=wpgmp_remove_last_comma(wpgmp_arr[n]);}}
function wpgmp_remove_last_comma(strng){var n=strng.lastIndexOf(",");var a=strng.substring(0,n)
return a;}
temp_listing_placeholder=temp_listing_placeholder.replace(/{[^{}]+}/g,function(match){if(match in replaceData){return(replaceData[match]);}else{return("");}});content+=temp_listing_placeholder;}}}else{content="<div class='wpgmp_no_locations'>"+wpgmp_local.wpgmp_location_no_results+"</div>";}
content+='<div id="wpgmp_pagination"></div>';content='<div class="fc-'+map_obj.map_data.map_data.listing.list_item_skin.type+'-'+map_obj.map_data.map_data.listing.list_item_skin.name+' fc-wait"><div data-page="2" class="fc-component-6" data-layout="'+map_obj.map_data.map_data.listing.list_item_skin.name+'" >'+content+'</div></div>';$(listing_container).find(".wpgmp_categories").html(content);$(listing_container).find(".wpgmp_empty").prev().remove();$(listing_container).find(".wpgmp_empty").remove();try{var container=$(listing_container).find('.wpgmp_listing_grid');if(container){var msnry=$(container).data('masonry');if(msnry){msnry.destroy();}
var $grid=$(container).imagesLoaded(function(){$grid.masonry({itemSelector:'.wpgmp_listing_grid .wpgmp_locations',columnWidth:'.wpgmp_listing_grid .wpgmp_locations',});});}}catch(err){console.log(err);}
return false;},open_infowindow:function(current_place){var map_obj=this;$.each(this.map_data.places,function(key,place){if(parseInt(place.id)==parseInt(current_place)&&place.marker.visible===true){google.maps.event.trigger(place.marker,'click');}});},place_info:function(place_id){var place_obj;$.each(this.places,function(index,place){if(parseInt(place.id)==parseInt(place_id)){place_obj=place;}});return place_obj;},create_routes:function(){var map_obj=this;if(this.map_data.routes){$.each(this.map_data.routes,function(index,routeobj){var directionsService=new google.maps.DirectionsService();var route_polyline={strokeColor:routeobj.route_stroke_color,strokeOpacity:routeobj.route_stroke_opacity,strokeWeight:routeobj.route_stroke_weight,clickable:routeobj.route_marker_draggable};var renderer_options={draggable:routeobj.route_marker_draggable,suppressMarkers:true,suppressInfoWindows:true,preserveViewport:true,polylineOptions:route_polyline,};var start=routeobj.start_location_data;var end=routeobj.end_location_data;var waypts=[];if(typeof routeobj.way_points!='undefined'){$.each(routeobj.way_points,function(point_index,place){waypts.push({location:place,stopover:true});});}
var request={origin:start,destination:end,waypoints:waypts,optimizeWaypoints:routeobj.route_optimize_waypoints,travelMode:eval("google.maps.TravelMode."+routeobj.route_travel_mode),unitSystem:eval("google.maps.UnitSystem."+routeobj.route_unit_system),};directionsService.route(request,function(response,status){if(status==google.maps.DirectionsStatus.OK){directionsDisplay=new google.maps.DirectionsRenderer(renderer_options);directionsDisplay.setMap(map_obj.map);directionsDisplay.setDirections(response);directionsDisplay.setPanel($(".directions-panel-route"+routeobj.route_id+"").get(0));if(typeof routeobj.route_id!='undefined'){map_obj.route_directions[routeobj.route_id]=directionsDisplay;}}else{console.log(""+wpgmp_local.wpgmp_route_not_avilable+"");}});});}},enable_drawing:function(){var map_obj=this;map_obj.drawingmanager=new google.maps.drawing.DrawingManager({drawingMode:null,drawingControl:true,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.POLYLINE,google.maps.drawing.OverlayType.RECTANGLE]},circleOptions:{fillColor:'#003dce',strokeColor:'#003dce',strokeWeight:'1',strokeOpacity:'0.5',zindex:1,fillOpacity:'0.5',editable:false,draggable:false},polygonOptions:{fillColor:'#003dce',strokeColor:'#003dce',strokeWeight:'1',strokeOpacity:'0.5',zindex:1,fillOpacity:'0.5',editable:false,draggable:false},polylineOptions:{fillColor:'#003dce',strokeColor:'#003dce',strokeWeight:'1',strokeOpacity:'0.5',zindex:1,fillOpacity:'0.5',editable:false,draggable:false},rectangleOptions:{fillColor:'#003dce',strokeColor:'#003dce',strokeWeight:'1',strokeOpacity:'0.5',zindex:1,fillOpacity:'0.5',editable:false,draggable:false}});map_obj.drawingmanager.setMap(map_obj.map);map_obj.event_listener(map_obj.drawingmanager,'circlecomplete',function(circle){map_obj.wpgmp_circles.push(circle);map_obj.wpgmp_shape_complete(circle,'circle');});map_obj.event_listener(map_obj.drawingmanager,'polygoncomplete',function(polygon){map_obj.wpgmp_polygons.push(polygon);map_obj.wpgmp_shape_complete(polygon,'polygon');});map_obj.event_listener(map_obj.drawingmanager,'polylinecomplete',function(polyline){map_obj.wpgmp_polylines.push(polyline);map_obj.wpgmp_shape_complete(polyline,'polyline');});map_obj.event_listener(map_obj.drawingmanager,'rectanglecomplete',function(rectangle){map_obj.wpgmp_rectangles.push(rectangle);map_obj.wpgmp_shape_complete(rectangle,'rectangle');});},create_polygon:function(){var map_obj=this;$.each(this.map_data.shapes.shape.polygons,function(index,polygon){var path=[];$.each(polygon.cordinates,function(ind,cordinate){var latlng=cordinate.split(',');path.push(new google.maps.LatLng(latlng[0],latlng[1]));});polygon.reference=new google.maps.Polygon({paths:path,strokeColor:polygon.settings.stroke_color,strokeOpacity:polygon.settings.stroke_opacity,strokeWeight:polygon.settings.stroke_weight,fillColor:polygon.settings.fill_color,fillOpacity:polygon.settings.fill_opacity});if(typeof map_obj.map_data.shapes!='undefined'){if(map_obj.map_data.shapes.drawing_editable===true){map_obj.event_listener(polygon.reference,"click",function(){map_obj.setSelection(polygon.reference);map_obj.get_shapes_options(polygon.reference,'polygon');});}else if(polygon.events.url!==''||polygon.events.message!==''){map_obj.event_listener(polygon.reference,"click",function(){if(polygon.events.url===''&&polygon.events.message!==''){var bounds=new google.maps.LatLngBounds();polygon.reference.getPath().forEach(function(element,index){bounds.extend(element);});$.each(map_obj.places,function(key,place){place.infowindow.close();});map_obj.opened_info.setPosition(bounds.getCenter());if(map_obj.settings.map_infowindow_customisations===true)
map_obj.opened_info.setContent('<div class="wpgmp_infowindow"><div class="wpgmp_iw_content">'+polygon.events.message+'</div></div>');else
map_obj.opened_info.setContent(polygon.events.message);map_obj.opened_info.open(map_obj.map,this);}else{window.location=polygon.events.url;}});}}
polygon.reference.setMap(map_obj.map);map_obj.wpgmp_polygons.push(polygon.reference);map_obj.wpgmp_shape_events.push({'shape':polygon.reference,'url':polygon.events.url,'message':polygon.events.message});});},create_polyline:function(){var map_obj=this;$.each(this.map_data.shapes.shape.polylines,function(index,polyline){var path=[];if(typeof polyline.cordinates!='undefined'){$.each(polyline.cordinates,function(ind,cordinate){var latlng=cordinate.split(',');path.push(new google.maps.LatLng(latlng[0],latlng[1]));});polyline.reference=new google.maps.Polyline({path:path,strokeColor:polyline.settings.stroke_color,strokeOpacity:polyline.settings.stroke_opacity,strokeWeight:polyline.settings.stroke_weight});if(typeof map_obj.map_data.shapes!='undefined'){if(map_obj.map_data.shapes.drawing_editable===true){map_obj.event_listener(polyline.reference,"click",function(){map_obj.setSelection(polyline.reference);map_obj.get_shapes_options(polyline.reference,'polyline');});}else if(polyline.events.url!==''||polyline.events.message!==''){map_obj.event_listener(polyline.reference,"click",function(){if(polyline.events.url===''&&polyline.events.message!==''){var bounds=new google.maps.LatLngBounds();polyline.reference.getPath().forEach(function(element,index){bounds.extend(element);});$.each(map_obj.places,function(key,place){place.infowindow.close();});map_obj.opened_info.setPosition(bounds.getCenter());if(map_obj.settings.map_infowindow_customisations===true)
map_obj.opened_info.setContent('<div class="wpgmp_infowindow"><div class="wpgmp_iw_content">'+polyline.events.message+'</div></div>');else
map_obj.opened_info.setContent(polyline.events.message);map_obj.opened_info.open(map_obj.map,this);}else if(polyline.events.url!==''){window.location=polyline.events.url;}});}}}
if(typeof polyline.reference!='undefined'){polyline.reference.setMap(map_obj.map);map_obj.wpgmp_polylines.push(polyline.reference);map_obj.wpgmp_shape_events.push({'shape':polyline.reference,'url':polyline.events.url,'message':polyline.events.message});}});},event_listener:function(obj,type,func){google.maps.event.addListener(obj,type,func);},create_circle:function(){var map_obj=this;$.each(this.map_data.shapes.shape.circles,function(index,circle){var path;$.each(circle.cordinates,function(ind,cordinate){var latlng=cordinate.split(',');path=new google.maps.LatLng(latlng[0],latlng[1]);});circle.reference=new google.maps.Circle({fillColor:circle.settings.fill_color,fillOpacity:circle.settings.fill_opacity,strokeColor:circle.settings.stroke_color,strokeOpacity:circle.settings.stroke_opacity,strokeWeight:circle.settings.stroke_weight,center:path,radius:parseInt(circle.settings.radius)});if(typeof map_obj.map_data.shapes!='undefined'){if(map_obj.map_data.shapes.drawing_editable===true){map_obj.event_listener(circle.reference,"click",function(){map_obj.setSelection(circle.reference);map_obj.get_shapes_options(circle.reference,'circle');});}else if(circle.events.url!==''||circle.events.message!==''){map_obj.event_listener(circle.reference,"click",function(){if(circle.events.url===''&&circle.events.message!==''){$.each(map_obj.places,function(key,place){place.infowindow.close();});map_obj.opened_info.setPosition(circle.reference.getCenter());if(map_obj.settings.map_infowindow_customisations===true)
map_obj.opened_info.setContent('<div class="wpgmp_infowindow"><div class="wpgmp_iw_content">'+circle.events.message+'</div></div>');else
map_obj.opened_info.setContent(circle.events.message);map_obj.opened_info.open(map_obj.map,this);}else if(circle.events.url!==''){window.location=circle.events.url;}});}}
circle.reference.setMap(map_obj.map);map_obj.wpgmp_circles.push(circle.reference);map_obj.wpgmp_shape_events.push({'shape':circle.reference,'url':circle.events.url,'message':circle.events.message});});},create_rectangle:function(){var map_obj=this;$.each(this.map_data.shapes.shape.rectangles,function(index,rectangle){var left_latlng=rectangle.cordinates[0].split(',');var right_latlng=rectangle.cordinates[1].split(',');var path=new google.maps.LatLngBounds(new google.maps.LatLng(left_latlng[0],left_latlng[1]),new google.maps.LatLng(right_latlng[0],right_latlng[1]));rectangle.reference=new google.maps.Rectangle({bounds:path,fillColor:rectangle.settings.fill_color,fillOpacity:rectangle.settings.fill_opacity,strokeColor:rectangle.settings.stroke_color,strokeOpacity:rectangle.settings.stroke_opacity,strokeWeight:rectangle.settings.stroke_weight});if(typeof map_obj.map_data.shapes!='undefined'){if(map_obj.map_data.shapes.drawing_editable===true){map_obj.event_listener(rectangle.reference,"click",function(){map_obj.setSelection(rectangle.reference);map_obj.get_shapes_options(rectangle.reference,'rectangle');});}else if(rectangle.events.url!==''||rectangle.events.message!==''){map_obj.event_listener(rectangle.reference,"click",function(){if(rectangle.events.url===''&&rectangle.events.message!==''){$.each(map_obj.places,function(key,place){place.infowindow.close();});map_obj.opened_info.setPosition(rectangle.reference.getBounds().getCenter());if(map_obj.settings.map_infowindow_customisations===true)
map_obj.opened_info.setContent('<div class="wpgmp_infowindow"><div class="wpgmp_iw_content">'+rectangle.events.message+'</div></div>');else
map_obj.opened_info.setContent(rectangle.events.message);map_obj.opened_info.open(map_obj.map,this);}else if(rectangle.events.url!==''){window.location=rectangle.events.url;}});}}
rectangle.reference.setMap(map_obj.map);map_obj.wpgmp_rectangles.push(rectangle.reference);map_obj.wpgmp_shape_events.push({'shape':rectangle.reference,'url':rectangle.events.url,'message':rectangle.events.message,});});},get_shapes_options:function(shape,type){$(".hiderow").show();$("input[name='shape_fill_color']").val(shape.fillColor);$("input[name='shape_fill_color']").parent().parent().find('.wp-color-result').css('background-color',shape.fillColor);$("select[name='shape_fill_opacity']").val(shape.fillOpacity);$("input[name='shape_stroke_color']").val(shape.strokeColor);$("input[name='shape_stroke_color']").parent().parent().find('.wp-color-result').css('background-color',shape.strokeColor);$("select[name='shape_stroke_opacity']").val(shape.strokeOpacity);$("select[name='shape_stroke_weight']").val(shape.strokeWeight);$("textarea[name='shape_path']").parent().hide();$("input[name='shape_radius']").parent().hide();$("input[name='shape_center']").parent().hide();$("input[name='shape_northeast']").parent().hide();$("input[name='shape_southwest']").parent().hide();var all_shape_events=this.wpgmp_shape_events;$.each(all_shape_events,function(i,shape_event){if(shape_event.shape==shape){$("input[name='shape_click_url']").val(shape_event.url);$("textarea[name='shape_click_message']").val(shape_event.message);}});if(type=='circle'){$("input[name='shape_radius']").parent().show();$("input[name='shape_radius']").val(shape.getRadius());$("input[name='shape_center']").parent().show();$("input[name='shape_center']").val(shape.getCenter().lat()+','+shape.getCenter().lng());}else if(type=='rectangle'){$("input[name='shape_northeast']").parent().show();$("input[name='shape_northeast']").val(shape.getBounds().getNorthEast().lat()+','+shape.getBounds().getNorthEast().lng());$("input[name='shape_southwest']").parent().show();$("input[name='shape_southwest']").val(shape.getBounds().getSouthWest().lat()+','+shape.getBounds().getSouthWest().lng());}else{var polygon_cordinate=[];var cordinates=shape.getPath();cordinates.forEach(function(latlng,index){var latlngin=[latlng.lat(),latlng.lng()];if(latlng.lat()!==""&&latlng.lng()!=="")
polygon_cordinate.push(latlngin);});$("textarea[name='shape_path']").parent().show();$("textarea[name='shape_path']").val(polygon_cordinate.join(' '));}},set_shapes_options:function(shape){var polyOptions2={fillColor:$("input[name='shape_fill_color']").val(),fillOpacity:$("select[name='shape_fill_opacity']").val(),strokeColor:$("input[name='shape_stroke_color']").val(),strokeOpacity:$("select[name='shape_stroke_opacity']").val(),strokeWeight:$("select[name='shape_stroke_weight']").val(),};shape.setOptions(polyOptions2);var all_shape_events=this.wpgmp_shape_events;$.each(all_shape_events,function(i,shape_event){if(shape_event.shape==shape){shape_event.url=$("input[name='shape_click_url']").val();shape_event.message=$("textarea[name='shape_click_message']").val();}});},wpgmp_save_shapes:function(allcordinate){$("input[name='shapes_values']").val(allcordinate.join("|"));},wpgmp_shape_complete:function(shape,type){var map_obj=this;map_obj.setSelection(shape);map_obj.drawingmanager.setDrawingMode(null);if(typeof map_obj.map_data.shapes!='undefined'){if(map_obj.map_data.shapes.drawing_editable===true){map_obj.event_listener(shape,'click',function(){map_obj.setSelection(shape);map_obj.get_shapes_options(shape,type);});map_obj.wpgmp_shape_events.push({'shape':shape,'url':'','message':''});}}}, wpgmp_save_polylines:function(){var all_polylines=[];var map_obj=this;var wpgmp_polylines=map_obj.wpgmp_polylines;var all_shape_events=map_obj.wpgmp_shape_events;for(var i=0;i<wpgmp_polylines.length;i++){var polyline_cordinate=[];var cordinates=wpgmp_polylines[i].getPath();var settings=wpgmp_polylines[i].strokeWeight+","+wpgmp_polylines[i].strokeOpacity+","+wpgmp_polylines[i].strokeColor;var events="";$.each(all_shape_events,function(j,shape_event){if(shape_event.shape==wpgmp_polylines[i]){events=shape_event.url+"***"+shape_event.message;}});cordinates.forEach(function(latlng,index){var latlngin=[latlng.lat(),latlng.lng()];polyline_cordinate.push(latlngin);});all_polylines.push(polyline_cordinate.join("----")+"..."+settings+"..."+events);}
return all_polylines;},wpgmp_save_polygons:function(){var all_polygons=[];var map_obj=this;var wpgmp_polygons=map_obj.wpgmp_polygons;var all_shape_events=map_obj.wpgmp_shape_events;for(var i=0;i<wpgmp_polygons.length;i++){var polygon_cordinate=[];var cordinates=wpgmp_polygons[i].getPath();var settings=wpgmp_polygons[i].strokeWeight+","+wpgmp_polygons[i].strokeOpacity+","+wpgmp_polygons[i].strokeColor+","+wpgmp_polygons[i].fillColor+","+wpgmp_polygons[i].fillOpacity;var events="";$.each(all_shape_events,function(j,shape_event){if(shape_event.shape==wpgmp_polygons[i]){events=shape_event.url+"***"+shape_event.message;}});cordinates.forEach(function(latlng,index){var latlngin=[latlng.lat(),latlng.lng()];if(latlng.lat()!==""&&latlng.lng()!=="")
polygon_cordinate.push(latlngin);});all_polygons.push(polygon_cordinate.join("----")+"..."+settings+"..."+events);}
return all_polygons;},wpgmp_save_circles:function(){var all_circles=[];var map_obj=this;var wpgmp_circles=map_obj.wpgmp_circles;var all_shape_events=map_obj.wpgmp_shape_events;for(var i=0;i<wpgmp_circles.length;i++){var circle_cordinate=[];var latlng=wpgmp_circles[i].getCenter();var settings=wpgmp_circles[i].strokeWeight+","+wpgmp_circles[i].strokeOpacity+","+wpgmp_circles[i].strokeColor+","+wpgmp_circles[i].fillColor+","+wpgmp_circles[i].fillOpacity+","+wpgmp_circles[i].getRadius();var events="";$.each(all_shape_events,function(j,shape_event){if(shape_event.shape==wpgmp_circles[i]){events=shape_event.url+"***"+shape_event.message;}});var latlngin=[latlng.lat(),latlng.lng()];if(latlng.lat()!==""&&latlng.lng()!=="")
circle_cordinate.push(latlngin);all_circles.push(circle_cordinate.join("----")+"..."+settings+"..."+events);}
return all_circles;},wpgmp_save_rectangles:function(){var all_rectangles=[];var map_obj=this;var wpgmp_rectangles=map_obj.wpgmp_rectangles;var all_shape_events=map_obj.wpgmp_shape_events;for(var i=0;i<wpgmp_rectangles.length;i++){var rectangle_cordinate=[];var settings=wpgmp_rectangles[i].strokeWeight+","+wpgmp_rectangles[i].strokeOpacity+","+wpgmp_rectangles[i].strokeColor+","+wpgmp_rectangles[i].fillColor+","+wpgmp_rectangles[i].fillOpacity;var events="";$.each(all_shape_events,function(j,shape_event){if(shape_event.shape==wpgmp_rectangles[i]){events=shape_event.url+"***"+shape_event.message;}});var latlng=wpgmp_rectangles[i].getBounds().getSouthWest();var latlngin=[latlng.lat(),latlng.lng()];if(latlng.lat()!==""&&latlng.lng()!=="")
rectangle_cordinate.push(latlngin);latlng=wpgmp_rectangles[i].getBounds().getNorthEast();var latlngin=[latlng.lat(),latlng.lng()];if(latlng.lat()!==""&&latlng.lng()!=="")
rectangle_cordinate.push(latlngin);all_rectangles.push(rectangle_cordinate.join("----")+"..."+settings+"..."+events);}
return all_rectangles;},set_kml_layer:function(){var map_obj=this.map;$.each(this.map_data.kml_layer.kml_layers_links,function(index,link){var kmlLayerOptions={url:link,map:map_obj,preserveViewport:true};new google.maps.KmlLayer(kmlLayerOptions);});},set_fusion_layer:function(){var fusionlayer=new google.maps.FusionTablesLayer({query:{select:this.map_data.fusion_layer.fusion_table_select,from:this.map_data.fusion_layer.fusion_table_from},heatmap:{enabled:this.map_data.fusion_layer.fusion_heat_map},styles:[{markerOptions:{iconName:this.map_data.fusion_layer.fusion_icon_name}}]});fusionlayer.setMap(this.map);},set_marker_cluster:function(){var map_obj=this;var markers=[];var clusterStyles=[{textColor:'black',url:map_obj.map_data.marker_cluster.icon,height:32,width:33}];$.each(this.places,function(index,place){if(place.marker.visible==true){markers.push(place.marker);}});if(map_obj.map_data.marker_cluster.apply_style===true){if(!map_obj.markerClusterer){map_obj.markerClusterer=new MarkerClusterer(map_obj.map,{},{gridSize:parseInt(map_obj.map_data.marker_cluster.grid),maxZoom:parseInt(map_obj.map_data.marker_cluster.max_zoom),styles:clusterStyles});}
map_obj.markerClusterer.clearMarkers();map_obj.markerClusterer.addMarkers(markers);google.maps.event.addListener(map_obj.markerClusterer,'mouseover',function(c){c.clusterIcon_.div_.firstChild.src=map_obj.map_data.marker_cluster.hover_icon});google.maps.event.addListener(map_obj.markerClusterer,'mouseout',function(c){c.clusterIcon_.div_.firstChild.src=map_obj.map_data.marker_cluster.icon});}else{if(!map_obj.markerClusterer){map_obj.markerClusterer=new MarkerClusterer(map_obj.map,{},{gridSize:parseInt(map_obj.map_data.marker_cluster.grid),maxZoom:parseInt(map_obj.map_data.marker_cluster.max_zoom),imagePath:map_obj.map_data.marker_cluster.image_path,});}
map_obj.markerClusterer.clearMarkers();map_obj.markerClusterer.addMarkers(markers);}},set_panning_control:function(){var panning_data=this.map_data.panning_control;var panning_map_obj=this.map;var map_obj=this;var strictBounds=new google.maps.LatLngBounds(new google.maps.LatLng(panning_data.from_latitude,panning_data.from_longitude),new google.maps.LatLng(panning_data.to_latitude,panning_data.to_longitude));google.maps.event.addListener(panning_map_obj,"dragend",function(){if(strictBounds.contains(panning_map_obj.getCenter()))return;var c=panning_map_obj.getCenter(),x=c.lng(),y=c.lat(),maxX=strictBounds.getNorthEast().lng(),maxY=strictBounds.getNorthEast().lat(),minX=strictBounds.getSouthWest().lng(),minY=strictBounds.getSouthWest().lat();if(x<minX)x=minX;if(x>maxX)x=maxX;if(y<minY)y=minY;if(y>maxY)y=maxY;panning_map_obj.setCenter(new google.maps.LatLng(y,x));});google.maps.event.addListener(panning_map_obj,"zoom_changed",function(){if(panning_map_obj.getZoom()<panning_data.zoom_level){panning_map_obj.setZoom(parseInt(map_obj.settings.zoom));}});},set_visual_refresh:function(){google.maps.visualRefresh=true;},set_45_imagery:function(){},set_overlay:function(){this.map.overlayMapTypes.insertAt(0,new overlay_generator(new google.maps.Size(this.map_data.overlay_setting.width,this.map_data.overlay_setting.height),this.map_data.overlay_setting));},set_bicyle_layer:function(){var bikeLayer=new google.maps.BicyclingLayer();bikeLayer.setMap(this.map);},set_traffic_layer:function(){var traffic_layer=new google.maps.TrafficLayer();traffic_layer.setMap(this.map);},set_panoramic_layer:function(){var panoramic_layer=new google.maps.panoramio.PanoramioLayer();panoramic_layer.setMap(this.map);},set_transit_layer:function(){var transit_layer=new google.maps.TransitLayer();transit_layer.setMap(this.map);},set_weather_layer:function(){var weatherLayer=new google.maps.weather.WeatherLayer({windSpeedUnit:eval('google.maps.weather.WindSpeedUnit.'+this.map_data.weather_layer.wind_unit),temperatureUnits:eval('google.maps.weather.TemperatureUnit.'+this.map_data.weather_layer.temperature_unit)});weatherLayer.setMap(this.map);var cloudLayer=new google.maps.weather.CloudLayer();cloudLayer.setMap(this.map);},set_streetview:function(latlng){var panoOptions={position:latlng,addressControlOptions:{position:google.maps.ControlPosition.BOTTOM_CENTER},linksControl:this.map_data.street_view.links_control,panControl:this.map_data.street_view.street_view_pan_control,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},enableCloseButton:this.map_data.street_view.street_view_close_button};if(this.map_data.street_view.pov_heading&&this.map_data.street_view.pov_pitch){panoOptions['pov']={heading:parseInt(this.map_data.street_view.pov_heading),pitch:parseInt(this.map_data.street_view.pov_pitch)};}
var panorama=new google.maps.StreetViewPanorama(this.element,panoOptions);},map_loaded:function(){var map_obj=this;var gmap=map_obj.map;google.maps.event.addListenerOnce(gmap,'idle',function(){var center=gmap.getCenter();google.maps.event.trigger(gmap,'resize');gmap.setCenter(center);});if(map_obj.settings.center_by_nearest===true){map_obj.center_by_nearest();}
if(map_obj.settings.close_infowindow_on_map_click===true){google.maps.event.addListener(gmap,"click",function(event){$.each(map_obj.places,function(key,place){place.infowindow.close();place.marker.setAnimation(null);});});}
if(map_obj.map_data.default_amenities){var gm_dim=map_obj.map_data.default_amenities.dimension;var gm_radius=map_obj.map_data.default_amenities.radius;var default_amenities=map_obj.map_data.default_amenities.amenities;var divide_by=1.60934;map_obj.amenity_infowindow=map_obj.infowindow_marker;var service;if(gm_dim=='miles'){divide_by=1.60934;}else{divide_by=1;}
var circle_radius_meters=parseInt(gm_radius)*divide_by*1000;if(default_amenities){var place_types=[];$.each(default_amenities,function(index,amenity){place_types.push(amenity);});var request={location:map_obj.map.getCenter(),radius:circle_radius_meters,types:place_types};service=new google.maps.places.PlacesService(map_obj.map);service.nearbySearch(request,function(results,status){if(status==google.maps.places.PlacesServiceStatus.OK){for(var i=0;i<results.length;i++){map_obj.createMarker(results[i]);}}});}}
google.maps.event.addListener(map_obj.infobox,'domready',function(){var wpgmp_iwOuter=$(map_obj.container).find('.infoBox');if(wpgmp_iwOuter.find('.fc-infowindow-default').length==0&&wpgmp_iwOuter.find('.fc-item-default').length==0&&wpgmp_iwOuter.find('.wpgmp_infowindow').length>0){wpgmp_iwOuter.find('.wpgmp_infowindow').prepend('<div class="infowindow-close"></div>');$('.infowindow-close').click(function(e){e.preventDefault();$.each(map_obj.places,function(key,place){place.infowindow.close();place.marker.setAnimation(null);});});$(wpgmp_iwOuter).on('click',".fc-accordion-tab",function(){if($(this).hasClass('active')){$(this).removeClass('active');var acc_child=$(this).next().removeClass('active');}else{$(".fc-accordion-tab").removeClass('active');$(".fc-accordion dd").removeClass('active');$(this).addClass('active');var acc_child=$(this).next().addClass('active');}});if(wpgmp_iwOuter.find('.fc-infowindow-fano').length==0&&wpgmp_iwOuter.find('.fc-item-fano').length==0){wpgmp_iwOuter.addClass('infoBoxTail');}else{wpgmp_iwOuter.removeClass('infoBoxTail');}}});if(map_obj.settings.map_infowindow_customisations===true){google.maps.event.addListener(map_obj.infowindow_marker,'domready',function(){var wpgmp_iwOuter=$(map_obj.container).find('.gm-style-iw');wpgmp_iwOuter.parent().css({'width':'0px','height':'0px'});var wpgmp_iwCloseBtn=wpgmp_iwOuter.next();wpgmp_iwCloseBtn.css('display','none');var wpgmp_iwBackground=wpgmp_iwOuter.prev();wpgmp_iwBackground.children(':nth-child(2)').css({'display':'none'});wpgmp_iwBackground.children(':nth-child(3)').css({'background-color':'#000;',});wpgmp_iwBackground.children(':nth-child(4)').css({'display':'none'});var height=wpgmp_iwOuter.outerHeight();wpgmp_iwBackground.children(':nth-child(3)').css({'top':(height+14)+'px'});wpgmp_iwBackground.children(':nth-child(1)').css({'top':(height+6)+'px'});wpgmp_iwBackground.children(':nth-child(3)').find('div').children().css({'box-shadow':map_obj.settings.infowindow_border_color+' 0px 1px 6px','border':'1px solid '+map_obj.settings.infowindow_border_color,'border-top':'','z-index':'1','background-color':map_obj.settings.infowindow_bg_color});wpgmp_iwOuter.find('.wpgmp_infowindow').prepend('<div class="infowindow-close"></div>');wpgmp_iwOuter.on('click','.infowindow-close',function(event){$.each(map_obj.places,function(key,place){place.infowindow.close();place.marker.setAnimation(null);});});});}
if(map_obj.settings.map_infowindow_customisations===true){}},resize_map:function(){var map_obj=this;var gmap=map_obj.map;var zoom=gmap.getZoom();var center=gmap.getCenter();google.maps.event.trigger(this.map,'resize');gmap.setZoom(zoom);gmap.setCenter(center);},responsive_map:function(){var map_obj=this;var gmap=map_obj.map;google.maps.event.addDomListener(window,"resize",function(){var zoom=gmap.getZoom();var center=gmap.getCenter();google.maps.event.trigger(gmap,"resize");gmap.setZoom(zoom);gmap.setCenter(center);gmap.getBounds();if(map_obj.map_data.marker_cluster){map_obj.set_marker_cluster();}});},show_search_control:function(){var map_obj=this;var input=$(map_obj.container).find('[data-input="map-search-control"]')[0];if(input!==undefined){var searchBox=new google.maps.places.SearchBox(input);map_obj.map.controls[eval("google.maps.ControlPosition."+map_obj.settings.search_control_position)].push(input);map_obj.map.addListener('bounds_changed',function(){searchBox.setBounds(map_obj.map.getBounds());});google.maps.event.addListener(searchBox,'places_changed',function(){var places=searchBox.getPlaces();if(places.length==0){return;}
var bounds=new google.maps.LatLngBounds();places.forEach(function(place){if(!place.geometry){console.log("Returned place contains no geometry");return;}
if(place.geometry.viewport){bounds.union(place.geometry.viewport);}else{bounds.extend(place.geometry.location);}});map_obj.map.fitBounds(bounds);});}},fit_bounds:function(){var map_obj=this;var places=map_obj.map_data.places;var bounds=new google.maps.LatLngBounds();places.forEach(function(place){if(place.location.lat&&place.location.lng){bounds.extend(new google.maps.LatLng(parseFloat(place.location.lat),parseFloat(place.location.lng)));}});map_obj.map.fitBounds(bounds);},create_markers:function(){var map_obj=this;var places=map_obj.map_data.places;var temp_listing_placeholder;var replaceData;var remove_keys=[];$.each(places,function(key,place){if(place.location.lat&&place.location.lng){if(typeof place.categories=='undefined'){place.categories={};}
place.marker=new google.maps.Marker({position:new google.maps.LatLng(parseFloat(place.location.lat),parseFloat(place.location.lng)),icon:place.location.icon,url:place.url,draggable:place.location.draggable,map:map_obj.map,clickable:place.location.infowindow_disable,});if(map_obj.settings.infowindow_drop_animation===true){place.marker.setAnimation(google.maps.Animation.DROP);}
if(map_obj.settings.infowindow_filter_only===true){place.marker.visible=false;place.marker.setVisible(false);}
if(map_obj.map_data.page=='edit_location')
map_obj.marker_bind(place.marker);var location_categories=[];if(typeof place.categories!='undefined'){for(var cat in place.categories){location_categories.push(place.categories[cat].name);}}
var content='';var marker_image='';if(place.source=='post'){marker_image=place.location.extra_fields.post_featured_image;}else{marker_image=place.location.marker_image;}
var temp_listing_placeholder='';var post_info_class='fc-infowindow-';if(place.source=='post'){temp_listing_placeholder=map_obj.settings.infowindow_geotags_setting;post_info_class='wpgmp_infowindow_post fc-item-'+map_obj.settings.infowindow_post_skin.name;}else{temp_listing_placeholder=map_obj.settings.infowindow_setting;if(map_obj.map_data.page!='edit_location'&&map_obj.settings.infowindow_skin)
post_info_class='fc-infowindow-'+map_obj.settings.infowindow_skin.name;}
if(typeof temp_listing_placeholder=='undefined'){temp_listing_placeholder=place.content;}
replaceData={"{marker_id}":place.id,"{marker_title}":place.title,"{marker_address}":place.address,"{marker_latitude}":place.location.lat,"{marker_longitude}":place.location.lng,"{marker_city}":place.location.city,"{marker_state}":place.location.state,"{marker_country}":place.location.country,"{marker_postal_code}":place.location.postal_code,"{marker_zoom}":place.location.zoom,"{marker_icon}":place.location.icon,"{marker_category}":location_categories.join(', '),"{marker_message}":place.content,"{marker_image}":marker_image,};if(typeof place.location.extra_fields!='undefined'){for(var extra in place.location.extra_fields){if(!place.location.extra_fields[extra]){replaceData['{'+extra+'}']="<div class='wpgmp_empty'></div>";}else{replaceData['{'+extra+'}']=place.location.extra_fields[extra];}}}
temp_listing_placeholder=temp_listing_placeholder.replace(/{[^{}]+}/g,function(match){if(match in replaceData){return(replaceData[match]);}else{return("");}});content=temp_listing_placeholder;if(content===""){if(map_obj.settings.map_infowindow_customisations===true&&map_obj.settings.show_infowindow_header===true)
content='<div class="wpgmp_infowindow '+post_info_class+'"><div class="wpgmp_iw_head"><div class="wpgmp_iw_head_content">'+place.title+'</div></div><div class="wpgmp_iw_content">'+place.content+'</div></div>';else
content='<div class="wpgmp_infowindow '+post_info_class+'"><div class="wpgmp_iw_content">'+place.content+'</div></div>';}else{if(map_obj.settings.map_infowindow_customisations===true&&map_obj.settings.show_infowindow_header===true)
content='<div class="wpgmp_infowindow '+post_info_class+'"><div class="wpgmp_iw_head"><div class="wpgmp_iw_head_content">'+place.title+'</div></div><div class="wpgmp_iw_content">'+content+'</div></div>';else
content='<div class="wpgmp_infowindow '+post_info_class+'"><div class="wpgmp_iw_content">'+content+'</div></div>';}
place.infowindow_data=content;place.infowindow=map_obj.infowindow_marker;if(place.location.infowindow_default_open===true){map_obj.openInfoWindow(place);}else if(map_obj.settings.default_infowindow_open===true){map_obj.openInfoWindow(place);}
var on_event=map_obj.settings.infowindow_open_event;var bounce_on_event=map_obj.settings.infowindow_bounce_animation;map_obj.event_listener(place.marker,on_event,function(){$.each(map_obj.places,function(key,prev_place){prev_place.infowindow.close();prev_place.marker.setAnimation(null);});map_obj.openInfoWindow(place);if(bounce_on_event=='click'){map_obj.toggle_bounce(place.marker);}});if(bounce_on_event=='mouseover'&&on_event!='mouseover'){map_obj.event_listener(place.marker,'mouseover',function(){place.marker.setAnimation(google.maps.Animation.BOUNCE);});map_obj.event_listener(place.marker,'mouseout',function(){place.marker.setAnimation(null);});}
if(bounce_on_event!=''){google.maps.event.addListener(place.infowindow,'closeclick',function(){place.marker.setAnimation(null);});}
map_obj.places.push(place);}else{remove_keys.push(key);}});$.each(remove_keys,function(index,value){places.splice(value,1);});},toggle_bounce:function(marker){if(marker.getAnimation()!==null){marker.setAnimation(null);}else{marker.setAnimation(google.maps.Animation.BOUNCE);}},display_markers:function(){var map_obj=this;map_obj.show_places=[];map_obj.categories=[];var categories={};for(var i=0;i<map_obj.places.length;i++){map_obj.places[i].marker.setMap(map_obj.map);if(map_obj.places[i].marker.visible===true){map_obj.show_places.push(this.places[i]);}
if(typeof map_obj.places[i].categories!='undefined'){$.each(map_obj.places[i].categories,function(index,category){if(typeof categories[category.name]=='undefined'){categories[category.name]=category;}});}}
this.categories=categories;},show_center_circle:function(){var map_obj=this;if(map_obj.settings.center_circle_radius==''){map_obj.settings.center_circle_radius=5;}
map_obj.set_center_circle=new google.maps.Circle({map:map_obj.map,center:map_obj.map.getCenter(),fillColor:map_obj.settings.center_circle_fillcolor,fillOpacity:map_obj.settings.center_circle_fillopacity,strokeColor:map_obj.settings.center_circle_strokecolor,strokeOpacity:map_obj.settings.center_circle_strokeopacity,strokeWeight:map_obj.settings.center_circle_strokeweight,radius:parseInt(map_obj.settings.center_circle_radius)*1000});},show_center_marker:function(){var map_obj=this;var clickable=false;if(map_obj.settings.center_marker_infowindow!=''){clickable=true;}
map_obj.map_center_marker=new google.maps.Marker({position:map_obj.map.getCenter(),title:map_obj.settings.center_marker_infowindow,map:map_obj.map,icon:map_obj.settings.center_marker_icon,clickable:clickable});if(typeof map_obj.map_center_info=='undefined'){map_obj.map_center_info=map_obj.infowindow_marker;}
if(map_obj.settings.center_marker_infowindow!=''){google.maps.event.addListener(map_obj.map_center_marker,'click',function(){map_obj.map_center_info.setPosition(map_obj.map.getCenter());if(map_obj.settings.map_infowindow_customisations===true)
map_obj.map_center_info.setContent('<div class="wpgmp_infowindow"><div class="wpgmp_iw_content">'+map_obj.settings.center_marker_infowindow+'</div></div>');else
map_obj.map_center_info.setContent(map_obj.settings.center_marker_infowindow);map_obj.map_center_info.open(map_obj.map,this);});}},center_by_nearest:function(){var map_obj=this;this.get_current_location(function(user_position){if(!map_obj.user_location_marker){map_obj.user_location_marker=new google.maps.Marker({position:user_position,title:wpgmp_local.center_location_message,map:map_obj.map,icon:map_obj.settings.marker_default_icon});}
map_obj.user_location_marker.setVisible(true);if(typeof map_obj.map_center_info=='undefined'){map_obj.map_center_info=map_obj.infowindow_marker;}
if(map_obj.settings.center_marker_infowindow!=''){google.maps.event.addListener(map_obj.user_location_marker,'click',function(){map_obj.map_center_info.setPosition(user_position);if(map_obj.settings.map_infowindow_customisations===true)
map_obj.map_center_info.setContent('<div class="wpgmp_infowindow"><div class="wpgmp_iw_content">'+map_obj.settings.center_marker_infowindow+'</div></div>');else
map_obj.map_center_info.setContent(map_obj.settings.center_marker_infowindow);map_obj.map_center_info.open(map_obj.map,this);});}
map_obj.map.setCenter(user_position);if(map_obj.settings.show_center_circle===true){map_obj.show_center_circle();}
if(map_obj.map_data.listing&&map_obj.map_data.listing.apply_default_radius==true){map_obj.search_area=user_position;}});},get_current_location:function(success_func,error_func){var map=this;if(typeof map.user_location=='undefined'){navigator.geolocation.getCurrentPosition(function(position){map.user_location=new google.maps.LatLng(position.coords.latitude,position.coords.longitude);if(success_func)
success_func(map.user_location);},function(ErrorPosition){if(error_func)
error_func(ErrorPosition);},{enableHighAccuracy:true,timeout:5000,maximumAge:0});}else{if(success_func)
success_func(map.user_location);}},openInfoWindow:function(place){var map_obj=this;var skin='default';if(place.source=='post'){skin=map_obj.settings.infowindow_post_skin.name;}else if(map_obj.map_data.page!='edit_location'&&map_obj.settings.infowindow_skin){skin=map_obj.settings.infowindow_skin.name;}
if(skin!='default'){var infoboxText=document.createElement("div");infoboxText.className='wpgmp_infobox'
var infoboxOptions={content:infoboxText,disableAutoPan:false,alignBottom:true,maxWidth:0,pixelOffset:(skin=='fano')?new google.maps.Size(-150,-40):new google.maps.Size(-150,-55),zIndex:null,boxStyle:{width:"300px"},closeBoxMargin:"0",closeBoxURL:"",infoBoxClearance:new google.maps.Size(25,25),isHidden:false,pane:"floatPane",enableEventPropagation:false,};place.infowindow=map_obj.infobox;place.infowindow.setOptions(infoboxOptions);infoboxText.innerHTML=place.infowindow_data;}else{place.infowindow=map_obj.infowindow_marker;place.infowindow.setContent(place.infowindow_data);}
if(place.location.onclick_action=="post"){if(place.location.open_new_tab=='yes')
window.open(place.location.redirect_permalink,'_blank');else
window.open(place.location.redirect_permalink,'_self');}
else if(place.location.onclick_action=="custom_link"){if(place.location.open_new_tab=='yes')
window.open(place.location.redirect_custom_link,'_blank');else
window.open(place.location.redirect_custom_link,'_self');}else{place.infowindow.open(this.map,place.marker);if(typeof map_obj.settings.infowindow_click_change_center!='undefined'&&map_obj.settings.infowindow_click_change_center==true){map_obj.map.setCenter(place.marker.getPosition());}
if(typeof map_obj.settings.infowindow_click_change_zoom!='undefined'&&map_obj.settings.infowindow_click_change_zoom>0){map_obj.map.setZoom(map_obj.settings.infowindow_click_change_zoom);}
if(this.map_data.map_tabs&&this.map_data.map_tabs.direction_tab&&this.map_data.map_tabs.direction_tab.dir_tab===true){$(this.container).find('.start_point').val(place.address);}}
$(map_obj.container).find(".wpgmp_empty").prev().remove();$(map_obj.container).find(".wpgmp_empty").remove();},};$.fn.maps=function(options,places){this.each(function(){if(!$.data(this,"wpgmp_maps")){$.data(this,"wpgmp_maps",new GoogleMaps(this,options,places));}});return this;};}(jQuery,window,document));
jQuery.fn.pagination=function(maxentries,opts){opts=jQuery.extend({items_per_page:10,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"Prev",next_text:"Next",ellipse_text:"...",prev_show_always:false,next_show_always:false,data_source:'',listing_container:'',callback:function(){return false;}},opts||{});return this.each(function(){function numPages(){return Math.ceil(maxentries/opts.items_per_page);}
function getInterval(){var ne_half=Math.ceil(opts.num_display_entries/2);var np=numPages();var upper_limit=np-opts.num_display_entries;var start=current_page>ne_half?Math.max(Math.min(current_page-ne_half,upper_limit),0):0;var end=current_page>ne_half?Math.min(current_page+ne_half,np):Math.min(opts.num_display_entries,np);return[start,end];}
function pageSelected(page_id,evt){current_page=page_id;drawLinks();var continuePropagation=opts.callback(page_id,panel);if(!continuePropagation){if(evt.stopPropagation){evt.stopPropagation();}else{evt.cancelBubble=true;}}
return continuePropagation;}
function drawLinks(){panel.empty();var interval=getInterval();var np=numPages();var getClickHandler=function(page_id){return function(evt){return pageSelected(page_id,evt);}}
var appendItem=function(page_id,appendopts){page_id=page_id<0?0:(page_id<np?page_id:np-1);appendopts=jQuery.extend({text:page_id+1,classes:""},appendopts||{});if(page_id==current_page){var lnk=jQuery("<span class='current'>"+(appendopts.text)+"</span>");}else{var lnk=jQuery("<a>"+(appendopts.text)+"</a>").bind("click",getClickHandler(page_id)).attr('href',opts.link_to.replace(/__id__/,page_id));}
if(appendopts.classes){lnk.addClass(appendopts.classes);}
panel.append(lnk);}
if(opts.prev_text&&(current_page>0||opts.prev_show_always)){appendItem(current_page-1,{text:opts.prev_text,classes:"prev"});}
if(np>1){if(interval[0]>0&&opts.num_edge_entries>0){var end=Math.min(opts.num_edge_entries,interval[0]);for(var i=0;i<end;i++){appendItem(i);}
if(opts.num_edge_entries<interval[0]&&opts.ellipse_text){jQuery("<span>"+opts.ellipse_text+"</span>").appendTo(panel);}}
for(var i=interval[0];i<interval[1];i++){appendItem(i);}
if(interval[1]<np&&opts.num_edge_entries>0){if(np-opts.num_edge_entries>interval[1]&&opts.ellipse_text){jQuery("<span>"+opts.ellipse_text+"</span>").appendTo(panel);}
var begin=Math.max(np-opts.num_edge_entries,interval[1]);for(var i=begin;i<np;i++){appendItem(i);}}}
if(opts.next_text&&(current_page<np-1||opts.next_show_always)){appendItem(current_page+1,{text:opts.next_text,classes:"next"});}}
var current_page=opts.current_page;maxentries=(!maxentries||maxentries<0)?1:maxentries;opts.items_per_page=(!opts.items_per_page||opts.items_per_page<0)?1:opts.items_per_page;var panel=jQuery(this);this.selectPage=function(page_id){pageSelected(page_id);}
this.prevPage=function(){if(current_page>0){pageSelected(current_page-1);return true;}else{return false;}}
this.nextPage=function(){if(current_page<numPages()-1){pageSelected(current_page+1);return true;}else{return false;}}
drawLinks();opts.callback(current_page,this);});}
function ClusterIcon(cluster,styles){cluster.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.cluster_=cluster;this.className_=cluster.getMarkerClusterer().getClusterClass();this.styles_=styles;this.center_=null;this.div_=null;this.sums_=null;this.visible_=false;this.setMap(cluster.getMap());}
ClusterIcon.prototype.onAdd=function(){var cClusterIcon=this;var cMouseDownInCluster;var cDraggingMapByCluster;this.div_=document.createElement("div");this.div_.className=this.className_;if(this.visible_){this.show();}
this.getPanes().overlayMouseTarget.appendChild(this.div_);this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){cDraggingMapByCluster=cMouseDownInCluster;});google.maps.event.addDomListener(this.div_,"mousedown",function(){cMouseDownInCluster=true;cDraggingMapByCluster=false;});google.maps.event.addDomListener(this.div_,"click",function(e){cMouseDownInCluster=false;if(!cDraggingMapByCluster){var theBounds;var mz;var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"click",cClusterIcon.cluster_);google.maps.event.trigger(mc,"clusterclick",cClusterIcon.cluster_);if(mc.getZoomOnClick()){mz=mc.getMaxZoom();theBounds=cClusterIcon.cluster_.getBounds();mc.getMap().fitBounds(theBounds);setTimeout(function(){mc.getMap().fitBounds(theBounds);if(mz!==null&&(mc.getMap().getZoom()>mz)){mc.getMap().setZoom(mz+1);}},100);}
e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}}});google.maps.event.addDomListener(this.div_,"mouseover",function(){var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"mouseover",cClusterIcon.cluster_);});google.maps.event.addDomListener(this.div_,"mouseout",function(){var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"mouseout",cClusterIcon.cluster_);});};ClusterIcon.prototype.onRemove=function(){if(this.div_&&this.div_.parentNode){this.hide();google.maps.event.removeListener(this.boundsChangedListener_);google.maps.event.clearInstanceListeners(this.div_);this.div_.parentNode.removeChild(this.div_);this.div_=null;}};ClusterIcon.prototype.draw=function(){if(this.visible_){var pos=this.getPosFromLatLng_(this.center_);this.div_.style.top=pos.y+"px";this.div_.style.left=pos.x+"px";}};ClusterIcon.prototype.hide=function(){if(this.div_){this.div_.style.display="none";}
this.visible_=false;};ClusterIcon.prototype.show=function(){if(this.div_){var img="";var bp=this.backgroundPosition_.split(" ");var spriteH=parseInt(bp[0].replace(/^\s+|\s+$/g,""),10);var spriteV=parseInt(bp[1].replace(/^\s+|\s+$/g,""),10);var pos=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(pos);img="<img src='"+this.url_+"' style='position: absolute; top: "+spriteV+"px; left: "+spriteH+"px; ";if(!this.cluster_.getMarkerClusterer().enableRetinaIcons_){img+="clip: rect("+(-1*spriteV)+"px, "+((-1*spriteH)+this.width_)+"px, "+
((-1*spriteV)+this.height_)+"px, "+(-1*spriteH)+"px);";}
img+="'>";this.div_.innerHTML=img+"<div style='"+"position: absolute;"+"top: "+this.anchorText_[0]+"px;"+"left: "+this.anchorText_[1]+"px;"+"color: "+this.textColor_+";"+"font-size: "+this.textSize_+"px;"+"font-family: "+this.fontFamily_+";"+"font-weight: "+this.fontWeight_+";"+"font-style: "+this.fontStyle_+";"+"text-decoration: "+this.textDecoration_+";"+"text-align: center;"+"width: "+this.width_+"px;"+"line-height:"+this.height_+"px;"+"'>"+this.sums_.text+"</div>";if(typeof this.sums_.title==="undefined"||this.sums_.title===""){this.div_.title=this.cluster_.getMarkerClusterer().getTitle();}else{this.div_.title=this.sums_.title;}
this.div_.style.display="";}
this.visible_=true;};ClusterIcon.prototype.useStyle=function(sums){this.sums_=sums;var index=Math.max(0,sums.index-1);index=Math.min(this.styles_.length-1,index);var style=this.styles_[index];this.url_=style.url;this.height_=style.height;this.width_=style.width;this.anchorText_=style.anchorText||[0,0];this.anchorIcon_=style.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)];this.textColor_=style.textColor||"black";this.textSize_=style.textSize||11;this.textDecoration_=style.textDecoration||"none";this.fontWeight_=style.fontWeight||"bold";this.fontStyle_=style.fontStyle||"normal";this.fontFamily_=style.fontFamily||"Arial,sans-serif";this.backgroundPosition_=style.backgroundPosition||"0 0";};ClusterIcon.prototype.setCenter=function(center){this.center_=center;};ClusterIcon.prototype.createCss=function(pos){var style=[];style.push("cursor: pointer;");style.push("position: absolute; top: "+pos.y+"px; left: "+pos.x+"px;");style.push("width: "+this.width_+"px; height: "+this.height_+"px;");return style.join("");};ClusterIcon.prototype.getPosFromLatLng_=function(latlng){var pos=this.getProjection().fromLatLngToDivPixel(latlng);pos.x-=this.anchorIcon_[1];pos.y-=this.anchorIcon_[0];pos.x=parseInt(pos.x,10);pos.y=parseInt(pos.y,10);return pos;};function Cluster(mc){this.markerClusterer_=mc;this.map_=mc.getMap();this.gridSize_=mc.getGridSize();this.minClusterSize_=mc.getMinimumClusterSize();this.averageCenter_=mc.getAverageCenter();this.markers_=[];this.center_=null;this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,mc.getStyles());}
Cluster.prototype.getSize=function(){return this.markers_.length;};Cluster.prototype.getMarkers=function(){return this.markers_;};Cluster.prototype.getCenter=function(){return this.center_;};Cluster.prototype.getMap=function(){return this.map_;};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_;};Cluster.prototype.getBounds=function(){var i;var bounds=new google.maps.LatLngBounds(this.center_,this.center_);var markers=this.getMarkers();for(i=0;i<markers.length;i++){bounds.extend(markers[i].getPosition());}
return bounds;};Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null);this.markers_=[];delete this.markers_;};Cluster.prototype.addMarker=function(marker){var i;var mCount;var mz;if(this.isMarkerAlreadyAdded_(marker)){return false;}
if(!this.center_){this.center_=marker.getPosition();this.calculateBounds_();}else{if(this.averageCenter_){var l=this.markers_.length+1;var lat=(this.center_.lat()*(l-1)+marker.getPosition().lat())/l;var lng=(this.center_.lng()*(l-1)+marker.getPosition().lng())/l;this.center_=new google.maps.LatLng(lat,lng);this.calculateBounds_();}}
marker.isAdded=true;this.markers_.push(marker);mCount=this.markers_.length;mz=this.markerClusterer_.getMaxZoom();if(mz!==null&&this.map_.getZoom()>mz){if(marker.getMap()!==this.map_){marker.setMap(this.map_);}}else if(mCount<this.minClusterSize_){if(marker.getMap()!==this.map_){marker.setMap(this.map_);}}else if(mCount===this.minClusterSize_){for(i=0;i<mCount;i++){this.markers_[i].setMap(null);}}else{marker.setMap(null);}
this.updateIcon_();return true;};Cluster.prototype.isMarkerInClusterBounds=function(marker){return this.bounds_.contains(marker.getPosition());};Cluster.prototype.calculateBounds_=function(){var bounds=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(bounds);};Cluster.prototype.updateIcon_=function(){var mCount=this.markers_.length;var mz=this.markerClusterer_.getMaxZoom();if(mz!==null&&this.map_.getZoom()>mz){this.clusterIcon_.hide();return;}
if(mCount<this.minClusterSize_){this.clusterIcon_.hide();return;}
var numStyles=this.markerClusterer_.getStyles().length;var sums=this.markerClusterer_.getCalculator()(this.markers_,numStyles);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.useStyle(sums);this.clusterIcon_.show();};Cluster.prototype.isMarkerAlreadyAdded_=function(marker){var i;if(this.markers_.indexOf){return this.markers_.indexOf(marker)!==-1;}else{for(i=0;i<this.markers_.length;i++){if(marker===this.markers_[i]){return true;}}}
return false;};function MarkerClusterer(map,opt_markers,opt_options){this.extend(MarkerClusterer,google.maps.OverlayView);opt_markers=opt_markers||[];opt_options=opt_options||{};this.markers_=[];this.clusters_=[];this.listeners_=[];this.activeMap_=null;this.ready_=false;this.gridSize_=opt_options.gridSize||60;this.minClusterSize_=opt_options.minimumClusterSize||2;this.maxZoom_=opt_options.maxZoom||null;this.styles_=opt_options.styles||[];this.title_=opt_options.title||"";this.zoomOnClick_=true;if(opt_options.zoomOnClick!==undefined){this.zoomOnClick_=opt_options.zoomOnClick;}
this.averageCenter_=false;if(opt_options.averageCenter!==undefined){this.averageCenter_=opt_options.averageCenter;}
this.ignoreHidden_=false;if(opt_options.ignoreHidden!==undefined){this.ignoreHidden_=opt_options.ignoreHidden;}
this.enableRetinaIcons_=false;if(opt_options.enableRetinaIcons!==undefined){this.enableRetinaIcons_=opt_options.enableRetinaIcons;}
this.imagePath_=opt_options.imagePath||MarkerClusterer.IMAGE_PATH;this.imageExtension_=opt_options.imageExtension||MarkerClusterer.IMAGE_EXTENSION;this.imageSizes_=opt_options.imageSizes||MarkerClusterer.IMAGE_SIZES;this.calculator_=opt_options.calculator||MarkerClusterer.CALCULATOR;this.batchSize_=opt_options.batchSize||MarkerClusterer.BATCH_SIZE;this.batchSizeIE_=opt_options.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE;this.clusterClass_=opt_options.clusterClass||"cluster";if(navigator.userAgent.toLowerCase().indexOf("msie")!==-1){this.batchSize_=this.batchSizeIE_;}
this.setupStyles_();this.addMarkers(opt_markers,true);this.setMap(map);}
MarkerClusterer.prototype.onAdd=function(){var cMarkerClusterer=this;this.activeMap_=this.getMap();this.ready_=true;this.repaint();this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){cMarkerClusterer.resetViewport_(false);if(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom")){google.maps.event.trigger(this,"idle");}}),google.maps.event.addListener(this.getMap(),"idle",function(){cMarkerClusterer.redraw_();})];};MarkerClusterer.prototype.onRemove=function(){var i;for(i=0;i<this.markers_.length;i++){if(this.markers_[i].getMap()!==this.activeMap_){this.markers_[i].setMap(this.activeMap_);}}
for(i=0;i<this.clusters_.length;i++){this.clusters_[i].remove();}
this.clusters_=[];for(i=0;i<this.listeners_.length;i++){google.maps.event.removeListener(this.listeners_[i]);}
this.listeners_=[];this.activeMap_=null;this.ready_=false;};MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){var i,size;if(this.styles_.length>0){return;}
for(i=0;i<this.imageSizes_.length;i++){size=this.imageSizes_[i];this.styles_.push({url:this.imagePath_+(i+1)+"."+this.imageExtension_,height:size,width:size});}};MarkerClusterer.prototype.fitMapToMarkers=function(){var i;var markers=this.getMarkers();var bounds=new google.maps.LatLngBounds();for(i=0;i<markers.length;i++){bounds.extend(markers[i].getPosition());}
this.getMap().fitBounds(bounds);};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_;};MarkerClusterer.prototype.setGridSize=function(gridSize){this.gridSize_=gridSize;};MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_;};MarkerClusterer.prototype.setMinimumClusterSize=function(minimumClusterSize){this.minClusterSize_=minimumClusterSize;};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_;};MarkerClusterer.prototype.setMaxZoom=function(maxZoom){this.maxZoom_=maxZoom;};MarkerClusterer.prototype.getStyles=function(){return this.styles_;};MarkerClusterer.prototype.setStyles=function(styles){this.styles_=styles;};MarkerClusterer.prototype.getTitle=function(){return this.title_;};MarkerClusterer.prototype.setTitle=function(title){this.title_=title;};MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_;};MarkerClusterer.prototype.setZoomOnClick=function(zoomOnClick){this.zoomOnClick_=zoomOnClick;};MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_;};MarkerClusterer.prototype.setAverageCenter=function(averageCenter){this.averageCenter_=averageCenter;};MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_;};MarkerClusterer.prototype.setIgnoreHidden=function(ignoreHidden){this.ignoreHidden_=ignoreHidden;};MarkerClusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_;};MarkerClusterer.prototype.setEnableRetinaIcons=function(enableRetinaIcons){this.enableRetinaIcons_=enableRetinaIcons;};MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_;};MarkerClusterer.prototype.setImageExtension=function(imageExtension){this.imageExtension_=imageExtension;};MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_;};MarkerClusterer.prototype.setImagePath=function(imagePath){this.imagePath_=imagePath;};MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_;};MarkerClusterer.prototype.setImageSizes=function(imageSizes){this.imageSizes_=imageSizes;};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_;};MarkerClusterer.prototype.setCalculator=function(calculator){this.calculator_=calculator;};MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_;};MarkerClusterer.prototype.setBatchSizeIE=function(batchSizeIE){this.batchSizeIE_=batchSizeIE;};MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_;};MarkerClusterer.prototype.setClusterClass=function(clusterClass){this.clusterClass_=clusterClass;};MarkerClusterer.prototype.getMarkers=function(){return this.markers_;};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length;};MarkerClusterer.prototype.getClusters=function(){return this.clusters_;};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length;};MarkerClusterer.prototype.addMarker=function(marker,opt_nodraw){this.pushMarkerTo_(marker);if(!opt_nodraw){this.redraw_();}};MarkerClusterer.prototype.addMarkers=function(markers,opt_nodraw){var key;for(key in markers){if(markers.hasOwnProperty(key)){this.pushMarkerTo_(markers[key]);}}
if(!opt_nodraw){this.redraw_();}};MarkerClusterer.prototype.pushMarkerTo_=function(marker){if(marker.getDraggable()){var cMarkerClusterer=this;google.maps.event.addListener(marker,"dragend",function(){if(cMarkerClusterer.ready_){this.isAdded=false;cMarkerClusterer.repaint();}});}
marker.isAdded=false;this.markers_.push(marker);};MarkerClusterer.prototype.removeMarker=function(marker,opt_nodraw){var removed=this.removeMarker_(marker);if(!opt_nodraw&&removed){this.repaint();}
return removed;};MarkerClusterer.prototype.removeMarkers=function(markers,opt_nodraw){var i,r;var removed=false;for(i=0;i<markers.length;i++){r=this.removeMarker_(markers[i]);removed=removed||r;}
if(!opt_nodraw&&removed){this.repaint();}
return removed;};MarkerClusterer.prototype.removeMarker_=function(marker){var i;var index=-1;if(this.markers_.indexOf){index=this.markers_.indexOf(marker);}else{for(i=0;i<this.markers_.length;i++){if(marker===this.markers_[i]){index=i;break;}}}
if(index===-1){return false;}
marker.setMap(null);this.markers_.splice(index,1);return true;};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(true);this.markers_=[];};MarkerClusterer.prototype.repaint=function(){var oldClusters=this.clusters_.slice();this.clusters_=[];this.resetViewport_(false);this.redraw_();setTimeout(function(){var i;for(i=0;i<oldClusters.length;i++){oldClusters[i].remove();}},0);};MarkerClusterer.prototype.getExtendedBounds=function(bounds){var projection=this.getProjection();var tr=new google.maps.LatLng(bounds.getNorthEast().lat(),bounds.getNorthEast().lng());var bl=new google.maps.LatLng(bounds.getSouthWest().lat(),bounds.getSouthWest().lng());var trPix=projection.fromLatLngToDivPixel(tr);trPix.x+=this.gridSize_;trPix.y-=this.gridSize_;var blPix=projection.fromLatLngToDivPixel(bl);blPix.x-=this.gridSize_;blPix.y+=this.gridSize_;var ne=projection.fromDivPixelToLatLng(trPix);var sw=projection.fromDivPixelToLatLng(blPix);bounds.extend(ne);bounds.extend(sw);return bounds;};MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0);};MarkerClusterer.prototype.resetViewport_=function(opt_hide){var i,marker;for(i=0;i<this.clusters_.length;i++){this.clusters_[i].remove();}
this.clusters_=[];for(i=0;i<this.markers_.length;i++){marker=this.markers_[i];marker.isAdded=false;if(opt_hide){marker.setMap(null);}}};MarkerClusterer.prototype.distanceBetweenPoints_=function(p1,p2){var R=6371;var dLat=(p2.lat()-p1.lat())*Math.PI/180;var dLon=(p2.lng()-p1.lng())*Math.PI/180;var a=Math.sin(dLat/2)*Math.sin(dLat/2)+
Math.cos(p1.lat()*Math.PI/180)*Math.cos(p2.lat()*Math.PI/180)*Math.sin(dLon/2)*Math.sin(dLon/2);var c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));var d=R*c;return d;};MarkerClusterer.prototype.isMarkerInBounds_=function(marker,bounds){return bounds.contains(marker.getPosition());};MarkerClusterer.prototype.addToClosestCluster_=function(marker){var i,d,cluster,center;var distance=40000;var clusterToAddTo=null;for(i=0;i<this.clusters_.length;i++){cluster=this.clusters_[i];center=cluster.getCenter();if(center){d=this.distanceBetweenPoints_(center,marker.getPosition());if(d<distance){distance=d;clusterToAddTo=cluster;}}}
if(clusterToAddTo&&clusterToAddTo.isMarkerInClusterBounds(marker)){clusterToAddTo.addMarker(marker);}else{cluster=new Cluster(this);cluster.addMarker(marker);this.clusters_.push(cluster);}};MarkerClusterer.prototype.createClusters_=function(iFirst){var i,marker;var mapBounds;var cMarkerClusterer=this;if(!this.ready_){return;}
if(iFirst===0){google.maps.event.trigger(this,"clusteringbegin",this);if(typeof this.timerRefStatic!=="undefined"){clearTimeout(this.timerRefStatic);delete this.timerRefStatic;}}
if(this.getMap().getZoom()>3){mapBounds=new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast());}else{mapBounds=new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));}
var bounds=this.getExtendedBounds(mapBounds);var iLast=Math.min(iFirst+this.batchSize_,this.markers_.length);for(i=iFirst;i<iLast;i++){marker=this.markers_[i];if(!marker.isAdded&&this.isMarkerInBounds_(marker,bounds)){if(!this.ignoreHidden_||(this.ignoreHidden_&&marker.getVisible())){this.addToClosestCluster_(marker);}}}
if(iLast<this.markers_.length){this.timerRefStatic=setTimeout(function(){cMarkerClusterer.createClusters_(iLast);},0);}else{delete this.timerRefStatic;google.maps.event.trigger(this,"clusteringend",this);}};MarkerClusterer.prototype.extend=function(obj1,obj2){return(function(object){var property;for(property in object.prototype){this.prototype[property]=object.prototype[property];}
return this;}).apply(obj1,[obj2]);};MarkerClusterer.CALCULATOR=function(markers,numStyles){var index=0;var title="";var count=markers.length.toString();var dv=count;while(dv!==0){dv=parseInt(dv/10,10);index++;}
index=Math.min(index,numStyles);return{text:count,index:index,title:title};};MarkerClusterer.BATCH_SIZE=2000;MarkerClusterer.BATCH_SIZE_IE=500;MarkerClusterer.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m";MarkerClusterer.IMAGE_EXTENSION="png";MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90];(function($){$.fn.accordion=function(options){if(!this||this.length<1){return this;}
initialize(this,options);};function initialize(obj,options){var opts=$.extend({},$.fn.accordion.defaults,options);var opened='';obj.each(function(){var $this=$(this);saveOpts($this,opts);if(opts.bind=='mouseenter'){$this.bind('mouseenter',function(e){e.preventDefault();toggle($this,opts);});}
if(opts.bind=='mouseover'){$this.bind('mouseover',function(e){e.preventDefault();toggle($this,opts);});}
if(opts.bind=='click'){$this.bind('click',function(e){e.preventDefault();toggle($this,opts);});}
if(opts.bind=='dblclick'){$this.bind('dblclick',function(e){e.preventDefault();toggle($this,opts);});}
id=$this.attr('id');if(!useCookies(opts)){if(id!=opts.defaultOpen){$this.addClass(opts.cssClose);opts.loadClose($this,opts);}else{$this.addClass(opts.cssOpen);opts.loadOpen($this,opts);opened=id;}}else{if(issetCookie(opts)){if(inCookie(id,opts)===false){$this.addClass(opts.cssClose);opts.loadClose($this,opts);}else{$this.addClass(opts.cssOpen);opts.loadOpen($this,opts);opened=id;}}else{if(id!=opts.defaultOpen){$this.addClass(opts.cssClose);opts.loadClose($this,opts);}else{$this.addClass(opts.cssOpen);opts.loadOpen($this,opts);opened=id;}}}});if(opened.length>0&&useCookies(opts)){setCookie(opened,opts);}else{setCookie('',opts);}
return obj;};function loadOpts($this){return $this.data('accordion-opts');}
function saveOpts($this,opts){return $this.data('accordion-opts',opts);}
function close(opts){opened=$(document).find('.'+opts.cssOpen);$.each(opened,function(){$(this).addClass(opts.cssClose).removeClass(opts.cssOpen);opts.animateClose($(this),opts);});}
function open($this,opts){close(opts);$this.removeClass(opts.cssClose).addClass(opts.cssOpen);opts.animateOpen($this,opts);if(useCookies(opts)){id=$this.attr('id');setCookie(id,opts);}}
function toggle($this,opts){if($this.hasClass(opts.cssOpen)){close(opts);if(useCookies(opts)){setCookie('',opts);}
return false;}
close(opts);open($this,opts);return false;}
function useCookies(opts){if(!$.cookie||opts.cookieName==''){return false;}
return true;}
function setCookie(value,opts){if(!useCookies(opts)){return false;}
$.cookie(opts.cookieName,value,opts.cookieOptions);}
function inCookie(value,opts){if(!useCookies(opts)){return false;}
if(!issetCookie(opts)){return false;}
cookie=unescape($.cookie(opts.cookieName));if(cookie!=value){return false;}
return true;}
function issetCookie(opts){if(!useCookies(opts)){return false;}
if($.cookie(opts.cookieName)==null){return false;}
return true;}
$.fn.accordion.defaults={cssClose:'accordion-close',cssOpen:'accordion-open',cookieName:'accordion',cookieOptions:{path:'/',expires:7,domain:'',secure:''},defaultOpen:'',speed:'slow',bind:'click',animateOpen:function(elem,opts){elem.next().stop(true,true).slideDown(opts.speed);},animateClose:function(elem,opts){elem.next().stop(true,true).slideUp(opts.speed);},loadOpen:function(elem,opts){elem.next().show();},loadClose:function(elem,opts){elem.next().hide();}};})(jQuery);
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */
(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory;}else{factory(jQuery);}}(function($){var toFix=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'],toBind=('onwheel'in document||document.documentMode>=9)?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'],slice=Array.prototype.slice,nullLowestDeltaTimeout,lowestDelta;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;}}
var special=$.event.special.mousewheel={version:'3.1.9',setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=handler;}
$.data(this,'mousewheel-line-height',special.getLineHeight(this));$.data(this,'mousewheel-page-height',special.getPageHeight(this));},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=null;}},getLineHeight:function(elem){return parseInt($(elem)['offsetParent'in $.fn?'offsetParent':'parent']().css('fontSize'),10);},getPageHeight:function(elem){return $(elem).height();},settings:{adjustOldDeltas:true}};$.fn.extend({mousewheel:function(fn){return fn?this.bind('mousewheel',fn):this.trigger('mousewheel');},unmousewheel:function(fn){return this.unbind('mousewheel',fn);}});function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0;event=$.event.fix(orgEvent);event.type='mousewheel';if('detail'in orgEvent){deltaY=orgEvent.detail*-1;}
if('wheelDelta'in orgEvent){deltaY=orgEvent.wheelDelta;}
if('wheelDeltaY'in orgEvent){deltaY=orgEvent.wheelDeltaY;}
if('wheelDeltaX'in orgEvent){deltaX=orgEvent.wheelDeltaX*-1;}
if('axis'in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaX=deltaY*-1;deltaY=0;}
delta=deltaY===0?deltaX:deltaY;if('deltaY'in orgEvent){deltaY=orgEvent.deltaY*-1;delta=deltaY;}
if('deltaX'in orgEvent){deltaX=orgEvent.deltaX;if(deltaY===0){delta=deltaX*-1;}}
if(deltaY===0&&deltaX===0){return;}
if(orgEvent.deltaMode===1){var lineHeight=$.data(this,'mousewheel-line-height');delta*=lineHeight;deltaY*=lineHeight;deltaX*=lineHeight;}else if(orgEvent.deltaMode===2){var pageHeight=$.data(this,'mousewheel-page-height');delta*=pageHeight;deltaY*=pageHeight;deltaX*=pageHeight;}
absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;if(shouldAdjustOldDeltas(orgEvent,absDelta)){lowestDelta/=40;}}
if(shouldAdjustOldDeltas(orgEvent,absDelta)){delta/=40;deltaX/=40;deltaY/=40;}
delta=Math[delta>=1?'floor':'ceil'](delta/lowestDelta);deltaX=Math[deltaX>=1?'floor':'ceil'](deltaX/lowestDelta);deltaY=Math[deltaY>=1?'floor':'ceil'](deltaY/lowestDelta);event.deltaX=deltaX;event.deltaY=deltaY;event.deltaFactor=lowestDelta;event.deltaMode=0;args.unshift(event,delta,deltaX,deltaY);if(nullLowestDeltaTimeout){clearTimeout(nullLowestDeltaTimeout);}
nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200);return($.event.dispatch||$.event.handle).apply(this,args);}
function nullLowestDelta(){lowestDelta=null;}
function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&orgEvent.type==='mousewheel'&&absDelta%120===0;}}));
/*!
 * jScrollPane - v2.0.19 - 2013-11-16
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2013 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
!function(a,b,c){a.fn.jScrollPane=function(d){function e(d,e){function f(b){var e,h,j,l,m,n,q=!1,r=!1;if(P=b,Q===c)m=d.scrollTop(),n=d.scrollLeft(),d.css({overflow:"hidden",padding:0}),R=d.innerWidth()+tb,S=d.innerHeight(),d.width(R),Q=a('<div class="jspPane" />').css("padding",sb).append(d.children()),T=a('<div class="jspContainer" />').css({width:R+"px",height:S+"px"}).append(Q).appendTo(d);else{if(d.css("width",""),q=P.stickToBottom&&C(),r=P.stickToRight&&D(),l=d.innerWidth()+tb!=R||d.outerHeight()!=S,l&&(R=d.innerWidth()+tb,S=d.innerHeight(),T.css({width:R+"px",height:S+"px"})),!l&&ub==U&&Q.outerHeight()==V)return d.width(R),void 0;ub=U,Q.css("width",""),d.width(R),T.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}
Q.css("overflow","auto"),U=b.contentWidth?b.contentWidth:Q[0].scrollWidth,V=Q[0].scrollHeight,Q.css("overflow",""),W=U/R,X=V/S,Y=X>1,Z=W>1,Z||Y?(d.addClass("jspScrollable"),e=P.maintainPosition&&(ab||db),e&&(h=A(),j=B()),g(),i(),k(),e&&(y(r?U-R:h,!1),x(q?V-S:j,!1)),H(),E(),N(),P.enableKeyboardNavigation&&J(),P.clickOnTrack&&o(),L(),P.hijackInternalLinks&&M()):(d.removeClass("jspScrollable"),Q.css({top:0,left:0,width:T.width()-tb}),F(),I(),K(),p()),P.autoReinitialise&&!rb?rb=setInterval(function(){f(P)},P.autoReinitialiseDelay):!P.autoReinitialise&&rb&&clearInterval(rb),m&&d.scrollTop(0)&&x(m,!1),n&&d.scrollLeft(0)&&y(n,!1),d.trigger("jsp-initialised",[Z||Y])}
function g(){Y&&(T.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),eb=T.find(">.jspVerticalBar"),fb=eb.find(">.jspTrack"),$=fb.find(">.jspDrag"),P.showArrows&&(jb=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",m(0,-1)).bind("click.jsp",G),kb=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",m(0,1)).bind("click.jsp",G),P.arrowScrollOnHover&&(jb.bind("mouseover.jsp",m(0,-1,jb)),kb.bind("mouseover.jsp",m(0,1,kb))),l(fb,P.verticalArrowPositions,jb,kb)),hb=S,T.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){hb-=a(this).outerHeight()}),$.hover(function(){$.addClass("jspHover")},function(){$.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",G),$.addClass("jspActive");var c=b.pageY-$.position().top;return a("html").bind("mousemove.jsp",function(a){r(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",q),!1}),h())}
function h(){fb.height(hb+"px"),ab=0,gb=P.verticalGutter+fb.outerWidth(),Q.width(R-gb-tb);try{0===eb.position().left&&Q.css("margin-left",gb+"px")}catch(a){}}
function i(){Z&&(T.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),lb=T.find(">.jspHorizontalBar"),mb=lb.find(">.jspTrack"),bb=mb.find(">.jspDrag"),P.showArrows&&(pb=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",m(-1,0)).bind("click.jsp",G),qb=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",m(1,0)).bind("click.jsp",G),P.arrowScrollOnHover&&(pb.bind("mouseover.jsp",m(-1,0,pb)),qb.bind("mouseover.jsp",m(1,0,qb))),l(mb,P.horizontalArrowPositions,pb,qb)),bb.hover(function(){bb.addClass("jspHover")},function(){bb.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",G),bb.addClass("jspActive");var c=b.pageX-bb.position().left;return a("html").bind("mousemove.jsp",function(a){t(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",q),!1}),nb=T.innerWidth(),j())}
function j(){T.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){nb-=a(this).outerWidth()}),mb.width(nb+"px"),db=0}
function k(){if(Z&&Y){var b=mb.outerHeight(),c=fb.outerWidth();hb-=b,a(lb).find(">.jspCap:visible,>.jspArrow").each(function(){nb+=a(this).outerWidth()}),nb-=c,S-=c,R-=b,mb.parent().append(a('<div class="jspCorner" />').css("width",b+"px")),h(),j()}
Z&&Q.width(T.outerWidth()-tb+"px"),V=Q.outerHeight(),X=V/S,Z&&(ob=Math.ceil(1/W*nb),ob>P.horizontalDragMaxWidth?ob=P.horizontalDragMaxWidth:ob<P.horizontalDragMinWidth&&(ob=P.horizontalDragMinWidth),bb.width(ob+"px"),cb=nb-ob,u(db)),Y&&(ib=Math.ceil(1/X*hb),ib>P.verticalDragMaxHeight?ib=P.verticalDragMaxHeight:ib<P.verticalDragMinHeight&&(ib=P.verticalDragMinHeight),$.height(ib+"px"),_=hb-ib,s(ab))}
function l(a,b,c,d){var e,f="before",g="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split"),b==f?g=b:b==g&&(f=b,e=c,c=d,d=e),a[f](c)[g](d)}
function m(a,b,c){return function(){return n(a,b,this,c),this.blur(),!1}}
function n(b,c,d,e){d=a(d).addClass("jspActive");var f,g,h=!0,i=function(){0!==b&&vb.scrollByX(b*P.arrowButtonSpeed),0!==c&&vb.scrollByY(c*P.arrowButtonSpeed),g=setTimeout(i,h?P.initialDelay:P.arrowRepeatFreq),h=!1};i(),f=e?"mouseout.jsp":"mouseup.jsp",e=e||a("html"),e.bind(f,function(){d.removeClass("jspActive"),g&&clearTimeout(g),g=null,e.unbind(f)})}
function o(){p(),Y&&fb.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageY-f.top-ab,h=!0,i=function(){var a=e.offset(),c=b.pageY-a.top-ib/2,f=S*P.scrollPagePercent,k=_*f/(V-S);if(0>g)ab-k>c?vb.scrollByY(-f):r(c);else{if(!(g>0))return j(),void 0;c>ab+k?vb.scrollByY(f):r(c)}
d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}}),Z&&mb.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageX-f.left-db,h=!0,i=function(){var a=e.offset(),c=b.pageX-a.left-ob/2,f=R*P.scrollPagePercent,k=cb*f/(U-R);if(0>g)db-k>c?vb.scrollByX(-f):t(c);else{if(!(g>0))return j(),void 0;c>db+k?vb.scrollByX(f):t(c)}
d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}})}
function p(){mb&&mb.unbind("mousedown.jsp"),fb&&fb.unbind("mousedown.jsp")}
function q(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),$&&$.removeClass("jspActive"),bb&&bb.removeClass("jspActive")}
function r(a,b){Y&&(0>a?a=0:a>_&&(a=_),b===c&&(b=P.animateScroll),b?vb.animate($,"top",a,s):($.css("top",a),s(a)))}
function s(a){a===c&&(a=$.position().top),T.scrollTop(0),ab=a;var b=0===ab,e=ab==_,f=a/_,g=-f*(V-S);(wb!=b||yb!=e)&&(wb=b,yb=e,d.trigger("jsp-arrow-change",[wb,yb,xb,zb])),v(b,e),Q.css("top",g),d.trigger("jsp-scroll-y",[-g,b,e]).trigger("scroll")}
function t(a,b){Z&&(0>a?a=0:a>cb&&(a=cb),b===c&&(b=P.animateScroll),b?vb.animate(bb,"left",a,u):(bb.css("left",a),u(a)))}
function u(a){a===c&&(a=bb.position().left),T.scrollTop(0),db=a;var b=0===db,e=db==cb,f=a/cb,g=-f*(U-R);(xb!=b||zb!=e)&&(xb=b,zb=e,d.trigger("jsp-arrow-change",[wb,yb,xb,zb])),w(b,e),Q.css("left",g),d.trigger("jsp-scroll-x",[-g,b,e]).trigger("scroll")}
function v(a,b){P.showArrows&&(jb[a?"addClass":"removeClass"]("jspDisabled"),kb[b?"addClass":"removeClass"]("jspDisabled"))}
function w(a,b){P.showArrows&&(pb[a?"addClass":"removeClass"]("jspDisabled"),qb[b?"addClass":"removeClass"]("jspDisabled"))}
function x(a,b){var c=a/(V-S);r(c*_,b)}
function y(a,b){var c=a/(U-R);t(c*cb,b)}
function z(b,c,d){var e,f,g,h,i,j,k,l,m,n=0,o=0;try{e=a(b)}catch(p){return}
for(f=e.outerHeight(),g=e.outerWidth(),T.scrollTop(0),T.scrollLeft(0);!e.is(".jspPane");)
if(n+=e.position().top,o+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;h=B(),j=h+S,h>n||c?l=n-P.horizontalGutter:n+f>j&&(l=n-S+f+P.horizontalGutter),isNaN(l)||x(l,d),i=A(),k=i+R,i>o||c?m=o-P.horizontalGutter:o+g>k&&(m=o-R+g+P.horizontalGutter),isNaN(m)||y(m,d)}
function A(){return-Q.position().left}
function B(){return-Q.position().top}
function C(){var a=V-S;return a>20&&a-B()<10}
function D(){var a=U-R;return a>20&&a-A()<10}
function E(){T.unbind(Bb).bind(Bb,function(a,b,c,d){var e=db,f=ab,g=a.deltaFactor||P.mouseWheelSpeed;return vb.scrollBy(c*g,-d*g,!1),e==db&&f==ab})}
function F(){T.unbind(Bb)}
function G(){return!1}
function H(){Q.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){z(a.target,!1)})}
function I(){Q.find(":input,a").unbind("focus.jsp")}
function J(){function b(){var a=db,b=ab;switch(c){case 40:vb.scrollByY(P.keyboardSpeed,!1);break;case 38:vb.scrollByY(-P.keyboardSpeed,!1);break;case 34:case 32:vb.scrollByY(S*P.scrollPagePercent,!1);break;case 33:vb.scrollByY(-S*P.scrollPagePercent,!1);break;case 39:vb.scrollByX(P.keyboardSpeed,!1);break;case 37:vb.scrollByX(-P.keyboardSpeed,!1)}
return e=a!=db||b!=ab}
var c,e,f=[];Z&&f.push(lb[0]),Y&&f.push(eb[0]),Q.focus(function(){d.focus()}),d.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(d){if(d.target===this||f.length&&a(d.target).closest(f).length){var g=db,h=ab;switch(d.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:c=d.keyCode,b();break;case 35:x(V-S),c=null;break;case 36:x(0),c=null}
return e=d.keyCode==c&&g!=db||h!=ab,!e}}).bind("keypress.jsp",function(a){return a.keyCode==c&&b(),!e}),P.hideFocus?(d.css("outline","none"),"hideFocus"in T[0]&&d.attr("hideFocus",!0)):(d.css("outline",""),"hideFocus"in T[0]&&d.attr("hideFocus",!1))}
function K(){d.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}
function L(){if(location.hash&&location.hash.length>1){var b,c,d=escape(location.hash.substr(1));try{b=a("#"+d+', a[name="'+d+'"]')}catch(e){return}
b.length&&Q.find(d)&&(0===T.scrollTop()?c=setInterval(function(){T.scrollTop()>0&&(z(b,!0),a(document).scrollTop(T.position().top),clearInterval(c))},50):(z(b,!0),a(document).scrollTop(T.position().top)))}}
function M(){a(document.body).data("jspHijack")||(a(document.body).data("jspHijack",!0),a(document.body).delegate("a[href*=#]","click",function(c){var d,e,f,g,h,i,j=this.href.substr(0,this.href.indexOf("#")),k=location.href;if(-1!==location.href.indexOf("#")&&(k=location.href.substr(0,location.href.indexOf("#"))),j===k){d=escape(this.href.substr(this.href.indexOf("#")+1));try{e=a("#"+d+', a[name="'+d+'"]')}catch(l){return}
e.length&&(f=e.closest(".jspScrollable"),g=f.data("jsp"),g.scrollToElement(e,!0),f[0].scrollIntoView&&(h=a(b).scrollTop(),i=e.offset().top,(h>i||i>h+a(b).height())&&f[0].scrollIntoView()),c.preventDefault())}}))}
function N(){var a,b,c,d,e,f=!1;T.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){var h=g.originalEvent.touches[0];a=A(),b=B(),c=h.pageX,d=h.pageY,e=!1,f=!0}).bind("touchmove.jsp",function(g){if(f){var h=g.originalEvent.touches[0],i=db,j=ab;return vb.scrollTo(a+c-h.pageX,b+d-h.pageY),e=e||Math.abs(c-h.pageX)>5||Math.abs(d-h.pageY)>5,i==db&&j==ab}}).bind("touchend.jsp",function(){f=!1}).bind("click.jsp-touchclick",function(){return e?(e=!1,!1):void 0})}
function O(){var a=B(),b=A();d.removeClass("jspScrollable").unbind(".jsp"),d.replaceWith(Ab.append(Q.children())),Ab.scrollTop(a),Ab.scrollLeft(b),rb&&clearInterval(rb)}
var P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb=this,wb=!0,xb=!0,yb=!1,zb=!1,Ab=d.clone(!1,!1).empty(),Bb=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===d.css("box-sizing")?(sb=0,tb=0):(sb=d.css("paddingTop")+" "+d.css("paddingRight")+" "+d.css("paddingBottom")+" "+d.css("paddingLeft"),tb=(parseInt(d.css("paddingLeft"),10)||0)+(parseInt(d.css("paddingRight"),10)||0)),a.extend(vb,{reinitialise:function(b){b=a.extend({},P,b),f(b)},scrollToElement:function(a,b,c){z(a,b,c)},scrollTo:function(a,b,c){y(a,c),x(b,c)},scrollToX:function(a,b){y(a,b)},scrollToY:function(a,b){x(a,b)},scrollToPercentX:function(a,b){y(a*(U-R),b)},scrollToPercentY:function(a,b){x(a*(V-S),b)},scrollBy:function(a,b,c){vb.scrollByX(a,c),vb.scrollByY(b,c)},scrollByX:function(a,b){var c=A()+Math[0>a?"floor":"ceil"](a),d=c/(U-R);t(d*cb,b)},scrollByY:function(a,b){var c=B()+Math[0>a?"floor":"ceil"](a),d=c/(V-S);r(d*_,b)},positionDragX:function(a,b){t(a,b)},positionDragY:function(a,b){r(a,b)},animate:function(a,b,c,d){var e={};e[b]=c,a.animate(e,{duration:P.animateDuration,easing:P.animateEase,queue:!1,step:d})},getContentPositionX:function(){return A()},getContentPositionY:function(){return B()},getContentWidth:function(){return U},getContentHeight:function(){return V},getPercentScrolledX:function(){return A()/(U-R)},getPercentScrolledY:function(){return B()/(V-S)},getIsScrollableH:function(){return Z},getIsScrollableV:function(){return Y},getContentPane:function(){return Q},scrollToBottom:function(a){r(_,a)},hijackInternalLinks:a.noop,destroy:function(){O()}}),f(e)}
return d=a.extend({},a.fn.jScrollPane.defaults,d),a.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){d[this]=d[this]||d.speed}),this.each(function(){var b=a(this),c=b.data("jsp");c?c.reinitialise(d):(a("script",b).filter('[type="text/javascript"],:not([type])').remove(),c=new e(b,d),b.data("jsp",c))})},a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this);var masonry;jQuery(document).ready(function($){$('.gm-style-iw').parent().parent().addClass('wpgmp_infowindow_css');$("div.scroll-pane").jScrollPane();$(".accordion").accordion({speed:"slow"});$(".wpgmp-social-share").on("click",function(e){e.preventDefault();var url=$(this).attr("href");var check_url=url.split('&url=');if(check_url[1]==''){url+=window.location.href;}
var width=500,height=300;var left=(screen.width/2)-(width/2),top=(screen.height/2)-(height/2);window.open(url,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width="+width+",height="+height+",top="+top+",left="+left);});var masonry_ref='';$('.categories_filter span a').on('click',function(e){var ref=$(this).closest(".wpgmp_map_container");var elem=$(ref).find('div.wpgmp_categories');if($(this).hasClass('wpgmp_grid')){$(this).addClass('active');$(ref).find('span a.wpgmp_list').removeClass('active');$(ref).find('span a.wpgmp_print').removeClass('active');elem.fadeOut(500,function(){elem.removeClass('wpgmp_listing_list').addClass('wpgmp_listing_grid');elem.show();try{var container=$(ref).find('.wpgmp_listing_grid');if(container){var msnry=$(container).data('masonry');if(msnry){msnry.destroy();}
var $grid=$(container).imagesLoaded(function(){$grid.masonry({itemSelector:'.wpgmp_listing_grid .wpgmp_locations',columnWidth:'.wpgmp_listing_grid .wpgmp_locations',});});}}catch(err){console.log(err);}});}else if($(this).hasClass('wpgmp_list')){if($(ref).find('.wpgmp_listing_grid').hasClass('masonry')){var msnry=$(ref).find('.wpgmp_listing_grid').data('masonry');msnry.destroy();}
$(this).addClass('active');$(ref).find('span a.wpgmp_grid').removeClass('active');$(ref).find('span a.wpgmp_print').removeClass('active');elem.fadeOut(500,function(){elem.removeClass('wpgmp_listing_grid').addClass('wpgmp_listing_list');$(ref).find('.wpgmp_locations').equalHeightGrid();elem.fadeIn(500);});}else if($(this).hasClass('wpgmp_print')){$(this).addClass('active');$(ref).find('span a.wpgmp_grid').removeClass('active');$(ref).find('span a.wpgmp_list').removeClass('active');$(ref).find('span a.wpgmp_print').removeClass('active');}});});(function($){"use strict";function getjQueryObject(string){var jqObj=$("");try{jqObj=$(string).clone();}catch(e){jqObj=$("<span />").html(string);}
return jqObj;}
function isNode(o){return!!(typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");}
$.print=$.fn.print=function(){var options,$this,self=this;if(self instanceof $){self=self.get(0);}
if(isNode(self)){$this=$(self);if(arguments.length>0){options=arguments[0];}}else{if(arguments.length>0){$this=$(arguments[0]);if(isNode($this[0])){if(arguments.length>1){options=arguments[1];}}else{options=arguments[0];$this=$("html");}}else{$this=$("html");}}
var defaults={globalStyles:true,mediaPrint:false,stylesheet:null,noPrintSelector:".no-print",iframe:true,append:null,prepend:null};options=$.extend({},defaults,(options||{}));var $styles=$("");if(options.globalStyles){$styles=$("style, link, meta, title");}else if(options.mediaPrint){$styles=$("link[media=print]");}
if(options.stylesheet){$styles=$.merge($styles,$('<link rel="stylesheet" href="'+options.stylesheet+'">'));}
var copy=$this.clone();copy=$("<span/>").append(copy);copy.find(options.noPrintSelector).remove();copy.append($styles.clone());copy.append(getjQueryObject(options.append));copy.prepend(getjQueryObject(options.prepend));var content=copy.html();copy.remove();var w,wdoc;if(options.iframe){try{var $iframe=$(options.iframe+"");var iframeCount=$iframe.length;if(iframeCount===0){$iframe=$('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo('body').css({"position":"absolute","top":-999,"left":-999});}
w=$iframe.get(0);w=w.contentWindow||w.contentDocument||w;wdoc=w.document||w.contentDocument||w;wdoc.open();wdoc.write(content);wdoc.close();setTimeout(function(){w.focus();w.print();setTimeout(function(){if(iframeCount===0){$iframe.remove();}},100);},250);}catch(e){console.error("Failed to print from iframe",e.stack,e.message);w=window.open();w.document.write(content);w.document.close();w.focus();w.print();w.close();}}else{w=window.open();w.document.write(content);w.document.close();w.focus();w.print();w.close();}
return this;};})(jQuery);(function($){$.fn.equalHeight=function(){var heights=[];$.each(this,function(i,element){$element=$(element);var element_height;var includePadding=($element.css('box-sizing')=='border-box')||($element.css('-moz-box-sizing')=='border-box');if(includePadding){element_height=$element.innerHeight();}else{element_height=$element.height();}
heights.push(element_height);});this.css('height',Math.max.apply(window,heights)+'px');return this;};$.fn.equalHeightGrid=function(columns){var $tiles=this;$tiles.css('height','auto');for(var i=0;i<$tiles.length;i++){if(i%columns===0){var row=$($tiles[i]);for(var n=1;n<columns;n++){row=row.add($tiles[i+n]);}
row.equalHeight();}}
return this;};$.fn.detectGridColumns=function(){var offset=0,cols=0;this.each(function(i,elem){var elem_offset=$(elem).offset().top;if(offset===0||elem_offset==offset){cols++;offset=elem_offset;}else{return false;}});return cols;};$.fn.responsiveEqualHeightGrid=function(){var _this=this;function syncHeights(){var cols=_this.detectGridColumns();_this.equalHeightGrid(cols);}
$(window).bind('resize load',syncHeights);syncHeights();return this;};})(jQuery);(function($){var re=/([^&=]+)=?([^&]*)/g;var decodeRE=/\+/g;var decode=function(str){return decodeURIComponent(str.replace(decodeRE," "));};$.parseParams=function(query){var params={},e;while(e=re.exec(query)){var k=decode(e[1]),v=decode(e[2]);if(k.substring(k.length-2)==='[]'){k=k.substring(0,k.length-2);(params[k]||(params[k]=[])).push(v);}
else params[k]=v;}
return params;};})(jQuery);(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function n(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return n.apply(null,arguments)}var p=Date.now||function(){return+new Date};function r(a,b){this.F=a;this.k=b||a;this.H=this.k.document}var ca=!!window.FontFace;r.prototype.createElement=function(a,b,c){a=this.H.createElement(a);if(b)for(var d in b)b.hasOwnProperty(d)&&("style"==d?a.style.cssText=b[d]:a.setAttribute(d,b[d]));c&&a.appendChild(this.H.createTextNode(c));return a};function s(a,b,c){a=a.H.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}
function t(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}
function v(a){if("string"===typeof a.fa)return a.fa;var b=a.k.location.protocol;"about:"==b&&(b=a.F.location.protocol);return"https:"==b?"https:":"http:"}function x(a,b,c){function d(){l&&e&&f&&(l(g),l=null)}b=a.createElement("link",{rel:"stylesheet",href:b,media:"all"});var e=!1,f=!0,g=null,l=c||null;ca?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error("Stylesheet failed to load");d()}):setTimeout(function(){e=!0;d()},0);s(a,"head",b)}
function y(a,b,c,d){var e=a.H.getElementsByTagName("head")[0];if(e){var f=a.createElement("script",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,"HEAD"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error("Script load timeout")))},d||5E3);return f}return null};function z(){this.S=0;this.K=null}function A(a){a.S++;return function(){a.S--;B(a)}}function C(a,b){a.K=b;B(a)}function B(a){0==a.S&&a.K&&(a.K(),a.K=null)};function D(a){this.ea=a||"-"}D.prototype.d=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.ea)};function E(a,b){this.Q=a;this.M=4;this.L="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.L=c[1],this.M=parseInt(c[2],10))}E.prototype.getName=function(){return this.Q};function da(a){return F(a)+" "+(a.M+"00")+" 300px "+G(a.Q)}function G(a){var b=[];a=a.split(/,\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['"]/g,"");-1!=d.indexOf(" ")||/^\d/.test(d)?b.push("'"+d+"'"):b.push(d)}return b.join(",")}function I(a){return a.L+a.M}
function F(a){var b="normal";"o"===a.L?b="oblique":"i"===a.L&&(b="italic");return b}function ea(a){var b=4,c="n",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function fa(a,b){this.a=a;this.j=a.k.document.documentElement;this.O=b;this.f="wf";this.e=new D("-");this.da=!1!==b.events;this.u=!1!==b.classes}function ga(a){a.u&&t(a.j,[a.e.d(a.f,"loading")]);J(a,"loading")}function K(a){if(a.u){var b=u(a.j,a.e.d(a.f,"active")),c=[],d=[a.e.d(a.f,"loading")];b||c.push(a.e.d(a.f,"inactive"));t(a.j,c,d)}J(a,"inactive")}function J(a,b,c){if(a.da&&a.O[b])if(c)a.O[b](c.getName(),I(c));else a.O[b]()};function ha(){this.t={}}function ia(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.t[e];f&&d.push(f(b[e],c))}return d};function L(a,b){this.a=a;this.h=b;this.m=this.a.createElement("span",{"aria-hidden":"true"},this.h)}function M(a,b){var c=a.m,d;d="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+G(b.Q)+";"+("font-style:"+F(b)+";font-weight:"+(b.M+"00")+";");c.style.cssText=d}function N(a){s(a.a,"body",a.m)}L.prototype.remove=function(){var a=this.m;a.parentNode&&a.parentNode.removeChild(a)};function O(a,b,c,d,e,f){this.G=a;this.J=b;this.g=d;this.a=c;this.v=e||3E3;this.h=f||void 0}O.prototype.start=function(){function a(){p()-d>=c.v?c.J(c.g):b.fonts.load(da(c.g),c.h).then(function(b){1<=b.length?c.G(c.g):setTimeout(a,25)},function(){c.J(c.g)})}var b=this.a.k.document,c=this,d=p();a()};function P(a,b,c,d,e,f,g){this.G=a;this.J=b;this.a=c;this.g=d;this.h=g||"BESbswy";this.s={};this.v=e||3E3;this.Z=f||null;this.D=this.C=this.A=this.w=null;this.w=new L(this.a,this.h);this.A=new L(this.a,this.h);this.C=new L(this.a,this.h);this.D=new L(this.a,this.h);M(this.w,new E(this.g.getName()+",serif",I(this.g)));M(this.A,new E(this.g.getName()+",sans-serif",I(this.g)));M(this.C,new E("serif",I(this.g)));M(this.D,new E("sans-serif",I(this.g)));N(this.w);N(this.A);N(this.C);N(this.D)}
var Q={ia:"serif",ha:"sans-serif"},R=null;function S(){if(null===R){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);R=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return R}P.prototype.start=function(){this.s.serif=this.C.m.offsetWidth;this.s["sans-serif"]=this.D.m.offsetWidth;this.ga=p();ja(this)};function ka(a,b,c){for(var d in Q)if(Q.hasOwnProperty(d)&&b===a.s[Q[d]]&&c===a.s[Q[d]])return!0;return!1}
function ja(a){var b=a.w.m.offsetWidth,c=a.A.m.offsetWidth,d;(d=b===a.s.serif&&c===a.s["sans-serif"])||(d=S()&&ka(a,b,c));d?p()-a.ga>=a.v?S()&&ka(a,b,c)&&(null===a.Z||a.Z.hasOwnProperty(a.g.getName()))?T(a,a.G):T(a,a.J):la(a):T(a,a.G)}function la(a){setTimeout(n(function(){ja(this)},a),50)}function T(a,b){setTimeout(n(function(){this.w.remove();this.A.remove();this.C.remove();this.D.remove();b(this.g)},a),0)};function U(a,b,c){this.a=a;this.p=b;this.P=0;this.ba=this.Y=!1;this.v=c}var V=null;U.prototype.V=function(a){var b=this.p;b.u&&t(b.j,[b.e.d(b.f,a.getName(),I(a).toString(),"active")],[b.e.d(b.f,a.getName(),I(a).toString(),"loading"),b.e.d(b.f,a.getName(),I(a).toString(),"inactive")]);J(b,"fontactive",a);this.ba=!0;ma(this)};U.prototype.W=function(a){var b=this.p;if(b.u){var c=u(b.j,b.e.d(b.f,a.getName(),I(a).toString(),"active")),d=[],e=[b.e.d(b.f,a.getName(),I(a).toString(),"loading")];c||d.push(b.e.d(b.f,a.getName(),I(a).toString(),"inactive"));t(b.j,d,e)}J(b,"fontinactive",a);ma(this)};function ma(a){0==--a.P&&a.Y&&(a.ba?(a=a.p,a.u&&t(a.j,[a.e.d(a.f,"active")],[a.e.d(a.f,"loading"),a.e.d(a.f,"inactive")]),J(a,"active")):K(a.p))};function na(a){this.F=a;this.q=new ha;this.$=0;this.T=this.U=!0}na.prototype.load=function(a){this.a=new r(this.F,a.context||this.F);this.U=!1!==a.events;this.T=!1!==a.classes;oa(this,new fa(this.a,a),a)};function pa(a,b,c,d,e){var f=0==--a.$;(a.T||a.U)&&setTimeout(function(){var a=e||null,l=d||null||{};if(0===c.length&&f)K(b.p);else{b.P+=c.length;f&&(b.Y=f);var h,k=[];for(h=0;h<c.length;h++){var m=c[h],w=l[m.getName()],q=b.p,H=m;q.u&&t(q.j,[q.e.d(q.f,H.getName(),I(H).toString(),"loading")]);J(q,"fontloading",H);q=null;null===V&&(V=window.FontFace?(q=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))?42<parseInt(q[1],10):!0:!1);q=V?new O(n(b.V,b),n(b.W,b),b.a,m,b.v,w):new P(n(b.V,b),n(b.W,b),b.a,m,b.v,a,w);k.push(q)}for(h=0;h<k.length;h++)k[h].start()}},0)}function oa(a,b,c){var d=[],e=c.timeout;ga(b);var d=ia(a.q,c,a.a),f=new U(a.a,b,e);a.$=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,c,d){pa(a,f,b,c,d)})};function qa(a,b,c){this.N=a?a:b+ra;this.o=[];this.R=[];this.ca=c||""}var ra="//fonts.googleapis.com/css";function sa(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(":");3==e.length&&a.R.push(e.pop());var f="";2==e.length&&""!=e[1]&&(f=":");a.o.push(e.join(f))}}
qa.prototype.d=function(){if(0==this.o.length)throw Error("No fonts to load!");if(-1!=this.N.indexOf("kit="))return this.N;for(var a=this.o.length,b=[],c=0;c<a;c++)b.push(this.o[c].replace(/ /g,"+"));a=this.N+"?family="+b.join("%7C");0<this.R.length&&(a+="&subset="+this.R.join(","));0<this.ca.length&&(a+="&text="+encodeURIComponent(this.ca));return a};function ta(a){this.o=a;this.aa=[];this.I={}}
var ua={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},va={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},wa={i:"i",italic:"i",n:"n",normal:"n"},xa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;ta.prototype.parse=function(){for(var a=this.o.length,b=0;b<a;b++){var c=this.o[b].split(":"),d=c[0].replace(/\+/g," "),e=["n4"];if(2<=c.length){var f;var g=c[1];f=[];if(g)for(var g=g.split(","),l=g.length,h=0;h<l;h++){var k;k=g[h];if(k.match(/^[\w-]+$/))if(k=xa.exec(k.toLowerCase()),null==k)k="";else{var m;m=k[1];if(null==m||""==m)m="4";else{var w=va[m];m=w?w:isNaN(m)?"4":m.substr(0,1)}k=k[2];k=[null==k||""==k?"n":wa[k],m].join("")}else k="";k&&f.push(k)}0<f.length&&(e=f);3==c.length&&(c=c[2],f=[],c=c?c.split(","):f,0<c.length&&(c=ua[c[0]])&&(this.I[d]=c))}this.I[d]||(c=ua[d])&&(this.I[d]=c);for(c=0;c<e.length;c+=1)this.aa.push(new E(d,e[c]))}};function ya(a,b){this.a=a;this.c=b}var za={Arimo:!0,Cousine:!0,Tinos:!0};ya.prototype.load=function(a){var b=new z,c=this.a,d=new qa(this.c.api,v(c),this.c.text),e=this.c.families;sa(d,e);var f=new ta(e);f.parse();x(c,d.d(),A(b));C(b,function(){a(f.aa,f.I,za)})};function W(a,b){this.a=a;this.c=b;this.X=[]}W.prototype.B=function(a){var b=this.a;return v(this.a)+(this.c.api||"//f.fontdeck.com/s/css/js/")+(b.k.location.hostname||b.F.location.hostname)+"/"+a+".js"};W.prototype.load=function(a){var b=this.c.id,c=this.a.k,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,l=c.fonts.length;g<l;++g){var h=c.fonts[g];d.X.push(new E(h.name,ea("font-weight:"+h.weight+";font-style:"+h.style)))}a(d.X)},y(this.a,this.B(b),function(b){b&&a([])})):a([])};function X(a,b){this.a=a;this.c=b}X.prototype.B=function(a){return(this.c.api||"https://use.typekit.net")+"/"+a+".js"};X.prototype.load=function(a){var b=this.c.id,c=this.a.k;b?y(this.a,this.B(b),function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],l=b[f+1],h=0;h<l.length;h++)e.push(new E(g,l[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(k){}a(e)}},2E3):a([])};function Y(a,b){this.a=a;this.c=b}Y.prototype.B=function(a,b){var c=v(this.a),d=(this.c.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return c+"//"+d+"/"+a+".js"+(b?"?v="+b:"")};Y.prototype.load=function(a){function b(){if(e["__mti_fntLst"+c]){var d=e["__mti_fntLst"+c](),g=[],l;if(d)for(var h=0;h<d.length;h++){var k=d[h].fontfamily;void 0!=d[h].fontStyle&&void 0!=d[h].fontWeight?(l=d[h].fontStyle+d[h].fontWeight,g.push(new E(k,l))):g.push(new E(k))}a(g)}else setTimeout(function(){b()},50)}var c=this.c.projectId,d=this.c.version;if(c){var e=this.a.k;y(this.a,this.B(c,d),function(c){c?a([]):b()}).id="__MonotypeAPIScript__"+c}else a([])};function Aa(a,b){this.a=a;this.c=b}Aa.prototype.load=function(a){var b,c,d=this.c.urls||[],e=this.c.families||[],f=this.c.testStrings||{},g=new z;b=0;for(c=d.length;b<c;b++)x(this.a,d[b],A(g));var l=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(":"),d[1])for(var h=d[1].split(","),k=0;k<h.length;k+=1)l.push(new E(d[0],h[k]));else l.push(new E(d[0]));C(g,function(){a(l,f)})};var Z=new na(window);Z.q.t.custom=function(a,b){return new Aa(b,a)};Z.q.t.fontdeck=function(a,b){return new W(b,a)};Z.q.t.monotype=function(a,b){return new Y(b,a)};Z.q.t.typekit=function(a,b){return new X(b,a)};Z.q.t.google=function(a,b){return new ya(b,a)};var $={load:n(Z.load,Z)};"function"===typeof define&&define.amd?define(function(){return $}):"undefined"!==typeof module&&module.exports?module.exports=$:(window.WebFont=$,window.WebFontConfig&&Z.load(window.WebFontConfig));}());function wpgmp_set_consent_cookies(){wpgmp_set_cookie('wpgmp_show_map',"yes",wpgmp_flocal.days_to_remember);window.location.reload();}
function wpgmp_set_noconsent_cookies(){wpgmp_set_cookie('wpgmp_show_map',"no",wpgmp_flocal.days_to_remember);window.location.reload();}
function wpgmp_get_cookie(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1);}
if(c.indexOf(name)==0){return c.substring(name.length,c.length);}}
return null;}
function wpgmp_set_cookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires+"; path=/";};
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('7 8(a){a=a||{};r.s.1R.2k(2,3d);2.Q=a.1v||"";2.1H=a.1B||J;2.S=a.1G||0;2.H=a.1z||1h r.s.1Y(0,0);2.B=a.U||1h r.s.2E(0,0);2.15=a.13||t;2.1p=a.1t||"2h";2.1m=a.F||{};2.1E=a.1C||"3g";2.P=a.1j||"3b://38.r.33/2Y/2T/2N/1r.2K";3(a.1j===""){2.P=""}2.1f=a.1x||1h r.s.1Y(1,1);3(q a.A==="p"){3(q a.18==="p"){a.A=L}v{a.A=!a.18}}2.w=!a.A;2.17=a.1n||J;2.1I=a.2g||"2e";2.16=a.1l||J;2.4=t;2.z=t;2.14=t;2.V=t;2.E=t;2.R=t}8.9=1h r.s.1R();8.9.25=7(){5 i;5 f;5 a;5 d=2;5 c=7(e){e.20=L;3(e.1i){e.1i()}};5 b=7(e){e.30=J;3(e.1Z){e.1Z()}3(!d.16){c(e)}};3(!2.4){2.4=1e.2S("2Q");2.1d();3(q 2.Q.1u==="p"){2.4.O=2.G()+2.Q}v{2.4.O=2.G();2.4.1a(2.Q)}2.2J()[2.1I].1a(2.4);2.1w();3(2.4.6.D){2.R=L}v{3(2.S!==0&&2.4.Z>2.S){2.4.6.D=2.S;2.4.6.2D="2A";2.R=L}v{a=2.1P();2.4.6.D=(2.4.Z-a.W-a.11)+"12";2.R=J}}2.1F(2.1H);3(!2.16){2.E=[];f=["2t","1O","2q","2p","1M","2o","2n","2m","2l"];1o(i=0;i<f.1L;i++){2.E.1K(r.s.u.19(2.4,f[i],c))}2.E.1K(r.s.u.19(2.4,"1O",7(e){2.6.1J="2j"}))}2.V=r.s.u.19(2.4,"2i",b);r.s.u.T(2,"2f")}};8.9.G=7(){5 a="";3(2.P!==""){a="<2d";a+=" 2c=\'"+2.P+"\'";a+=" 2b=11";a+=" 6=\'";a+=" U: 2a;";a+=" 1J: 29;";a+=" 28: "+2.1E+";";a+="\'>"}K a};8.9.1w=7(){5 a;3(2.P!==""){a=2.4.3n;2.z=r.s.u.19(a,"1M",2.27())}v{2.z=t}};8.9.27=7(){5 a=2;K 7(e){e.20=L;3(e.1i){e.1i()}r.s.u.T(a,"3m");a.1r()}};8.9.1F=7(d){5 m;5 n;5 e=0,I=0;3(!d){m=2.1D();3(m 3l r.s.3k){3(!m.26().3h(2.B)){m.3f(2.B)}n=m.26();5 a=m.3e();5 h=a.Z;5 f=a.24;5 k=2.H.D;5 l=2.H.1k;5 g=2.4.Z;5 b=2.4.24;5 i=2.1f.D;5 j=2.1f.1k;5 o=2.23().3c(2.B);3(o.x<(-k+i)){e=o.x+k-i}v 3((o.x+g+k+i)>h){e=o.x+g+k+i-h}3(2.17){3(o.y<(-l+j+b)){I=o.y+l-j-b}v 3((o.y+l+j)>f){I=o.y+l+j-f}}v{3(o.y<(-l+j)){I=o.y+l-j}v 3((o.y+b+l+j)>f){I=o.y+b+l+j-f}}3(!(e===0&&I===0)){5 c=m.3a();m.39(e,I)}}}};8.9.1d=7(){5 i,F;3(2.4){2.4.37=2.1p;2.4.6.36="";F=2.1m;1o(i 35 F){3(F.34(i)){2.4.6[i]=F[i]}}2.4.6.32="31(0)";3(q 2.4.6.X!=="p"&&2.4.6.X!==""){2.4.6.2Z="\\"2X:2W.2V.2U(2R="+(2.4.6.X*1X)+")\\"";2.4.6.2P="2O(X="+(2.4.6.X*1X)+")"}2.4.6.U="2M";2.4.6.M=\'1c\';3(2.15!==t){2.4.6.13=2.15}}};8.9.1P=7(){5 c;5 a={1b:0,1g:0,W:0,11:0};5 b=2.4;3(1e.1s&&1e.1s.1W){c=b.2L.1s.1W(b,"");3(c){a.1b=C(c.1V,10)||0;a.1g=C(c.1U,10)||0;a.W=C(c.1T,10)||0;a.11=C(c.1S,10)||0}}v 3(1e.2I.N){3(b.N){a.1b=C(b.N.1V,10)||0;a.1g=C(b.N.1U,10)||0;a.W=C(b.N.1T,10)||0;a.11=C(b.N.1S,10)||0}}K a};8.9.2H=7(){3(2.4){2.4.2G.2F(2.4);2.4=t}};8.9.1y=7(){2.25();5 a=2.23().2C(2.B);2.4.6.W=(a.x+2.H.D)+"12";3(2.17){2.4.6.1g=-(a.y+2.H.1k)+"12"}v{2.4.6.1b=(a.y+2.H.1k)+"12"}3(2.w){2.4.6.M="1c"}v{2.4.6.M="A"}};8.9.2B=7(a){3(q a.1t!=="p"){2.1p=a.1t;2.1d()}3(q a.F!=="p"){2.1m=a.F;2.1d()}3(q a.1v!=="p"){2.1Q(a.1v)}3(q a.1B!=="p"){2.1H=a.1B}3(q a.1G!=="p"){2.S=a.1G}3(q a.1z!=="p"){2.H=a.1z}3(q a.1n!=="p"){2.17=a.1n}3(q a.U!=="p"){2.1q(a.U)}3(q a.13!=="p"){2.22(a.13)}3(q a.1C!=="p"){2.1E=a.1C}3(q a.1j!=="p"){2.P=a.1j}3(q a.1x!=="p"){2.1f=a.1x}3(q a.18!=="p"){2.w=a.18}3(q a.A!=="p"){2.w=!a.A}3(q a.1l!=="p"){2.16=a.1l}3(2.4){2.1y()}};8.9.1Q=7(a){2.Q=a;3(2.4){3(2.z){r.s.u.Y(2.z);2.z=t}3(!2.R){2.4.6.D=""}3(q a.1u==="p"){2.4.O=2.G()+a}v{2.4.O=2.G();2.4.1a(a)}3(!2.R){2.4.6.D=2.4.Z+"12";3(q a.1u==="p"){2.4.O=2.G()+a}v{2.4.O=2.G();2.4.1a(a)}}2.1w()}r.s.u.T(2,"2z")};8.9.1q=7(a){2.B=a;3(2.4){2.1y()}r.s.u.T(2,"21")};8.9.22=7(a){2.15=a;3(2.4){2.4.6.13=a}r.s.u.T(2,"2y")};8.9.2x=7(a){2.w=!a;3(2.4){2.4.6.M=(2.w?"1c":"A")}};8.9.2w=7(){K 2.Q};8.9.1A=7(){K 2.B};8.9.2v=7(){K 2.15};8.9.2u=7(){5 a;3((q 2.1D()==="p")||(2.1D()===t)){a=J}v{a=!2.w}K a};8.9.3i=7(){2.w=J;3(2.4){2.4.6.M="A"}};8.9.3j=7(){2.w=L;3(2.4){2.4.6.M="1c"}};8.9.2s=7(c,b){5 a=2;3(b){2.B=b.1A();2.14=r.s.u.2r(b,"21",7(){a.1q(2.1A())})}2.1N(c);3(2.4){2.1F()}};8.9.1r=7(){5 i;3(2.z){r.s.u.Y(2.z);2.z=t}3(2.E){1o(i=0;i<2.E.1L;i++){r.s.u.Y(2.E[i])}2.E=t}3(2.14){r.s.u.Y(2.14);2.14=t}3(2.V){r.s.u.Y(2.V);2.V=t}2.1N(t)};',62,210,'||this|if|div_|var|style|function|InfoBox|prototype||||||||||||||||undefined|typeof|google|maps|null|event|else|isHidden_|||closeListener_|visible|position_|parseInt|width|eventListeners_|boxStyle|getCloseBoxImg_|pixelOffset_|yOffset|false|return|true|visibility|currentStyle|innerHTML|closeBoxURL_|content_|fixedWidthSet_|maxWidth_|trigger|position|contextListener_|left|opacity|removeListener|offsetWidth||right|px|zIndex|moveListener_|zIndex_|enableEventPropagation_|alignBottom_|isHidden|addDomListener|appendChild|top|hidden|setBoxStyle_|document|infoBoxClearance_|bottom|new|stopPropagation|closeBoxURL|height|enableEventPropagation|boxStyle_|alignBottom|for|boxClass_|setPosition|close|defaultView|boxClass|nodeType|content|addClickHandler_|infoBoxClearance|draw|pixelOffset|getPosition|disableAutoPan|closeBoxMargin|getMap|closeBoxMargin_|panBox_|maxWidth|disableAutoPan_|pane_|cursor|push|length|click|setMap|mouseover|getBoxWidths_|setContent|OverlayView|borderRightWidth|borderLeftWidth|borderBottomWidth|borderTopWidth|getComputedStyle|100|Size|preventDefault|cancelBubble|position_changed|setZIndex|getProjection|offsetHeight|createInfoBoxDiv_|getBounds|getCloseClickHandler_|margin|pointer|relative|align|src|img|floatPane|domready|pane|infoBox|contextmenu|default|apply|touchmove|touchend|touchstart|dblclick|mouseup|mouseout|addListener|open|mousedown|getVisible|getZIndex|getContent|setVisible|zindex_changed|content_changed|auto|setOptions|fromLatLngToDivPixel|overflow|LatLng|removeChild|parentNode|onRemove|documentElement|getPanes|gif|ownerDocument|absolute|mapfiles|alpha|filter|div|Opacity|createElement|en_us|Alpha|Microsoft|DXImageTransform|progid|intl|MsFilter|returnValue|translateZ|WebkitTransform|com|hasOwnProperty|in|cssText|className|www|panBy|getCenter|http|fromLatLngToContainerPixel|arguments|getDiv|setCenter|2px|contains|show|hide|Map|instanceof|closeclick|firstChild'.split('|'),0,{}));
